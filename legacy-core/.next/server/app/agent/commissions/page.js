(()=>{var e={};e.id=7817,e.ids=[7817],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},46145:e=>{"use strict";e.exports=require("@supabase/supabase-js")},14300:e=>{"use strict";e.exports=require("buffer")},29102:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),r(4943),r(1409),r(48385),r(12523);var a=r(23191),t=r(88716),i=r(37922),n=r.n(i),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let c=["",{children:["agent",{children:["commissions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4943)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\agent\\commissions\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1409)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\agent\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,48385)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\agent\\commissions\\page.tsx"],m="/agent/commissions/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/agent/commissions/page",pathname:"/agent/commissions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},21118:(e,s,r)=>{Promise.resolve().then(r.bind(r,64329))},58408:(e,s,r)=>{Promise.resolve().then(r.bind(r,72239))},12969:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(76557).Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},88307:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},91470:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(76557).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},64329:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>E});var a=r(10326),t=r(17577),i=r(91664),n=r(29752),o=r(34009),l=r(69701),c=r(50384),d=r(29280),m=r(41156),u=r(30660),x=r(96601),f=r(8564),h=r(62637),p=r(9997),g=r(11327),b=(0,x.z)({chartName:"BarChart",GraphicalChild:f.$,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:h.K},{axisType:"yAxis",AxisComp:p.B}],formatAxisMap:g.t9}),y=r(18423),j=r(44675),v=r(20751),N=r(78948),w=r(99630),C=r(69274),_=r(37202),k=r(88307),P=r(91470);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let A=(0,r(76557).Z)("FileClock",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"37hlfg"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}],["path",{d:"M9.5 17.5 8 16.25V14",key:"1o80t2"}]]);var R=r(31540),S=r(12969),D=r(41190),M=r(38443);let T={PENDING:"Pending",PAID:"Paid",PROCESSING:"Processing",CHARGEBACK:"Chargeback"};function E(){let{role:e,loading:s}=(0,o.q)(),[r,x]=(0,t.useState)([]),[g,M]=(0,t.useState)([]),[E,z]=(0,t.useState)(!0),[F,Z]=(0,t.useState)(null),[$,q]=(0,t.useState)("month"),[U,V]=(0,t.useState)("all"),[B,G]=(0,t.useState)("all"),[L,K]=(0,t.useState)(""),[Y,O]=(0,t.useState)({field:"payment_date",direction:"desc"}),W=(0,l.e)(),[Q,H]=(0,t.useState)({totalEarnings:0,paidCommissions:0,pendingCommissions:0,chargebacks:0,carrierBreakdown:[],monthlyTrend:[]}),J=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),X=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",ee=async()=>{try{z(!0);let{data:{session:e}}=await W.auth.getSession();if(!e){Z("Please log in to view your commission data"),z(!1);return}console.log("Fetching commission data for user:",e.user.id);let{data:s,error:r}=await W.from("agent_applications").select("*").eq("agent_id",e.user.id).order("created_at",{ascending:!1});if(r){console.error("Error fetching applications data:",r),Z("Failed to load applications data. Please try again later."),z(!1);return}console.log(`Found ${s?.length||0} applications`);let{data:a,error:t}=await W.from("commissions").select("*, policy_id").eq("agent_id",e.user.id).order("payment_date",{ascending:!1});t&&console.error("Error fetching commission data:",t),console.log(`Found ${a?.length||0} commission records`);let i=[];if(s&&s.length>0){console.log("Processing applications to generate commission data");let e=new Map;a&&a.length>0&&a.forEach(s=>{s.policy_id&&e.set(s.policy_id,s)}),s.forEach(s=>{if(!("Approved"===s.status||"1st Month Paid"===s.status||"Live"===s.status||"Paid"===s.status)&&!s.is_chargeback)return;let r=e.get(s.id);if(r){i.push({id:r.id,carrier:s.carrier||r.carrier||"Unknown Carrier",client_name:s.proposed_insured||r.client_name||"Unknown Client",policy_number:s.policy_number||r.policy_number||"",product:s.product||r.product||"Unknown Product",premium:Number(s.monthly_premium)||Number(r.premium)||0,commission_amount:Math.abs(Number(r.amount))||0,commission_percentage:Number(s.commission_percentage)||20,commission_split_percentage:Number(s.commission_split_percentage)||20,payment_date:r.payment_date||s.effective_policy_date||s.created_at,status:r.status||(s.is_chargeback?T.CHARGEBACK:"Paid"===s.paid_status?T.PAID:T.PENDING),payout_date:r.payout_date||s.effective_policy_date||null,is_chargeback:"CLAWBACK"===r.status||s.is_chargeback||!1,notes:r.notes||s.notes||null});return}let a=Number(s.monthly_premium)||0;if(a<=0)return;let t=Number(s.commission_split_percentage)||20,n=0;if(s.commission_amount&&Number(s.commission_amount)>0)n=Number(s.commission_amount);else{let e=9*a;n=1.05*e*(1-t/100)}let o=s.is_chargeback||!1,l=T.PENDING;o?l=T.CHARGEBACK:("Paid"===s.paid_status||"Approved"===s.status||"1st Month Paid"===s.status)&&(l=T.PAID),i.push({id:`app-${s.id}`,carrier:s.carrier||"Unknown Carrier",client_name:s.proposed_insured||"Unknown Client",policy_number:s.policy_number||`POL-${s.id.substring(0,6)}`,product:s.product||"Unknown Product",premium:a,commission_amount:n,commission_percentage:100,commission_split_percentage:t,payment_date:s.effective_policy_date||s.created_at,status:l,payout_date:l===T.PAID?s.effective_policy_date||s.created_at:null,is_chargeback:o,notes:s.notes||(o?"Chargeback":null)})})}i.length,i.sort((e,s)=>new Date(s.payment_date).getTime()-new Date(e.payment_date).getTime()),x(i),M(i);let n=es(i);H(n),z(!1)}catch(e){console.error("Error in fetchCommissionData:",e),Z("Failed to load commission data. Please try again later."),z(!1)}},es=e=>{let s=e.reduce((e,s)=>s.is_chargeback?e:e+s.commission_amount,0),r=e.reduce((e,s)=>s.status===T.PAID?e+s.commission_amount:e,0),a=e.reduce((e,s)=>s.status===T.PENDING?e+s.commission_amount:e,0),t=e.reduce((e,s)=>s.is_chargeback?e+s.commission_amount:e,0),i=[],n=new Date,o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(let s=11;s>=0;s--){let r=new Date(n.getFullYear(),n.getMonth()-s,1),a=o[r.getMonth()],t=r.getFullYear(),l=`${a} ${t}`,c=e.reduce((e,s)=>{if(s.is_chargeback)return e;let a=new Date(s.payment_date);return a.getMonth()===r.getMonth()&&a.getFullYear()===r.getFullYear()?e+s.commission_amount:e},0);i.push({month:l,amount:Math.round(c)})}let l=new Map;e.forEach(e=>{if(!e.is_chargeback){let s=(e.carrier||"Unknown").toUpperCase(),r=l.get(s)||0;l.set(s,r+e.commission_amount)}});let c=Array.from(l.entries()).map(([e,s])=>({name:e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "),value:Math.round(s)}));return c.sort((e,s)=>s.value-e.value),{totalEarnings:Math.round(s),paidCommissions:Math.round(r),pendingCommissions:Math.round(a),chargebacks:Math.round(t),carrierBreakdown:c,monthlyTrend:i}},er=e=>{O(s=>({field:e,direction:s.field===e&&"asc"===s.direction?"desc":"asc"}))},ea=Array.from(new Set(r.map(e=>(e.carrier||"Unknown").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")))).sort();return E||s?a.jsx("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mb-3"}),a.jsx("p",{className:"text-gray-600",children:"Loading commission data..."})]})}):F?a.jsx("div",{className:"flex h-screen flex-col items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center max-w-md p-6 bg-white rounded-lg shadow-md",children:[a.jsx(_.Z,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("p",{className:"text-red-500 text-lg font-medium mb-4",children:F}),a.jsx(i.z,{onClick:()=>window.location.reload(),children:"Retry"})]})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsx(n.Zb,{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-blue-200",children:a.jsx(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[a.jsx("div",{className:"text-blue-500 text-sm font-medium",children:"Total Earnings"}),(0,a.jsxs)("div",{className:"text-3xl font-bold",children:["$",Math.round(Q.totalEarnings).toLocaleString()]}),a.jsx("div",{className:"text-gray-500 text-xs",children:"After upline split"})]})})}),a.jsx(n.Zb,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:a.jsx(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[a.jsx("div",{className:"text-green-600 text-sm font-medium",children:"Paid Commissions"}),(0,a.jsxs)("div",{className:"text-3xl font-bold",children:["$",Math.round(Q.paidCommissions).toLocaleString()]}),a.jsx("div",{className:"text-gray-500 text-xs",children:"Total paid amount"})]})})}),a.jsx(n.Zb,{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border-amber-200",children:a.jsx(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[a.jsx("div",{className:"text-amber-600 text-sm font-medium",children:"Pending"}),(0,a.jsxs)("div",{className:"text-3xl font-bold",children:["$",Math.round(Q.pendingCommissions).toLocaleString()]}),a.jsx("div",{className:"text-gray-500 text-xs",children:"Awaiting payment"})]})})}),a.jsx(n.Zb,{className:"bg-gradient-to-br from-red-50 to-rose-50 border-red-200",children:a.jsx(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[a.jsx("div",{className:"text-red-600 text-sm font-medium",children:"Chargebacks"}),(0,a.jsxs)("div",{className:"text-3xl font-bold",children:["$",Math.round(Q.chargebacks).toLocaleString()]}),a.jsx("div",{className:"text-gray-500 text-xs",children:"Total chargeback amount"})]})})})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Monthly Earnings Trend"}),a.jsx(n.SZ,{children:"Your commission earnings over the last 12 months"})]}),a.jsx(n.aY,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(u.h,{width:"100%",height:"100%",children:(0,a.jsxs)(b,{data:Q.monthlyTrend,margin:{top:10,right:10,left:10,bottom:20},children:[a.jsx(y.q,{strokeDasharray:"3 3",vertical:!1}),a.jsx(h.K,{dataKey:"month",tick:{fontSize:12},tickMargin:10}),a.jsx(p.B,{tick:{fontSize:12},tickFormatter:e=>`$${e}`}),a.jsx(j.u,{formatter:e=>[`$${Number(e).toLocaleString()}`,"Commission Amount"],labelFormatter:e=>`Month: ${e}`}),a.jsx(f.$,{dataKey:"amount",fill:"#4f46e5",name:"Commission Amount",radius:[4,4,0,0]})]})})})})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Carrier Breakdown"}),a.jsx(n.SZ,{children:"Commission distribution by carrier"})]}),a.jsx(n.aY,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(u.h,{width:"100%",height:"100%",children:(0,a.jsxs)(v.u,{children:[a.jsx(N.b,{data:Q.carrierBreakdown,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:({name:e,percent:s})=>`${e}: ${(100*s).toFixed(0)}%`,labelLine:!1,children:Q.carrierBreakdown.map((e,s)=>{let r=["#4f46e5","#10b981","#fbbf24","#ef4444","#06b6d4","#8b5cf6"];return a.jsx(w.b,{fill:r[s%r.length]},`cell-${s}`)})}),a.jsx(C.D,{verticalAlign:"bottom",formatter:(e,s,r)=>{let a=Q.carrierBreakdown[r];return`${e}: ${J(a.value)}`}}),a.jsx(j.u,{formatter:e=>[J(Number(e)),"Commission Amount"],itemStyle:{color:"#374151"}})]})})})})]})]}),(0,a.jsxs)(n.Zb,{className:"border-0 shadow-lg",children:[a.jsx(n.Ol,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[(0,a.jsxs)("div",{children:[a.jsx(n.ll,{children:"Commission Records"}),(0,a.jsxs)(n.SZ,{className:"mt-1",children:[g.length," ",1===g.length?"record":"records"," found"]})]}),(0,a.jsxs)("div",{className:"flex items-center mt-4 sm:mt-0",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(k.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400"}),a.jsx(D.I,{type:"text",placeholder:"Search records...",className:"pl-9 w-64",value:L,onChange:e=>K(e.target.value)})]}),a.jsx(i.z,{variant:"outline",size:"icon",className:"ml-2",onClick:()=>K(""),children:a.jsx(P.Z,{className:"h-4 w-4"})}),(0,a.jsxs)(i.z,{variant:"outline",className:"ml-2",onClick:()=>ee(),children:[a.jsx(A,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})}),(0,a.jsxs)("div",{className:"px-6 pt-6 pb-2 border-b",children:[a.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:a.jsx(c.mQ,{defaultValue:"all",className:"w-full",onValueChange:e=>{switch(e){case"all":case"week":case"month":case"quarter":case"year":q(e)}},children:(0,a.jsxs)(c.dr,{className:"grid grid-cols-5 mb-4",children:[a.jsx(c.SP,{value:"all",children:"All Time"}),a.jsx(c.SP,{value:"week",children:"This Week"}),a.jsx(c.SP,{value:"month",children:"This Month"}),a.jsx(c.SP,{value:"quarter",children:"This Quarter"}),a.jsx(c.SP,{value:"year",children:"This Year"})]})})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[a.jsx("div",{className:"w-full sm:w-48",children:(0,a.jsxs)(d.Ph,{value:U,onValueChange:V,children:[a.jsx(d.i4,{children:a.jsx(d.ki,{placeholder:"All Carriers"})}),(0,a.jsxs)(d.Bw,{children:[a.jsx(d.Ql,{value:"all",children:"All Carriers"}),ea.map(e=>a.jsx(d.Ql,{value:e,children:e},e))]})]})}),a.jsx("div",{className:"w-full sm:w-48",children:(0,a.jsxs)(d.Ph,{value:B,onValueChange:G,children:[a.jsx(d.i4,{children:a.jsx(d.ki,{placeholder:"All Statuses"})}),(0,a.jsxs)(d.Bw,{children:[a.jsx(d.Ql,{value:"all",children:"All Statuses"}),a.jsx(d.Ql,{value:T.PAID,children:"Paid"}),a.jsx(d.Ql,{value:T.PENDING,children:"Pending"}),a.jsx(d.Ql,{value:T.PROCESSING,children:"Processing"}),a.jsx(d.Ql,{value:T.CHARGEBACK,children:"Chargebacks"})]})]})}),a.jsx("div",{className:"flex-1 flex justify-end",children:(0,a.jsxs)(i.z,{variant:"outline",children:[a.jsx(R.Z,{className:"mr-2 h-4 w-4"}),"Export"]})})]})]}),a.jsx(n.aY,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)(m.iA,{children:[a.jsx(m.xD,{children:(0,a.jsxs)(m.SC,{children:[a.jsx(m.ss,{className:"w-[180px]",children:(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",className:"text-xs font-semibold",onClick:()=>er("payment_date"),children:["Date",a.jsx(S.Z,{className:"ml-2 h-3 w-3"})]})}),a.jsx(m.ss,{children:(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",className:"text-xs font-semibold",onClick:()=>er("client_name"),children:["Client",a.jsx(S.Z,{className:"ml-2 h-3 w-3"})]})}),a.jsx(m.ss,{children:(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",className:"text-xs font-semibold",onClick:()=>er("carrier"),children:["Carrier",a.jsx(S.Z,{className:"ml-2 h-3 w-3"})]})}),a.jsx(m.ss,{children:(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",className:"text-xs font-semibold",onClick:()=>er("product"),children:["Product",a.jsx(S.Z,{className:"ml-2 h-3 w-3"})]})}),a.jsx(m.ss,{className:"text-right",children:(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",className:"text-xs font-semibold",onClick:()=>er("premium"),children:["Premium",a.jsx(S.Z,{className:"ml-2 h-3 w-3"})]})}),a.jsx(m.ss,{className:"text-right",children:(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",className:"text-xs font-semibold",onClick:()=>er("commission_amount"),children:["Commission",a.jsx(S.Z,{className:"ml-2 h-3 w-3"})]})}),a.jsx(m.ss,{children:(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",className:"text-xs font-semibold",onClick:()=>er("status"),children:["Status",a.jsx(S.Z,{className:"ml-2 h-3 w-3"})]})}),a.jsx(m.ss,{children:(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",className:"text-xs font-semibold",onClick:()=>er("payout_date"),children:["Payout Date",a.jsx(S.Z,{className:"ml-2 h-3 w-3"})]})})]})}),a.jsx(m.RM,{children:g.length>0?g.map(e=>(0,a.jsxs)(m.SC,{className:e.is_chargeback?"bg-red-50":"",children:[a.jsx(m.pj,{className:"font-medium",children:X(e.payment_date)}),(0,a.jsxs)(m.pj,{children:[a.jsx("div",{className:"font-medium",children:e.client_name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["#",e.policy_number]})]}),a.jsx(m.pj,{children:e.carrier}),a.jsx(m.pj,{children:e.product}),(0,a.jsxs)(m.pj,{className:"text-right",children:["$",e.premium,"/mo"]}),(0,a.jsxs)(m.pj,{className:"text-right font-medium",children:["$",Math.round(e.commission_amount)]}),a.jsx(m.pj,{children:a.jsx(I,{status:e.status})}),a.jsx(m.pj,{children:X(e.payout_date)})]},e.id)):a.jsx(m.SC,{children:a.jsx(m.pj,{colSpan:8,className:"h-24 text-center",children:"No commission records found matching your filters"})})})]})})}),(0,a.jsxs)(n.eW,{className:"flex justify-between items-center border-t py-4 bg-gray-50",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing ",g.length," of ",r.length," records"]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(i.z,{variant:"outline",size:"sm",className:"text-xs mr-2",disabled:!0,children:"Previous"}),a.jsx(i.z,{variant:"outline",size:"sm",className:"text-xs",disabled:!0,children:"Next"})]})]})]}),(0,a.jsxs)(n.Zb,{className:"border-0 shadow-md",children:[a.jsx(n.Ol,{className:"bg-gradient-to-r from-slate-50 to-slate-100 border-b",children:a.jsx(n.ll,{className:"text-slate-700",children:"Commission Policies"})}),(0,a.jsxs)(n.aY,{className:"pt-6 prose prose-sm max-w-none",children:[a.jsx("p",{children:"Your commissions are calculated based on the following guidelines:"}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[a.jsx("span",{className:"font-medium",children:"Final Expense Policies:"})," Carriers typically pay a 75-100% first-year commission on the annual premium, with renewal commissions ranging from 5-10% in subsequent years."]}),(0,a.jsxs)("li",{children:[a.jsx("span",{className:"font-medium",children:"Term Life Insurance:"})," First-year commissions typically range from 50-90% of the first-year premium, with 2-5% renewals in subsequent years."]}),(0,a.jsxs)("li",{children:[a.jsx("span",{className:"font-medium",children:"Whole Life Insurance:"})," First-year commissions generally range from 55-95% of the first-year premium, with renewals of 3-10% depending on the carrier and product."]}),(0,a.jsxs)("li",{children:[a.jsx("span",{className:"font-medium",children:"Chargebacks:"})," If a client cancels their policy during the first 9-12 months, the carrier will typically request a full or pro-rated refund of the commission advanced."]}),(0,a.jsxs)("li",{children:[a.jsx("span",{className:"font-medium",children:"Advance Commission:"})," Most carriers offer 9-month to 12-month advance commission options, subject to your contract terms and performance requirements."]}),(0,a.jsxs)("li",{children:[a.jsx("span",{className:"font-medium",children:"Payment Timeline:"})," Commissions are typically processed within 7-14 days after policy issuance and receipt of the first premium payment."]})]}),a.jsx("p",{children:"For specific questions about your commission structure or payment schedules for specific carriers, please contact your manager or review your carrier contract terms."})]})]})]})}let I=({status:e})=>{switch(e){case T.PAID:return a.jsx(M.C,{className:"bg-green-100 text-green-800 border border-green-200 hover:bg-green-100",children:"Paid"});case T.PENDING:return a.jsx(M.C,{className:"bg-yellow-100 text-yellow-800 border border-yellow-200 hover:bg-yellow-100",children:"Pending"});case T.PROCESSING:return a.jsx(M.C,{className:"bg-blue-100 text-blue-800 border border-blue-200 hover:bg-blue-100",children:"Processing"});case T.CHARGEBACK:return a.jsx(M.C,{className:"bg-red-100 text-red-800 border border-red-200 hover:bg-red-100",children:"Chargeback"});default:return a.jsx(M.C,{className:"bg-gray-100 text-gray-800 border border-gray-200 hover:bg-gray-100",children:e})}}},72239:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var a=r(10326);r(17577);var t=r(37711),i=r(35047),n=r(34009);function o({children:e}){let{role:s,loading:r}=(0,n.q)();return r?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):"agent"!==s&&"admin"!==s&&"manager"!==s?(console.log("AgentLayout: Unauthorized role, redirecting to login"),(0,i.redirect)("/login"),null):a.jsx(t.M,{children:a.jsx("div",{className:"h-full",children:e})})}},38443:(e,s,r)=>{"use strict";r.d(s,{C:()=>o});var a=r(10326);r(17577);var t=r(79360),i=r(51223);let n=(0,t.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function o({className:e,variant:s,...r}){return a.jsx("div",{className:(0,i.cn)(n({variant:s}),e),...r})}},29752:(e,s,r)=>{"use strict";r.d(s,{Ol:()=>o,SZ:()=>c,Zb:()=>n,aY:()=>d,eW:()=>m,ll:()=>l});var a=r(10326),t=r(17577),i=r(51223);let n=t.forwardRef(({className:e,...s},r)=>a.jsx("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let o=t.forwardRef(({className:e,...s},r)=>a.jsx("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));o.displayName="CardHeader";let l=t.forwardRef(({className:e,...s},r)=>a.jsx("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let c=t.forwardRef(({className:e,...s},r)=>a.jsx("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let d=t.forwardRef(({className:e,...s},r)=>a.jsx("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent";let m=t.forwardRef(({className:e,...s},r)=>a.jsx("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s}));m.displayName="CardFooter"},41190:(e,s,r)=>{"use strict";r.d(s,{I:()=>n});var a=r(10326),t=r(17577),i=r(51223);let n=t.forwardRef(({className:e,type:s,...r},t)=>a.jsx("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));n.displayName="Input"},29280:(e,s,r)=>{"use strict";r.d(s,{Bw:()=>x,DI:()=>d,Ph:()=>c,Ql:()=>h,i4:()=>u,ki:()=>m,n5:()=>f});var a=r(10326),t=r(17577),i=r(18251),n=r(941),o=r(32933),l=r(51223);let c=i.fC,d=i.ZA,m=i.B4,u=t.forwardRef(({className:e,children:s,...r},t)=>(0,a.jsxs)(i.xz,{ref:t,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:[s,a.jsx(i.JO,{asChild:!0,children:a.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=i.xz.displayName;let x=t.forwardRef(({className:e,children:s,position:r="popper",...t},n)=>a.jsx(i.h_,{children:a.jsx(i.VY,{ref:n,className:(0,l.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...t,children:a.jsx(i.l_,{className:(0,l.cn)("p-1 bg-white","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s})})}));x.displayName=i.VY.displayName;let f=t.forwardRef(({className:e,...s},r)=>a.jsx(i.__,{ref:r,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s}));f.displayName=i.__.displayName;let h=t.forwardRef(({className:e,children:s,...r},t)=>(0,a.jsxs)(i.ck,{ref:t,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(o.Z,{className:"h-4 w-4"})})}),a.jsx(i.eT,{children:s})]}));h.displayName=i.ck.displayName,t.forwardRef(({className:e,...s},r)=>a.jsx(i.Z0,{ref:r,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=i.Z0.displayName},41156:(e,s,r)=>{"use strict";r.d(s,{RM:()=>l,SC:()=>c,iA:()=>n,pj:()=>m,ss:()=>d,xD:()=>o});var a=r(10326),t=r(17577),i=r(51223);let n=t.forwardRef(({className:e,...s},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:(0,i.cn)("w-full caption-bottom text-sm",e),...s})}));n.displayName="Table";let o=t.forwardRef(({className:e,...s},r)=>a.jsx("thead",{ref:r,className:(0,i.cn)("[&_tr]:border-b",e),...s}));o.displayName="TableHeader";let l=t.forwardRef(({className:e,...s},r)=>a.jsx("tbody",{ref:r,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...s}));l.displayName="TableBody",t.forwardRef(({className:e,...s},r)=>a.jsx("tfoot",{ref:r,className:(0,i.cn)("bg-primary font-medium text-primary-foreground",e),...s})).displayName="TableFooter";let c=t.forwardRef(({className:e,...s},r)=>a.jsx("tr",{ref:r,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));c.displayName="TableRow";let d=t.forwardRef(({className:e,...s},r)=>a.jsx("th",{ref:r,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));d.displayName="TableHead";let m=t.forwardRef(({className:e,...s},r)=>a.jsx("td",{ref:r,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));m.displayName="TableCell",t.forwardRef(({className:e,...s},r)=>a.jsx("caption",{ref:r,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"},50384:(e,s,r)=>{"use strict";r.d(s,{SP:()=>c,dr:()=>l,mQ:()=>o,nU:()=>d});var a=r(10326),t=r(17577),i=r(28407),n=r(51223);let o=i.fC,l=t.forwardRef(({className:e,...s},r)=>a.jsx(i.aV,{ref:r,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));l.displayName=i.aV.displayName;let c=t.forwardRef(({className:e,...s},r)=>a.jsx(i.xz,{ref:r,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));c.displayName=i.xz.displayName;let d=t.forwardRef(({className:e,...s},r)=>a.jsx(i.VY,{ref:r,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));d.displayName=i.VY.displayName},4943:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var a=r(68570);let t=(0,a.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\agent\commissions\page.tsx`),{__esModule:i,$$typeof:n}=t;t.default;let o=(0,a.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\agent\commissions\page.tsx#default`)},1409:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var a=r(68570);let t=(0,a.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\agent\layout.tsx`),{__esModule:i,$$typeof:n}=t;t.default;let o=(0,a.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\agent\layout.tsx#default`)},15594:(e,s,r)=>{"use strict";r.d(s,{Pc:()=>v,ck:()=>D,fC:()=>S});var a=r(17577),t=r(82561),i=r(73866),n=r(48051),o=r(93095),l=r(88957),c=r(77335),d=r(55049),m=r(52067),u=r(17124),x=r(10326),f="rovingFocusGroup.onEntryFocus",h={bubbles:!1,cancelable:!0},p="RovingFocusGroup",[g,b,y]=(0,i.B)(p),[j,v]=(0,o.b)(p,[y]),[N,w]=j(p),C=a.forwardRef((e,s)=>(0,x.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,x.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,x.jsx)(_,{...e,ref:s})})}));C.displayName=p;var _=a.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:r,orientation:i,loop:o=!1,dir:l,currentTabStopId:g,defaultCurrentTabStopId:y,onCurrentTabStopIdChange:j,onEntryFocus:v,preventScrollOnEntryFocus:w=!1,...C}=e,_=a.useRef(null),k=(0,n.e)(s,_),P=(0,u.gm)(l),[A,S]=(0,m.T)({prop:g,defaultProp:y??null,onChange:j,caller:p}),[D,M]=a.useState(!1),T=(0,d.W)(v),E=b(r),I=a.useRef(!1),[z,F]=a.useState(0);return a.useEffect(()=>{let e=_.current;if(e)return e.addEventListener(f,T),()=>e.removeEventListener(f,T)},[T]),(0,x.jsx)(N,{scope:r,orientation:i,dir:P,loop:o,currentTabStopId:A,onItemFocus:a.useCallback(e=>S(e),[S]),onItemShiftTab:a.useCallback(()=>M(!0),[]),onFocusableItemAdd:a.useCallback(()=>F(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>F(e=>e-1),[]),children:(0,x.jsx)(c.WV.div,{tabIndex:D||0===z?-1:0,"data-orientation":i,...C,ref:k,style:{outline:"none",...e.style},onMouseDown:(0,t.M)(e.onMouseDown,()=>{I.current=!0}),onFocus:(0,t.M)(e.onFocus,e=>{let s=!I.current;if(e.target===e.currentTarget&&s&&!D){let s=new CustomEvent(f,h);if(e.currentTarget.dispatchEvent(s),!s.defaultPrevented){let e=E().filter(e=>e.focusable);R([e.find(e=>e.active),e.find(e=>e.id===A),...e].filter(Boolean).map(e=>e.ref.current),w)}}I.current=!1}),onBlur:(0,t.M)(e.onBlur,()=>M(!1))})})}),k="RovingFocusGroupItem",P=a.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:r,focusable:i=!0,active:n=!1,tabStopId:o,children:d,...m}=e,u=(0,l.M)(),f=o||u,h=w(k,r),p=h.currentTabStopId===f,y=b(r),{onFocusableItemAdd:j,onFocusableItemRemove:v,currentTabStopId:N}=h;return a.useEffect(()=>{if(i)return j(),()=>v()},[i,j,v]),(0,x.jsx)(g.ItemSlot,{scope:r,id:f,focusable:i,active:n,children:(0,x.jsx)(c.WV.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...m,ref:s,onMouseDown:(0,t.M)(e.onMouseDown,e=>{i?h.onItemFocus(f):e.preventDefault()}),onFocus:(0,t.M)(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:(0,t.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){h.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let s=function(e,s,r){var a;let t=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===s&&["ArrowLeft","ArrowRight"].includes(t))&&!("horizontal"===s&&["ArrowUp","ArrowDown"].includes(t)))return A[t]}(e,h.orientation,h.dir);if(void 0!==s){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=y().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===s)r.reverse();else if("prev"===s||"next"===s){"prev"===s&&r.reverse();let a=r.indexOf(e.currentTarget);r=h.loop?function(e,s){return e.map((r,a)=>e[(s+a)%e.length])}(r,a+1):r.slice(a+1)}setTimeout(()=>R(r))}}),children:"function"==typeof d?d({isCurrentTabStop:p,hasTabStop:null!=N}):d})})});P.displayName=k;var A={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R(e,s=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:s}),document.activeElement!==r))return}var S=C,D=P},28407:(e,s,r)=>{"use strict";r.d(s,{VY:()=>D,aV:()=>R,fC:()=>A,xz:()=>S});var a=r(17577),t=r(82561),i=r(93095),n=r(15594),o=r(9815),l=r(77335),c=r(17124),d=r(52067),m=r(88957),u=r(10326),x="Tabs",[f,h]=(0,i.b)(x,[n.Pc]),p=(0,n.Pc)(),[g,b]=f(x),y=a.forwardRef((e,s)=>{let{__scopeTabs:r,value:a,onValueChange:t,defaultValue:i,orientation:n="horizontal",dir:o,activationMode:f="automatic",...h}=e,p=(0,c.gm)(o),[b,y]=(0,d.T)({prop:a,onChange:t,defaultProp:i??"",caller:x});return(0,u.jsx)(g,{scope:r,baseId:(0,m.M)(),value:b,onValueChange:y,orientation:n,dir:p,activationMode:f,children:(0,u.jsx)(l.WV.div,{dir:p,"data-orientation":n,...h,ref:s})})});y.displayName=x;var j="TabsList",v=a.forwardRef((e,s)=>{let{__scopeTabs:r,loop:a=!0,...t}=e,i=b(j,r),o=p(r);return(0,u.jsx)(n.fC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:(0,u.jsx)(l.WV.div,{role:"tablist","aria-orientation":i.orientation,...t,ref:s})})});v.displayName=j;var N="TabsTrigger",w=a.forwardRef((e,s)=>{let{__scopeTabs:r,value:a,disabled:i=!1,...o}=e,c=b(N,r),d=p(r),m=k(c.baseId,a),x=P(c.baseId,a),f=a===c.value;return(0,u.jsx)(n.ck,{asChild:!0,...d,focusable:!i,active:f,children:(0,u.jsx)(l.WV.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":x,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...o,ref:s,onMouseDown:(0,t.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(a)}),onKeyDown:(0,t.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(a)}),onFocus:(0,t.M)(e.onFocus,()=>{let e="manual"!==c.activationMode;f||i||!e||c.onValueChange(a)})})})});w.displayName=N;var C="TabsContent",_=a.forwardRef((e,s)=>{let{__scopeTabs:r,value:t,forceMount:i,children:n,...c}=e,d=b(C,r),m=k(d.baseId,t),x=P(d.baseId,t),f=t===d.value,h=a.useRef(f);return a.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,u.jsx)(o.z,{present:i||f,children:({present:r})=>(0,u.jsx)(l.WV.div,{"data-state":f?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":m,hidden:!r,id:x,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:h.current?"0s":void 0},children:r&&n})})});function k(e,s){return`${e}-trigger-${s}`}function P(e,s){return`${e}-content-${s}`}_.displayName=C;var A=y,R=v,S=w,D=_}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[8948,3841,9813,224,825,4026,3859,9344,7711],()=>r(29102));module.exports=a})();