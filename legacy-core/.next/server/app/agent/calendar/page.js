(()=>{var e={};e.id=4141,e.ids=[4141],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},46145:e=>{"use strict";e.exports=require("@supabase/supabase-js")},14300:e=>{"use strict";e.exports=require("buffer")},40347:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>g,tree:()=>i}),t(22810),t(1409),t(48385),t(12523);var a=t(23191),s=t(88716),n=t(37922),l=t.n(n),o=t(95231),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);t.d(r,c);let i=["",{children:["agent",{children:["calendar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,22810)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\agent\\calendar\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1409)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\agent\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,48385)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\agent\\calendar\\page.tsx"],u="/agent/calendar/page",x={require:t,loadChunk:()=>Promise.resolve()},g=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/agent/calendar/page",pathname:"/agent/calendar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},97506:(e,r,t)=>{Promise.resolve().then(t.bind(t,59644))},58408:(e,r,t)=>{Promise.resolve().then(t.bind(t,72239))},59644:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var a=t(10326),s=t(49232),n=t(17577),l=t(31856),o=t(37202),c=t(59363),i=t(22944),d=t(33261);function u(){let[e,r]=(0,n.useState)(!1),[t,u]=(0,n.useState)(!1),[x,g]=(0,n.useState)(void 0),[p,m]=(0,n.useState)(!1),{loading:f,error:h,formatEventsForCalendar:y,addEvent:v,updateEvent:w,deleteEvent:j}=(0,i.f)(),b=async e=>{try{p&&e.id?await w(e.id,e):await v(e)}catch(e){console.error("Error saving event:",e)}};return e?(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-6",children:(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-xl md:text-2xl font-bold tracking-tight",children:"Schedule & Calendar"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your appointments and meetings"})]})}),h?(0,a.jsxs)(d.bZ,{variant:"destructive",className:"mb-6",children:[a.jsx(o.Z,{className:"h-4 w-4"}),a.jsx(d.X,{className:"ml-2",children:h})]}):a.jsx("div",{className:"w-full",style:{height:"calc(100vh - 180px)"},children:a.jsx(s.n,{data:y(),onEventClick:e=>{g(e),m(!0),u(!0)},onAddEvent:()=>{g(void 0),m(!1),u(!0)},isLoading:f})}),a.jsx(c.Z,{isOpen:t,onClose:()=>u(!1),onSave:b,event:x,isEditing:p})]}):a.jsx("div",{className:"flex-1 p-8 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"bg-muted/30 p-3 rounded-full mb-3",children:a.jsx(l.Z,{className:"h-6 w-6 text-muted-foreground animate-pulse"})}),a.jsx("h3",{className:"text-lg font-medium",children:"Loading Calendar"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please wait while the calendar loads..."})]})})}},72239:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var a=t(10326);t(17577);var s=t(37711),n=t(35047),l=t(34009);function o({children:e}){let{role:r,loading:t}=(0,l.q)();return t?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):"agent"!==r&&"admin"!==r&&"manager"!==r?(console.log("AgentLayout: Unauthorized role, redirecting to login"),(0,n.redirect)("/login"),null):a.jsx(s.M,{children:a.jsx("div",{className:"h-full",children:e})})}},22810:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});var a=t(68570);let s=(0,a.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\agent\calendar\page.tsx`),{__esModule:n,$$typeof:l}=s;s.default;let o=(0,a.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\agent\calendar\page.tsx#default`)},1409:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});var a=t(68570);let s=(0,a.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\agent\layout.tsx`),{__esModule:n,$$typeof:l}=s;s.default;let o=(0,a.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\agent\layout.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[8948,3841,9813,224,825,7344,8624,3579,2812,835,8032,9344,7711,1488],()=>t(40347));module.exports=a})();