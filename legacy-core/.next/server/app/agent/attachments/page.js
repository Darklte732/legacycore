(()=>{var e={};e.id=5280,e.ids=[5280],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},46145:e=>{"use strict";e.exports=require("@supabase/supabase-js")},14300:e=>{"use strict";e.exports=require("buffer")},50997:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),a(29747),a(18785),a(1409),a(48385),a(12523);var r=a(23191),s=a(88716),i=a(37922),l=a.n(i),n=a(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d=["",{children:["agent",{children:["attachments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,29747)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\agent\\attachments\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,18785)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\agent\\attachments\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,1409)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\agent\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,48385)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,12523)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\not-found.tsx"]}],c=["C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\agent\\attachments\\page.tsx"],u="/agent/attachments/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/agent/attachments/page",pathname:"/agent/attachments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},93724:(e,t,a)=>{Promise.resolve().then(a.bind(a,95586))},58408:(e,t,a)=>{Promise.resolve().then(a.bind(a,72239))},35303:()=>{},87888:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},50732:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},59734:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},48238:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},54751:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.1-1.1a2 2 0 0 0-2.81.01L10 22",key:"14ir3o"}]])},75290:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},71810:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},56418:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]])},51996:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},21405:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},88307:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},69508:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},98091:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},63685:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},79635:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},20544:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(76557).Z)("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},95586:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ea});var r=a(10326),s=a(17577),i=a(36283),l=a(88307),n=a(5932),o=a(76557);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,o.Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var c=a(40617);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,o.Z)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);var m=a(24230),h=a(41190),x=a(91664),p=a(87888),b=a(56418);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,o.Z)("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);var g=a(98091),y=a(69701),v=a(56627);let w=()=>{let[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(!0),[i,l]=(0,s.useState)(null),n=(0,y.e)(),{toast:o}=(0,v.pm)(),d=async e=>{try{r(!0),l(null);let{data:{session:a}}=await n.auth.getSession();if(!a)throw Error("No active session found");let{data:s,error:i}=await n.rpc("get_attachments_with_details",{p_user_id:a.user.id,p_carrier_id:e||null});if(i)throw i;if(s)t(s||[]);else{let{data:e,error:r}=await n.from("attachments").select(`
            *,
            carrier:carriers(name)
          `).eq("user_id",a.user.id).order("created_at",{ascending:!1});if(r)throw r;let s=e?.map(e=>({...e,carrier_name:e.carrier?.name||null}));t(s||[])}}catch(e){console.error("Error fetching attachments:",e),l(e instanceof Error?e:Error("Unknown error occurred"))}finally{r(!1)}},c=async(e=20)=>{try{r(!0),l(null);let{data:{session:a}}=await n.auth.getSession();if(!a)throw Error("No active session found");let{data:s,error:i}=await n.rpc("get_recent_attachments_with_urls",{p_user_id:a.user.id,p_limit:e});if(i)throw i;return t(s||[]),s}catch(e){return console.error("Error fetching recent attachments:",e),l(e instanceof Error?e:Error("Unknown error occurred")),[]}finally{r(!1)}};(0,s.useEffect)(()=>{d()},[]);let u=async e=>{try{let{data:{session:t}}=await n.auth.getSession();if(!t)throw Error("No active session found");let a=`${t.user.id}/${Date.now()}-${e.name}`,{data:r,error:s}=await n.storage.from("attachments").upload(a,e);if(s)throw s;let{data:{publicUrl:i}}=n.storage.from("attachments").getPublicUrl(a);return i}catch(e){return console.error("Error uploading file:",e),l(e instanceof Error?e:Error("File upload failed")),null}},m=async(e,t)=>{try{r(!0);let{data:{session:a}}=await n.auth.getSession();if(!a)throw Error("No active session found");let s=null,i=null,l=null;t&&(s=await u(t),i=t.name,l=t.size);let{data:c,error:m}=await n.from("profiles").select("organization_id").eq("id",a.user.id).single();if(m)throw m;let h=null;if(e.carrier){let{data:t,error:a}=await n.from("carriers").select("id").eq("name",e.carrier).single();!a&&t&&(h=t.id)}let x=null,p=null,b=null,f=null,g=null,y=null;if("draft_return"===e.attachmentType&&e.content){let t=e.content,a=t.match(/Initial Return Date\s*-\s*([0-9]{1,2}\/[0-9]{1,2}\/[0-9]{4})/i);a&&a[1]&&(x=a[1]);let r=t.match(/Second Return Date\s*-\s*([0-9]{1,2}\/[0-9]{1,2}\/[0-9]{4})/i);r&&r[1]&&(p=r[1]);let s=t.match(/Product Name\s*-\s*([^\n]+)/i);s&&s[1]&&(b=s[1].trim());let i=t.match(/Producer ID\s*-\s*([^\n]+)/i);i&&i[1]&&(f=i[1].trim());let l=t.match(/Producer Name\s*-\s*([^\n]+)/i);l&&l[1]&&(g=l[1].trim()),y=p?"Not Applicable":"Payment Failed"}console.log("Submitting attachment with data:",{title:e.title,carrier:e.carrier,type:e.attachmentType,policyNumber:e.policyNumber,amount:e.amount});let v=e.effectiveDate?new Date(e.effectiveDate).toISOString():null,w=x?new Date(x).toISOString():null,j=p?new Date(p).toISOString():null,{data:k,error:N}=await n.rpc("create_attachment_with_details",{p_organization_id:c.organization_id,p_user_id:a.user.id,p_client_id:null,p_policy_id:null,p_carrier_id:h,p_title:e.title||"Untitled Attachment",p_description:null,p_attachment_type:e.attachmentType||"other",p_file_url:s,p_file_name:i,p_file_size:l?parseInt(l.toString()):null,p_content:e.content||null,p_policy_number:e.policyNumber||null,p_reason:e.reason||null,p_amount:e.amount?parseFloat(e.amount.toString()):null,p_effective_date:v,p_insured_name:e.insuredName||null,p_status:y,p_return_date:w,p_second_return_date:j,p_product_name:b,p_producer_id:f,p_producer_name:g});if(N)throw console.error("Error from RPC call:",N),N;if("draft_return"===e.attachmentType&&e.policyNumber)try{let t="Not Applicable";p&&(t="Not Applicable"),await n.rpc("update_application_on_draft_return",{p_attachment_id:k,p_policy_number:e.policyNumber,p_insured_name:e.insuredName||null,p_reason:e.reason||null,p_amount:e.amount?parseFloat(e.amount.toString()):null,p_return_date:w,p_second_return_date:j,p_commission_status:t}),o({title:"Application Updated",description:`The policy ${e.policyNumber} has been updated with the return information`})}catch(e){console.error("Error updating application:",e),o({title:"Warning",description:"Attachment saved but failed to update application data",variant:"destructive"})}return await d(),o({title:"Success",description:"Attachment data saved successfully"}),k}catch(e){return console.error("Error adding attachment:",e),l(e instanceof Error?e:Error("Unknown error occurred")),o({title:"Error",description:"Failed to save attachment data",variant:"destructive"}),null}finally{r(!1)}},h=async a=>{try{r(!0);let{data:s,error:i}=await n.from("attachments").select("file_url, file_name").eq("id",a).single();if(i)throw i;if(s?.file_url){let e=s.file_url.split("/").pop()||"",{error:t}=await n.storage.from("attachments").remove([e]);t&&console.error("Error deleting file:",t)}let{error:l}=await n.from("attachment_details").delete().eq("attachment_id",a);if(l)throw l;let{error:d}=await n.from("attachments").delete().eq("id",a);if(d)throw d;return t(e.filter(e=>e.id!==a)),o({title:"Success",description:"Attachment deleted successfully"}),!0}catch(e){return console.error("Error deleting attachment:",e),l(e instanceof Error?e:Error("Unknown error occurred")),o({title:"Error",description:"Failed to delete attachment",variant:"destructive"}),!1}finally{r(!1)}};return{attachments:e,loading:a,error:i,fetchAttachments:d,fetchRecentAttachmentsWithUrls:c,addAttachment:m,deleteAttachment:h}};var j=a(47138),k=a(38443);function N({onSelect:e,carrierId:t}){let{attachments:a,loading:l,error:n,fetchAttachments:o,deleteAttachment:d}=w(),[c,u]=(0,s.useState)([]),m=async(e,t)=>{t.stopPropagation(),window.confirm("Are you sure you want to delete this attachment?")&&await d(e)},h=e=>{try{return(0,j.B)(new Date(e),new Date,{addSuffix:!0})}catch{return e}},y=e=>{switch(e){case"draft_return":return r.jsx(k.C,{variant:"destructive",children:"Draft Return"});case"policy_update":return r.jsx(k.C,{variant:"secondary",children:"Policy Update"});case"client_communication":return r.jsx(k.C,{variant:"outline",children:"Client Communication"});default:return r.jsx(k.C,{variant:"outline",children:"Other"})}};return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow h-full",children:[(0,r.jsxs)("div",{className:"border-b p-4 flex justify-between items-center",children:[r.jsx("h2",{className:"font-semibold",children:t&&"all"!==t?`${t} Attachments`:"All Attachments"}),r.jsx(x.z,{size:"sm",variant:"outline",onClick:()=>o(),className:"text-xs",children:"Refresh"})]}),l?(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status",children:r.jsx("span",{className:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",children:"Loading..."})}),r.jsx("p",{className:"mt-2 text-gray-500",children:"Loading attachments..."})]}):n?(0,r.jsxs)("div",{className:"p-6 flex flex-col items-center justify-center text-center",children:[r.jsx(p.Z,{className:"h-8 w-8 text-red-500 mb-2"}),r.jsx("p",{className:"text-red-500 font-medium",children:"Error loading attachments"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1 mb-4",children:"There was a problem fetching your attachments"}),r.jsx(x.z,{variant:"outline",size:"sm",onClick:()=>o(),children:"Try Again"})]}):c.length>0?r.jsx("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:c.map(t=>r.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-800/40 cursor-pointer transition-colors duration-150 border-l-4 border-transparent hover:border-blue-400 dark:hover:border-blue-500",onClick:()=>e(t),children:(0,r.jsxs)("div",{className:"flex justify-between items-start gap-3",children:[(0,r.jsxs)("div",{className:"flex gap-3 flex-1 min-w-0",children:[r.jsx("div",{className:`p-2 rounded flex-shrink-0 ${"draft_return"===t.attachment_type?"bg-red-100 dark:bg-red-900/40":"bg-blue-100 dark:bg-blue-900/40"}`,children:"draft_return"===t.attachment_type?r.jsx(p.Z,{className:"h-5 w-5 text-red-600 dark:text-red-400"}):t.file_url?r.jsx(i.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}):r.jsx(b.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 items-center mb-1",children:[r.jsx("h3",{className:"font-medium text-sm truncate dark:text-gray-100",children:t.title}),t.attachment_type&&y(t.attachment_type),(0,r.jsxs)("div",{className:"flex flex-wrap gap-1 ml-auto",children:[new Date(t.created_at).getTime()>Date.now()-864e5&&r.jsx(k.C,{variant:"outline",className:"text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300 border-green-300 dark:border-green-800 animate-pulse px-1.5",children:"Updated"}),t.file_url&&r.jsx(k.C,{variant:"outline",className:"text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300 border-blue-300 dark:border-blue-800 px-1.5",children:"Downloaded"})]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-300 mt-1 flex flex-wrap gap-x-2",children:[r.jsx("span",{children:t.carrier_name||"Unknown Carrier"}),t.policy_number&&(0,r.jsxs)("span",{className:"font-mono",children:["#",t.policy_number]}),t.insured_name&&r.jsx("span",{className:"truncate max-w-[180px]",children:t.insured_name})]}),r.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-400 mt-1 flex items-center gap-1",children:(0,r.jsxs)("span",{children:["Added ",h(t.created_at)]})})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[t.file_url&&r.jsx("a",{href:t.file_url,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"p-1.5 bg-blue-100 dark:bg-blue-900/40 hover:bg-blue-200 dark:hover:bg-blue-800/60 rounded-full transition-colors duration-200 hover:text-blue-700 dark:hover:text-blue-300",title:"Download document",children:r.jsx(f,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),r.jsx("button",{onClick:e=>m(t.id,e),className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-full transition-colors duration-200",title:"Delete attachment",children:r.jsx(g.Z,{className:"h-4 w-4 text-gray-400 hover:text-red-500 dark:hover:text-red-400"})})]})]})},t.id))}):(0,r.jsxs)("div",{className:"p-12 text-center flex flex-col items-center",children:[r.jsx(i.Z,{className:"h-10 w-10 text-gray-300 mb-3"}),r.jsx("p",{className:"text-gray-500 font-medium",children:"No attachments found"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1 max-w-xs",children:t&&"all"!==t?`No attachments found for ${t}. Try another carrier or upload a new attachment.`:"You haven't uploaded any attachments yet. Process an email notification to get started."})]})]})}var _=a(2179);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let C=(0,o.Z)("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);var E=a(63685),M=a(20544),S=a(75290),D=a(82015),Z=a(29752),R=a(40339),P=a(74749),A=a(42482),T=a(40295),z=a(73965);class I extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,a=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=a-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function F({children:e,isPresent:t,anchorX:a}){let i=(0,s.useId)(),l=(0,s.useRef)(null),n=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=(0,s.useContext)(z._);return(0,s.useInsertionEffect)(()=>{let{width:e,height:r,top:s,left:d,right:c}=n.current;if(t||!l.current||!e||!r)return;let u="left"===a?`left: ${d}`:`right: ${c}`;l.current.dataset.motionPopId=i;let m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            ${u}px !important;
            top: ${s}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[t]),(0,r.jsx)(I,{isPresent:t,childRef:l,sizeRef:n,children:s.cloneElement(e,{ref:l})})}let U=({children:e,initial:t,isPresent:a,onExitComplete:i,custom:l,presenceAffectsLayout:n,mode:o,anchorX:d})=>{let c=(0,P.h)(q),u=(0,s.useId)(),m=!0,h=(0,s.useMemo)(()=>(m=!1,{id:u,initial:t,isPresent:a,custom:l,onExitComplete:e=>{for(let t of(c.set(e,!0),c.values()))if(!t)return;i&&i()},register:e=>(c.set(e,!1),()=>c.delete(e))}),[a,c,i]);return n&&m&&(h={...h}),(0,s.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[a]),s.useEffect(()=>{a||c.size||!i||i()},[a]),"popLayout"===o&&(e=(0,r.jsx)(F,{isPresent:a,anchorX:d,children:e})),(0,r.jsx)(T.O.Provider,{value:h,children:e})};function q(){return new Map}var $=a(56933);let H=e=>e.key||"";function L(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let V=({children:e,custom:t,initial:a=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:n="sync",propagate:o=!1,anchorX:d="left"})=>{let[c,u]=(0,$.oO)(o),m=(0,s.useMemo)(()=>L(e),[e]),h=o&&!c?[]:m.map(H),x=(0,s.useRef)(!0),p=(0,s.useRef)(m),b=(0,P.h)(()=>new Map),[f,g]=(0,s.useState)(m),[y,v]=(0,s.useState)(m);(0,A.L)(()=>{x.current=!1,p.current=m;for(let e=0;e<y.length;e++){let t=H(y[e]);h.includes(t)?b.delete(t):!0!==b.get(t)&&b.set(t,!1)}},[y,h.length,h.join("-")]);let w=[];if(m!==f){let e=[...m];for(let t=0;t<y.length;t++){let a=y[t],r=H(a);h.includes(r)||(e.splice(t,0,a),w.push(a))}return"wait"===n&&w.length&&(e=w),v(L(e)),g(m),null}let{forceRender:j}=(0,s.useContext)(R.p);return(0,r.jsx)(r.Fragment,{children:y.map(e=>{let s=H(e),f=(!o||!!c)&&(m===y||h.includes(s));return(0,r.jsx)(U,{isPresent:f,initial:(!x.current||!!a)&&void 0,custom:t,presenceAffectsLayout:l,mode:n,onExitComplete:f?void 0:()=>{if(!b.has(s))return;b.set(s,!0);let e=!0;b.forEach(t=>{t||(e=!1)}),e&&(j?.(),v(p.current),o&&u?.(),i&&i())},anchorX:d,children:e},s)})})};var O=a(71656);function B({onSuccess:e}){let[t,a]=(0,s.useState)({title:"",carrier:"",attachmentType:"other",policyNumber:"",reason:"",amount:void 0,effectiveDate:"",insuredName:"",content:""}),[l,n]=(0,s.useState)(null),[o,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)([]),[p,b]=(0,s.useState)(!1),[f,g]=(0,s.useState)(!1),y=(0,s.useRef)(null),v=(0,s.useRef)(null),{addAttachment:j}=w(),k=e=>{let{name:t,value:r}=e.target;"amount"===t?a(e=>({...e,[t]:r?parseFloat(r):void 0})):a(e=>({...e,[t]:r}))},N=e=>{if(!e)return;let t=[];if(u([]),e.includes("Notification of Client Bank Draft Return")||e.includes("Return Draft Reason")||e.includes("attached in the body of this email is a returned draft report")||e.match(/draft.+return/i)){a(e=>({...e,attachmentType:"draft_return",title:"Notification of Client Bank Draft Return"})),t.push("Detected Draft Return Notification"),e.includes("Americo")||e.includes("@americo.com")?(a(e=>({...e,carrier:"Americo"})),t.push("Set carrier: Americo")):e.includes("Mutual of Omaha")?(a(e=>({...e,carrier:"Mutual of Omaha"})),t.push("Set carrier: Mutual of Omaha")):e.includes("Aetna")&&(a(e=>({...e,carrier:"Aetna"})),t.push("Set carrier: Aetna"));let r=e.match(/Policy Number\s*-\s*([^\n]+)/i)||e.match(/Policy\s*#\s*:\s*([^\n]+)/i)||e.match(/Policy\s*Number\s*:\s*([^\n\r]+)/i);if(r&&r[1]){let e=r[1].trim();a(t=>({...t,policyNumber:e})),t.push(`Extracted Policy Number: ${e}`)}let s=e.match(/Return Draft Reason\s*-\s*([^\n]+)/i)||e.match(/Reason\s*:\s*([^\n\r]+)/i)||e.match(/Return\s*Reason\s*:\s*([^\n\r]+)/i);if(s&&s[1]){let e=s[1].trim();e=e.replace(/&nbsp;/g," ").replace(/&Acirc;/g,""),a(t=>({...t,reason:e})),t.push(`Extracted Reason: ${e}`)}let i=e.match(/Amount\s*-\s*([0-9.]+)/i)||e.match(/Premium\s*:\s*\$?([0-9.]+)/i)||e.match(/Reoccurring Premium\s*-\s*([0-9.]+)/i);if(i&&i[1]){let e=parseFloat(i[1]);a(t=>({...t,amount:e})),t.push(`Extracted Amount: $${e}`)}let l=e.match(/Policy Effective Date\s*-\s*([0-9]{1,2}\/[0-9]{1,2}\/[0-9]{4})/i)||e.match(/Effective Date\s*:\s*([0-9]{1,2}\/[0-9]{1,2}\/[0-9]{4})/i);if(l&&l[1]){let e=l[1],r=e.split("/");if(3===r.length){let s=`${r[2]}-${r[0].padStart(2,"0")}-${r[1].padStart(2,"0")}`;a(e=>({...e,effectiveDate:s})),t.push(`Extracted Effective Date: ${e}`)}}let n=e.match(/Insured Name\s*-\s*([^\n]+)/i)||e.match(/Insured\s*:\s*([^\n\r]+)/i);if(n&&n[1]){let e=n[1].trim();a(t=>({...t,insuredName:e})),t.push(`Extracted Insured Name: ${e}`)}}t.length>0&&(u(t),g(!0))},R=async r=>{r.preventDefault(),d(!0);try{!f&&t.content&&N(t.content);let r=t.attachmentType;"other"===r&&t.content&&(t.content.includes("draft return")||t.content.includes("Return Draft")||t.content.includes("insufficient funds"))&&(r="draft_return");let s=t.title;s||(s="draft_return"===r?"Notification of Client Bank Draft Return":"Policy Communication"),await j({...t,title:s,attachmentType:r},l||void 0)&&(a({title:"",carrier:"",attachmentType:"other",policyNumber:"",reason:"",amount:void 0,effectiveDate:"",insuredName:"",content:""}),n(null),g(!1),b(!1),y.current&&(y.current.value=""),e&&e())}catch(e){console.error("Error submitting attachment:",e)}finally{d(!1)}},P=async()=>{try{let e=await navigator.clipboard.readText();e&&(a(t=>({...t,content:e})),N(e),v.current&&(v.current.value=e,v.current.focus()))}catch(e){console.error("Failed to read clipboard:",e)}};return r.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg",children:r.jsx("div",{className:"p-4",children:(0,r.jsxs)("form",{className:"space-y-4",onSubmit:R,children:[r.jsx(V,{children:c.length>0&&r.jsx(O.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:r.jsx(Z.Zb,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 dark:from-green-900/30 dark:to-emerald-900/30 dark:border-green-800/50 shadow-sm overflow-hidden",children:(0,r.jsxs)(Z.aY,{className:"pt-4",children:[(0,r.jsxs)("div",{className:"flex items-center text-green-800 dark:text-green-300 font-medium mb-2",children:[r.jsx(_.Z,{className:"h-5 w-5 mr-2 text-green-600 dark:text-green-400"}),r.jsx("span",{children:"Information Successfully Extracted"})]}),r.jsx(O.E.ul,{className:"list-disc pl-5 text-sm text-green-700 dark:text-green-300 space-y-1",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},children:c.map((e,t)=>r.jsx(O.E.li,{variants:{hidden:{opacity:0,x:-10},visible:{opacity:1,x:0}},children:e},t))})]})})})}),(0,r.jsxs)("div",{className:"border border-blue-100 dark:border-blue-900/50 rounded-xl p-5 bg-gradient-to-b from-blue-50/50 to-white dark:from-blue-950/30 dark:to-gray-900 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-blue-800 dark:text-blue-200 flex items-center gap-2",children:[r.jsx(i.Z,{className:"h-4 w-4 text-blue-600 dark:text-blue-300"}),"Email Content"]}),r.jsx(O.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,r.jsxs)(x.z,{type:"button",size:"sm",variant:"outline",onClick:P,className:"text-blue-600 border-blue-200 dark:border-blue-700 dark:text-blue-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-all duration-200",children:[r.jsx(C,{className:"h-4 w-4 mr-1"}),r.jsx("span",{children:"Paste from Clipboard"})]})})]}),r.jsx(D.g,{ref:v,name:"content",value:t.content,onChange:e=>{let r=e.target.value;a(e=>({...e,content:r})),f&&r!==t.content&&g(!1),r&&r!==t.content&&N(r)},className:"min-h-[280px] font-mono text-sm bg-white dark:bg-gray-900 border-blue-100 dark:border-blue-900/50 focus:border-blue-300 focus:ring focus:ring-blue-200 dark:focus:ring-blue-800/30 transition-all duration-200 dark:text-gray-100",placeholder:"Paste the complete email content here...",required:!0}),r.jsx("div",{className:"mt-4 text-center",children:(0,r.jsxs)(x.z,{type:"button",variant:"outline",size:"sm",onClick:()=>b(!p),className:"text-gray-600 dark:text-gray-200 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all duration-200",children:[r.jsx(m.Z,{className:`h-3.5 w-3.5 mr-1.5 transition-transform duration-300 ${p?"rotate-90":""}`}),p?"Hide Details":"Show Extracted Information"]})})]}),r.jsx(V,{children:p&&(0,r.jsxs)(O.E.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border border-blue-100 dark:border-blue-900/50 rounded-xl p-5 bg-gradient-to-b from-blue-50/50 to-white dark:from-blue-950/30 dark:to-gray-900 shadow-sm",initial:{opacity:0,height:0,marginTop:0},animate:{opacity:1,height:"auto",marginTop:16},exit:{opacity:0,height:0,marginTop:0},transition:{duration:.3},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-800 dark:text-blue-200",children:"Attachment Title"}),r.jsx(h.I,{name:"title",value:t.title,onChange:k,placeholder:"e.g. Notification of Client Bank Draft Return",className:"border-blue-100 dark:border-blue-900/50 focus:border-blue-300 focus:ring focus:ring-blue-200 dark:focus:ring-blue-800/30 transition-all duration-200 dark:text-gray-100"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-800 dark:text-blue-200",children:"Upload Document (Optional)"}),r.jsx("div",{className:"mt-1 flex items-center",children:(0,r.jsxs)("label",{className:"flex justify-center items-center px-4 py-2 bg-white dark:bg-gray-900 rounded-lg border-2    border-dashed border-blue-200 dark:border-blue-800/70 cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/30 w-full transition-all duration-200",children:[r.jsx("input",{type:"file",ref:y,onChange:e=>{e.target.files&&e.target.files.length>0&&n(e.target.files[0])},className:"hidden",accept:".pdf,.doc,.docx,.txt,.html"}),(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[r.jsx(E.Z,{className:"h-5 w-5 text-blue-400 dark:text-blue-400 mr-2"}),r.jsx("span",{className:"text-sm text-blue-500 dark:text-blue-300",children:l?l.name:"Choose a file"})]})]})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-800 dark:text-blue-200",children:"Carrier"}),(0,r.jsxs)("select",{name:"carrier",value:t.carrier,onChange:k,className:"w-full p-2 border border-blue-100 dark:border-blue-900/50 rounded-md bg-white dark:bg-gray-900 focus:border-blue-300 focus:ring focus:ring-blue-200 dark:focus:ring-blue-800/30 transition-all duration-200 dark:text-gray-100",children:[r.jsx("option",{value:"",children:"Select Carrier"}),r.jsx("option",{value:"Americo",children:"Americo"}),r.jsx("option",{value:"Mutual of Omaha",children:"Mutual of Omaha"}),r.jsx("option",{value:"Aetna",children:"Aetna"}),r.jsx("option",{value:"CoreBridge",children:"CoreBridge"}),r.jsx("option",{value:"Gerber",children:"Gerber"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-800 dark:text-blue-200",children:"Attachment Type"}),(0,r.jsxs)("select",{name:"attachmentType",value:t.attachmentType,onChange:k,className:"w-full p-2 border border-blue-100 dark:border-blue-900/50 rounded-md bg-white dark:bg-gray-900 focus:border-blue-300 focus:ring focus:ring-blue-200 dark:focus:ring-blue-800/30 transition-all duration-200 dark:text-gray-100",children:[r.jsx("option",{value:"draft_return",children:"Draft Return"}),r.jsx("option",{value:"policy_update",children:"Policy Update"}),r.jsx("option",{value:"client_communication",children:"Client Communication"}),r.jsx("option",{value:"other",children:"Other"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-800 dark:text-blue-200",children:"Policy Number"}),r.jsx(h.I,{name:"policyNumber",value:t.policyNumber||"",onChange:k,placeholder:"e.g. AM02380192",className:"border-blue-100 dark:border-blue-900/50 focus:border-blue-300 focus:ring focus:ring-blue-200 dark:focus:ring-blue-800/30 transition-all duration-200 dark:text-gray-100"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-800 dark:text-blue-200",children:"Reason"}),r.jsx(h.I,{name:"reason",value:t.reason||"",onChange:k,placeholder:"e.g. Insufficient Funds",className:"border-blue-100 dark:border-blue-900/50 focus:border-blue-300 focus:ring focus:ring-blue-200 dark:focus:ring-blue-800/30 transition-all duration-200 dark:text-gray-100"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-800 dark:text-blue-200",children:"Amount"}),r.jsx(h.I,{name:"amount",value:t.amount||"",onChange:k,placeholder:"e.g. 48.59",type:"number",step:"0.01",className:"border-blue-100 dark:border-blue-900/50 focus:border-blue-300 focus:ring focus:ring-blue-200 dark:focus:ring-blue-800/30 transition-all duration-200 dark:text-gray-100"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-800 dark:text-blue-200",children:"Effective Date"}),r.jsx(h.I,{name:"effectiveDate",value:t.effectiveDate||"",onChange:k,type:"date",className:"border-blue-100 dark:border-blue-900/50 focus:border-blue-300 focus:ring focus:ring-blue-200 dark:focus:ring-blue-800/30 transition-all duration-200 dark:text-gray-100"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-800 dark:text-blue-200",children:"Insured Name"}),r.jsx(h.I,{name:"insuredName",value:t.insuredName||"",onChange:k,placeholder:"e.g. Brower, Gerald D",className:"border-blue-100 dark:border-blue-900/50 focus:border-blue-300 focus:ring focus:ring-blue-200 dark:focus:ring-blue-800/30 transition-all duration-200 dark:text-gray-100"})]}),r.jsx("div",{className:"col-span-1 md:col-span-2",children:r.jsx(O.E.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:(0,r.jsxs)(x.z,{type:"button",size:"sm",variant:"secondary",onClick:()=>N(t.content),className:"w-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white border-0 shadow-sm transition-all duration-200",children:[r.jsx(M.Z,{className:"h-3.5 w-3.5 mr-1.5"}),r.jsx("span",{children:"Re-Extract Information"})]})})})]})}),r.jsx(O.E.div,{whileHover:{scale:1.01},whileTap:{scale:.98},children:r.jsx(x.z,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white py-6 text-lg border-0 shadow-md hover:shadow-lg transition-all duration-200 rounded-xl",disabled:o,children:o?(0,r.jsxs)(r.Fragment,{children:[r.jsx(S.Z,{className:"h-5 w-5 mr-3 animate-spin"}),"Processing..."]}):f?"Process Email & Update Application":"Upload & Process Email"})})]})})})}var Y=a(54751),W=a(54659),G=a(21405),K=a(48998);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let Q=(0,o.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),X=(0,o.Z)("FileArchive",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18",key:"1oywqq"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]);var J=a(50384),ee=a(90960);function et(){let{fetchRecentAttachmentsWithUrls:e,loading:t,error:a}=w(),[i,n]=(0,s.useState)([]),[o,d]=(0,s.useState)([]),[c,u]=(0,s.useState)("all"),[b,g]=(0,s.useState)(""),[y,j]=(0,s.useState)(!1),[N,_]=(0,s.useState)(null),{toast:C}=(0,v.pm)(),E=async()=>{j(!0),_(null);try{console.log("Fetching recent attachments...");let t=await e(15);console.log("Attachment data received:",t),t&&t.length>0?(console.log(`Successfully loaded ${t.length} attachments`),n(t),u("all"),g(""),C({title:"Attachments Loaded",description:`${t.length} attachment(s) found`,duration:3e3})):(console.log("No attachments found"),n([]),_("No attachments available. Upload documents or process emails to get started."))}catch(e){console.error("Error fetching attachments:",e),e?.message?.includes("400")||e?.status===400?_("No attachments available. Upload documents or process emails to get started."):(_("Unable to load attachments. Please try again later."),C({variant:"destructive",title:"Error Loading Attachments",description:e?.message||"Please try again or check your connection",duration:5e3}))}finally{j(!1)}},M=e=>{try{return(0,ee.Q)(new Date(e),{addSuffix:!0})}catch{return e}},S=e=>"draft_return"===e.attachment_type?r.jsx(k.C,{variant:"destructive",className:"px-2 py-1 animate-pulse",children:"Draft Return"}):"policy_update"===e.attachment_type?r.jsx(k.C,{variant:"secondary",className:"px-2 py-1",children:"Policy Update"}):r.jsx(k.C,{variant:"outline",className:"px-2 py-1",children:"Document"}),D=e=>{e&&navigator.clipboard.writeText(e).then(()=>{C({title:"Content Copied",description:"Attachment content has been copied to clipboard",duration:3e3})}).catch(e=>{console.error("Failed to copy content:",e)})},R={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:260,damping:20}}};return t||a||i&&i.length,(0,r.jsxs)(Z.Zb,{className:"border border-blue-100 shadow-lg bg-gradient-to-br from-white to-blue-50 dark:from-gray-900 dark:to-gray-950 h-full overflow-hidden rounded-xl",children:[(0,r.jsxs)(Z.Ol,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-800 dark:to-indigo-800 pb-3 text-white relative overflow-hidden",children:["    ",r.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,rgba(255,255,255,0.1),rgba(255,255,255,0.6))]"}),"    ",r.jsx("div",{className:"absolute right-0 top-0 h-full w-32 bg-gradient-to-l from-indigo-500/20 to-transparent"}),"    ",(0,r.jsxs)("div",{className:"flex flex-col z-10 relative",children:["      ",(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:["        ",(0,r.jsxs)("div",{className:"flex items-center gap-2",children:["          ",(0,r.jsxs)("div",{className:"bg-white/30 rounded-full p-1.5 backdrop-blur-sm",children:["            ",r.jsx(Y.Z,{className:"h-4 w-4 text-white"}),"          "]}),"          ",r.jsx(Z.ll,{className:"text-lg font-medium text-white",children:"Recent Attachments"}),"        "]}),"        ",i.length>0&&(0,r.jsxs)(O.E.div,{animate:{scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse"},className:"bg-green-500 text-white text-xs px-2 py-0.5 rounded-full flex items-center gap-1",children:["            ",r.jsx(W.Z,{className:"h-3 w-3"}),"            ",r.jsx("span",{children:i.length}),"          "]}),"      "]}),"      ",r.jsx(Z.SZ,{className:"text-blue-50 mt-1 font-medium",children:"        Quick access to your recent documents      "}),"    "]}),"  "]}),(0,r.jsxs)("div",{className:"p-3 border-b bg-blue-50/70 dark:bg-blue-950/40 flex gap-2 items-center",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[r.jsx(l.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400"}),r.jsx(h.I,{placeholder:"Search files...",className:"pl-8 text-sm bg-white dark:bg-gray-900 border-blue-200 dark:border-blue-800 focus:ring-blue-400 transition-all duration-200 focus:border-blue-400",value:b,onChange:e=>g(e.target.value)})]}),(0,r.jsxs)(x.z,{size:"sm",variant:"outline",className:`text-xs border-blue-200 hover:bg-blue-50 dark:border-blue-800 dark:hover:bg-blue-900/30 transition-all duration-200 ${y?"animate-pulse":""}`,onClick:E,disabled:y,children:[y?r.jsx(G.Z,{className:"h-3.5 w-3.5 mr-1 animate-spin"}):r.jsx(K.Z,{className:"h-3.5 w-3.5 mr-1"}),y?"Refreshing...":"Latest"]})]}),(0,r.jsxs)(J.mQ,{defaultValue:"all",className:"w-full",children:[r.jsx("div",{className:"px-3 pt-2 pb-1 border-b bg-blue-50/30 dark:bg-blue-950/20",children:(0,r.jsxs)(J.dr,{className:"bg-white dark:bg-gray-800 h-8 p-1 shadow-sm border border-blue-100 dark:border-blue-900 rounded-lg",children:[r.jsx(J.SP,{value:"all",className:"text-xs font-medium px-2 py-1 h-6 data-[state=active]:bg-blue-600 data-[state=active]:text-white dark:data-[state=active]:bg-blue-600 dark:data-[state=active]:text-white dark:text-white text-gray-700 rounded-md transition-all duration-200",onClick:()=>u("all"),children:"All"}),r.jsx(J.SP,{value:"draft_return",className:"text-xs font-medium px-2 py-1 h-6 data-[state=active]:bg-blue-600 data-[state=active]:text-white dark:data-[state=active]:bg-blue-600 dark:data-[state=active]:text-white dark:text-white text-gray-700 rounded-md transition-all duration-200",onClick:()=>u("draft_return"),children:"Draft Returns"}),r.jsx(J.SP,{value:"policy_update",className:"text-xs font-medium px-2 py-1 h-6 data-[state=active]:bg-blue-600 data-[state=active]:text-white dark:data-[state=active]:bg-blue-600 dark:data-[state=active]:text-white dark:text-white text-gray-700 rounded-md transition-all duration-200",onClick:()=>u("policy_update"),children:"Policy Updates"})]})}),r.jsx(Z.aY,{className:"p-0",children:r.jsx("div",{className:"max-h-[435px] overflow-y-auto",children:t&&!N?(0,r.jsxs)("div",{className:"p-10 text-center",children:[r.jsx(O.E.div,{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent text-blue-500",role:"status",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:r.jsx("span",{className:"sr-only",children:"Loading..."})}),r.jsx(O.E.p,{className:"mt-4 text-sm text-blue-600 dark:text-blue-400 font-medium",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.2},children:"Loading your attachments..."})]}):a&&!N?(0,r.jsxs)("div",{className:"p-10 text-center",children:[r.jsx(O.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:r.jsx(p.Z,{className:"h-10 w-10 text-red-500 mx-auto mb-3 animate-pulse"})}),r.jsx(O.E.p,{className:"text-red-500 font-medium",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.1},children:"Error loading attachments"}),r.jsx(O.E.p,{className:"text-sm text-gray-500 mt-2 mb-4",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.2},children:"There was a problem connecting to the server"}),r.jsx(O.E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.3},children:r.jsx(x.z,{variant:"outline",size:"sm",onClick:E,className:"border-red-200 text-red-700 hover:bg-red-50",children:"Try Again"})})]}):o.length>0?r.jsx(O.E.div,{className:"divide-y divide-gray-100 dark:divide-gray-800",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",children:r.jsx(V,{children:o.map((e,t)=>r.jsx(O.E.div,{className:"p-3 hover:bg-blue-50/80 dark:hover:bg-blue-900/40 transition-colors duration-200 group bg-white dark:bg-gray-900/60 border-l-4 border-blue-400 dark:border-blue-500 m-2 rounded-md shadow-sm",variants:R,exit:{opacity:0,x:-20},layout:!0,children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 pt-1",children:S(e)}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors duration-200",children:e.title}),(0,r.jsxs)("div",{className:"flex gap-1",children:[new Date(e.created_at).getTime()>Date.now()-864e5&&r.jsx(k.C,{variant:"outline",className:"text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300 border-green-300 dark:border-green-800 animate-pulse px-1.5 ml-2",children:"Updated"}),e.download_url&&e.download_count>0&&r.jsx(k.C,{variant:"outline",className:"text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300 border-blue-300 dark:border-blue-800 px-1.5",children:"Downloaded"})]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-300 mt-0.5 flex flex-wrap gap-x-2",children:[e.carrier_name&&r.jsx("span",{className:"group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:e.carrier_name}),e.policy_number&&(0,r.jsxs)("span",{className:"font-mono group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-200",children:["#",e.policy_number]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-400 dark:text-gray-400 mt-0.5 flex items-center gap-1",children:[r.jsx(K.Z,{className:"h-3 w-3 inline"}),M(e.created_at),e.insured_name&&(0,r.jsxs)("span",{className:"ml-2 text-blue-500 dark:text-blue-400",children:["• ",e.insured_name]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[e.download_url?r.jsx(O.E.a,{href:e.download_url,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 bg-blue-100 dark:bg-blue-900/40 hover:bg-blue-200 dark:hover:bg-blue-800/60 rounded-full transition-colors duration-200 hover:text-blue-700 dark:hover:text-blue-300",title:"Download document",whileHover:{scale:1.1},whileTap:{scale:.95},children:r.jsx(f,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}):e.file_url?r.jsx(O.E.a,{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 bg-blue-100 dark:bg-blue-900/40 hover:bg-blue-200 dark:hover:bg-blue-800/60 rounded-full transition-colors duration-200 hover:text-blue-700 dark:hover:text-blue-300",title:"Download document",whileHover:{scale:1.1},whileTap:{scale:.95},children:r.jsx(f,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}):null,e.content&&r.jsx(O.E.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:r.jsx(x.z,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors duration-200 hover:text-blue-700 dark:hover:text-blue-300",title:"Copy Content",onClick:()=>D(e.content),children:r.jsx(Q,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})})]})]})},e.id))})}):(0,r.jsxs)(O.E.div,{className:"p-10 text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[r.jsx(O.E.div,{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/40 dark:to-indigo-900/40 rounded-full flex items-center justify-center shadow-inner",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:15},children:r.jsx(O.E.div,{initial:{scale:.6,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring"},children:r.jsx(X,{className:"h-12 w-12 text-blue-400 dark:text-blue-300"})})}),r.jsx(O.E.h3,{className:"text-lg font-medium text-gray-700 dark:text-gray-200",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:N?"No Attachments Available":"No attachments found"}),r.jsx(O.E.p,{className:"text-sm text-gray-500 dark:text-gray-300 mt-2 max-w-xs mx-auto",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:N||"Upload documents or process emails to see them here"}),(0,r.jsxs)(O.E.div,{className:"mt-6",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},children:[(0,r.jsxs)(x.z,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-700 hover:bg-blue-50 dark:border-blue-800 dark:text-blue-400 dark:hover:bg-blue-900/30 shadow-sm hover:shadow transition-all duration-200",onClick:E,children:[r.jsx(G.Z,{className:"h-3.5 w-3.5 mr-2"}),"Refresh"]}),(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-4",children:[r.jsx(m.Z,{className:"h-3 w-3 inline mr-1"}),"Process an email notification to get started"]})]})]})})})]}),r.jsx(Z.eW,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/40 dark:to-indigo-950/40 border-t border-blue-100 dark:border-blue-900/50 py-2 px-3",children:(0,r.jsxs)("div",{className:"w-full flex justify-between items-center",children:[r.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-300 font-medium",children:y?r.jsx("span",{className:"animate-pulse",children:"Refreshing attachments..."}):o.length>0?(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[r.jsx(W.Z,{className:"h-3.5 w-3.5"}),`Showing ${o.length} of ${i.length} attachments`]}):"No attachments to display"}),(0,r.jsxs)(x.z,{variant:"ghost",size:"sm",className:"text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-100 dark:text-blue-300 dark:hover:text-blue-200 dark:hover:bg-blue-900/30 transition-all duration-200",onClick:()=>{g(""),u("all"),E()},children:[r.jsx(G.Z,{className:"h-3.5 w-3.5 mr-1"}),"Refresh"]})]})})]})}function ea(){let[e,t]=(0,s.useState)(""),[a,o]=(0,s.useState)(!0),[p,b]=(0,s.useState)(null),{toast:f,dismiss:g}=(0,v.pm)(),{fetchAttachments:y}=w(),j=e=>{b(e),e.content&&navigator.clipboard.writeText(e.content).then(()=>{f({title:"Content Copied",description:"Attachment content has been copied to clipboard"})}).catch(e=>{console.error("Failed to copy content:",e)})};return(0,r.jsxs)(O.E.div,{className:"p-4 md:p-6 max-w-[1400px] mx-auto",initial:"initial",animate:"animate",exit:"exit",variants:{initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},exit:{opacity:0,transition:{duration:.2}}},children:[r.jsx(Z.Zb,{className:"border-0 shadow-md mb-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white dark:from-blue-900 dark:to-indigo-900 rounded-xl overflow-hidden",children:(0,r.jsxs)(Z.Ol,{className:"pb-2 relative",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,rgba(255,255,255,0.1),rgba(255,255,255,0.5))]"}),r.jsx("div",{className:"absolute right-0 top-0 h-full w-48 bg-gradient-to-l from-indigo-500/20 to-transparent"}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 relative z-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(Z.ll,{className:"text-2xl font-bold text-white flex items-center gap-2",children:[r.jsx("span",{className:"bg-white/30 p-1.5 rounded-lg backdrop-blur-sm",children:r.jsx(i.Z,{className:"h-5 w-5 text-white"})}),"Attachments & Notifications"]}),r.jsx(Z.SZ,{className:"text-blue-50 mt-1 font-medium",children:"Manage email notifications and important policy documents"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsxs)("div",{className:"relative flex-1 md:flex-none md:w-64",children:[r.jsx(l.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400"}),r.jsx(h.I,{placeholder:"Search attachments...",className:"pl-10 w-full bg-white/90 dark:bg-gray-900/90 border-transparent dark:border-transparent focus:ring-2 focus:ring-white/30 dark:focus:ring-blue-400/30 transition-all duration-200",value:e,onChange:e=>t(e.target.value)})]}),r.jsx(O.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,r.jsxs)(x.z,{variant:a?"secondary":"outline",className:`gap-2 ${a?"bg-white text-blue-700 hover:bg-blue-50":"border-white/30 text-white hover:bg-blue-700/20"} transition-all duration-200`,onClick:()=>o(!0),children:[r.jsx(n.Z,{className:"h-4 w-4"}),"Process Email"]})}),r.jsx(O.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,r.jsxs)(x.z,{variant:a?"outline":"secondary",className:`gap-2 ${a?"border-white/30 text-white hover:bg-blue-700/20":"bg-white text-blue-700 hover:bg-blue-50"} transition-all duration-200`,onClick:()=>o(!1),children:[r.jsx(d,{className:"h-4 w-4"}),"View History"]})})]})]})]})}),r.jsx(V,{mode:"wait",children:a?(0,r.jsxs)(O.E.div,{className:"grid grid-cols-1 md:grid-cols-12 gap-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[r.jsx("div",{className:"md:col-span-5",children:r.jsx(et,{})}),r.jsx("div",{className:"md:col-span-7",children:(0,r.jsxs)(Z.Zb,{className:"border-blue-200 shadow-lg bg-gradient-to-b from-white to-blue-50/40 dark:from-gray-900 dark:to-blue-950/20 overflow-hidden rounded-xl",children:[(0,r.jsxs)(Z.Ol,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 border-b border-blue-400 dark:border-blue-800 pb-3 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,rgba(255,255,255,0.1),rgba(255,255,255,0.6))]"}),r.jsx("div",{className:"absolute right-0 top-0 h-full w-24 bg-gradient-to-l from-indigo-500/20 to-transparent"}),(0,r.jsxs)("div",{className:"flex items-start z-10 relative",children:[r.jsx("div",{className:"mr-4 p-2 bg-white/30 rounded-lg shadow-inner backdrop-blur-sm",children:r.jsx(c.Z,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[r.jsx(Z.ll,{className:"text-lg font-medium text-white",children:"Process Email Notification"}),r.jsx(Z.SZ,{className:"text-blue-50 mt-1",children:"Simply copy the entire content of a notification email (like Draft Returns) and paste it below. The system will automatically extract all information and update the related application."})]})]})]}),r.jsx(Z.aY,{className:"pt-6",children:r.jsx(B,{onSuccess:()=>{f({title:"Success",description:"Email processed successfully! All related applications have been updated.",duration:5e3}),b(null),y()}})}),r.jsx(Z.eW,{className:"bg-blue-50 dark:bg-blue-950/30 border-t border-blue-100 dark:border-blue-900/50 py-3 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-xs text-blue-600 dark:text-blue-400 flex items-center gap-2",children:[r.jsx(i.Z,{className:"h-4 w-4"}),r.jsx("span",{children:"Your data is processed securely and never shared with third parties"})]})})]})})]},"upload-form"):r.jsx(O.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:(0,r.jsxs)(Z.Zb,{className:"border shadow-md bg-white dark:bg-gray-950 overflow-hidden rounded-xl",children:[(0,r.jsxs)(Z.Ol,{className:"pb-0 border-b bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-800 dark:to-indigo-800 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,rgba(255,255,255,0.1),rgba(255,255,255,0.6))]"}),r.jsx("div",{className:"absolute right-0 top-0 h-full w-32 bg-gradient-to-l from-indigo-500/20 to-transparent"}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 pb-2 relative z-10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-white/30 rounded-lg backdrop-blur-sm",children:r.jsx(u,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[r.jsx(Z.ll,{className:"text-lg font-medium text-white",children:"Attachment History"}),r.jsx(Z.SZ,{className:"text-sm text-blue-50 font-medium",children:"Browse and manage your past notifications and documents"})]})]}),r.jsx(J.mQ,{defaultValue:"all",className:"w-full md:w-auto",children:(0,r.jsxs)(J.dr,{className:"mb-0 bg-white/20 dark:bg-gray-800/30 p-1 shadow-sm border border-white/20 dark:border-gray-700/30 backdrop-blur-sm rounded-lg",children:[r.jsx(J.SP,{value:"all",className:"font-medium data-[state=active]:bg-white data-[state=active]:text-blue-700 dark:data-[state=active]:bg-white dark:data-[state=active]:text-blue-700 text-white rounded-md transition-all duration-200",children:"All"}),r.jsx(J.SP,{value:"americo",className:"font-medium data-[state=active]:bg-white data-[state=active]:text-blue-700 dark:data-[state=active]:bg-white dark:data-[state=active]:text-blue-700 text-white rounded-md transition-all duration-200",children:"Americo"}),r.jsx(J.SP,{value:"mutual",className:"font-medium data-[state=active]:bg-white data-[state=active]:text-blue-700 dark:data-[state=active]:bg-white dark:data-[state=active]:text-blue-700 text-white rounded-md transition-all duration-200",children:"Mutual"}),r.jsx(J.SP,{value:"aetna",className:"font-medium data-[state=active]:bg-white data-[state=active]:text-blue-700 dark:data-[state=active]:bg-white dark:data-[state=active]:text-blue-700 text-white rounded-md transition-all duration-200",children:"Aetna"}),r.jsx(J.SP,{value:"corebridge",className:"font-medium data-[state=active]:bg-white data-[state=active]:text-blue-700 dark:data-[state=active]:bg-white dark:data-[state=active]:text-blue-700 text-white rounded-md transition-all duration-200",children:"CoreBridge"})]})})]})]}),(0,r.jsxs)(Z.aY,{className:"p-0",children:[r.jsx(J.nU,{value:"all",className:"mt-0 py-0 px-0",children:r.jsx(N,{onSelect:j})}),r.jsx(J.nU,{value:"americo",className:"mt-0 py-0 px-0",children:r.jsx(N,{onSelect:j,carrierId:"Americo"})}),r.jsx(J.nU,{value:"mutual",className:"mt-0 py-0 px-0",children:r.jsx(N,{onSelect:j,carrierId:"Mutual of Omaha"})}),r.jsx(J.nU,{value:"aetna",className:"mt-0 py-0 px-0",children:r.jsx(N,{onSelect:j,carrierId:"Aetna"})}),r.jsx(J.nU,{value:"corebridge",className:"mt-0 py-0 px-0",children:r.jsx(N,{onSelect:j,carrierId:"CoreBridge"})})]})]})},"history-view")}),r.jsx(V,{children:p&&r.jsx(O.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,ease:"easeInOut"},children:(0,r.jsxs)(Z.Zb,{className:"mt-6 border border-gray-200 dark:border-gray-800 shadow-xl overflow-hidden bg-white dark:bg-gray-950 rounded-xl",children:[(0,r.jsxs)(Z.Ol,{className:"py-4 bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-800 dark:to-indigo-800 text-white border-b border-blue-500 dark:border-blue-700 flex flex-row justify-between items-center space-y-0 pb-4 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,rgba(255,255,255,0.1),rgba(255,255,255,0.5))]"}),(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsxs)(Z.ll,{className:"font-semibold text-white flex items-center gap-2",children:[r.jsx("span",{className:"bg-white/30 p-1.5 rounded-lg backdrop-blur-sm",children:r.jsx(i.Z,{className:"h-5 w-5 text-white"})}),"Attachment Details"]}),(0,r.jsxs)(Z.SZ,{className:"text-blue-50 mt-1 flex items-center font-medium",children:[p.title,p.carrier_name&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"mx-2 text-blue-200/60",children:"•"}),r.jsx(k.C,{variant:"outline",className:"ml-1 font-normal bg-white/10 text-white border-white/20 backdrop-blur-sm",children:p.carrier_name})]})]})]}),r.jsx(x.z,{variant:"outline",size:"sm",onClick:()=>b(null),className:"ml-auto text-white border-white/20 hover:bg-white/10 backdrop-blur-sm relative z-10",children:"Close"})]}),r.jsx(Z.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium mb-2 text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[r.jsx(c.Z,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),"Email Content"]}),r.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-900/50 whitespace-pre-wrap font-mono text-sm max-h-[400px] overflow-auto shadow-inner border-gray-200 dark:border-gray-800 transition-all duration-200 hover:shadow-md dark:text-gray-100",children:p.content||"No content available for this attachment."})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-sm font-medium mb-3 text-gray-700 dark:text-gray-200 pb-2 border-b flex items-center gap-2",children:[r.jsx(m.Z,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),"Extracted Information"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[p.policy_number&&(0,r.jsxs)(O.E.div,{className:"flex flex-col",initial:{opacity:0,x:5},animate:{opacity:1,x:0},transition:{delay:.1},children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Policy Number"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:p.policy_number})]}),p.reason&&(0,r.jsxs)(O.E.div,{className:"flex flex-col",initial:{opacity:0,x:5},animate:{opacity:1,x:0},transition:{delay:.2},children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Reason"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:p.reason})]}),p.amount&&(0,r.jsxs)(O.E.div,{className:"flex flex-col",initial:{opacity:0,x:5},animate:{opacity:1,x:0},transition:{delay:.3},children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Amount"}),(0,r.jsxs)("span",{className:"font-medium text-emerald-600 dark:text-emerald-300",children:["$",p.amount.toFixed(2)]})]}),p.effective_date&&(0,r.jsxs)(O.E.div,{className:"flex flex-col",initial:{opacity:0,x:5},animate:{opacity:1,x:0},transition:{delay:.4},children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Effective Date"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:new Date(p.effective_date).toLocaleDateString()})]}),p.insured_name&&(0,r.jsxs)(O.E.div,{className:"flex flex-col",initial:{opacity:0,x:5},animate:{opacity:1,x:0},transition:{delay:.5},children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Insured Name"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:p.insured_name})]}),p.return_date&&(0,r.jsxs)(O.E.div,{className:"flex flex-col",initial:{opacity:0,x:5},animate:{opacity:1,x:0},transition:{delay:.6},children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Return Date"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:new Date(p.return_date).toLocaleDateString()})]}),p.second_return_date&&(0,r.jsxs)(O.E.div,{className:"flex flex-col",initial:{opacity:0,x:5},animate:{opacity:1,x:0},transition:{delay:.7},children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Second Return Date"}),r.jsx("span",{className:"font-medium text-red-600 dark:text-red-300",children:new Date(p.second_return_date).toLocaleDateString()})]}),p.product_name&&(0,r.jsxs)(O.E.div,{className:"flex flex-col",initial:{opacity:0,x:5},animate:{opacity:1,x:0},transition:{delay:.8},children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"Product"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:p.product_name})]})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-800",children:p.download_url?r.jsx(O.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(x.z,{className:"w-full gap-2 bg-blue-600 hover:bg-blue-700 text-white transition-all duration-200",asChild:!0,children:(0,r.jsxs)("a",{href:p.download_url,target:"_blank",rel:"noopener noreferrer",children:[r.jsx(DownloadCloud,{className:"h-4 w-4"}),"Download Document"]})})}):p.file_url?r.jsx(O.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsx(x.z,{className:"w-full gap-2 bg-blue-600 hover:bg-blue-700 text-white transition-all duration-200",asChild:!0,children:(0,r.jsxs)("a",{href:p.file_url,target:"_blank",rel:"noopener noreferrer",children:[r.jsx(DownloadCloud,{className:"h-4 w-4"}),"Download Document"]})})}):null})]})]})})]})})})]})}},72239:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var r=a(10326);a(17577);var s=a(37711),i=a(35047),l=a(34009);function n({children:e}){let{role:t,loading:a}=(0,l.q)();return a?r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):"agent"!==t&&"admin"!==t&&"manager"!==t?(console.log("AgentLayout: Unauthorized role, redirecting to login"),(0,i.redirect)("/login"),null):r.jsx(s.M,{children:r.jsx("div",{className:"h-full",children:e})})}},38443:(e,t,a)=>{"use strict";a.d(t,{C:()=>n});var r=a(10326);a(17577);var s=a(79360),i=a(51223);let l=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function n({className:e,variant:t,...a}){return r.jsx("div",{className:(0,i.cn)(l({variant:t}),e),...a})}},29752:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>n,SZ:()=>d,Zb:()=>l,aY:()=>c,eW:()=>u,ll:()=>o});var r=a(10326),s=a(17577),i=a(51223);let l=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let n=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("h3",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("p",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},41190:(e,t,a)=>{"use strict";a.d(t,{I:()=>l});var r=a(10326),s=a(17577),i=a(51223);let l=s.forwardRef(({className:e,type:t,...a},s)=>r.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));l.displayName="Input"},50384:(e,t,a)=>{"use strict";a.d(t,{SP:()=>d,dr:()=>o,mQ:()=>n,nU:()=>c});var r=a(10326),s=a(17577),i=a(28407),l=a(51223);let n=i.fC,o=s.forwardRef(({className:e,...t},a)=>r.jsx(i.aV,{ref:a,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));o.displayName=i.aV.displayName;let d=s.forwardRef(({className:e,...t},a)=>r.jsx(i.xz,{ref:a,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));d.displayName=i.xz.displayName;let c=s.forwardRef(({className:e,...t},a)=>r.jsx(i.VY,{ref:a,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c.displayName=i.VY.displayName},82015:(e,t,a)=>{"use strict";a.d(t,{g:()=>l});var r=a(10326),s=a(17577),i=a(51223);let l=s.forwardRef(({className:e,...t},a)=>r.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));l.displayName="Textarea"},18785:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,metadata:()=>s});var r=a(19510);let s={title:"Attachments | Agent Portal"};function i({children:e}){return r.jsx(r.Fragment,{children:e})}},29747:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var r=a(68570);let s=(0,r.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\agent\attachments\page.tsx`),{__esModule:i,$$typeof:l}=s;s.default;let n=(0,r.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\agent\attachments\page.tsx#default`)},1409:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var r=a(68570);let s=(0,r.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\agent\layout.tsx`),{__esModule:i,$$typeof:l}=s;s.default;let n=(0,r.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\agent\layout.tsx#default`)},17124:(e,t,a)=>{"use strict";a.d(t,{gm:()=>i});var r=a(17577);a(10326);var s=r.createContext(void 0);function i(e){let t=r.useContext(s);return e||t||"ltr"}},88957:(e,t,a)=>{"use strict";a.d(t,{M:()=>o});var r,s=a(17577),i=a(65819),l=(r||(r=a.t(s,2)))[" useId ".trim().toString()]||(()=>void 0),n=0;function o(e){let[t,a]=s.useState(l());return(0,i.b)(()=>{e||a(e=>e??String(n++))},[e]),e||(t?`radix-${t}`:"")}},15594:(e,t,a)=>{"use strict";a.d(t,{Pc:()=>w,ck:()=>Z,fC:()=>D});var r=a(17577),s=a(82561),i=a(73866),l=a(48051),n=a(93095),o=a(88957),d=a(77335),c=a(55049),u=a(52067),m=a(17124),h=a(10326),x="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},b="RovingFocusGroup",[f,g,y]=(0,i.B)(b),[v,w]=(0,n.b)(b,[y]),[j,k]=v(b),N=r.forwardRef((e,t)=>(0,h.jsx)(f.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,h.jsx)(f.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,h.jsx)(_,{...e,ref:t})})}));N.displayName=b;var _=r.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,orientation:i,loop:n=!1,dir:o,currentTabStopId:f,defaultCurrentTabStopId:y,onCurrentTabStopIdChange:v,onEntryFocus:w,preventScrollOnEntryFocus:k=!1,...N}=e,_=r.useRef(null),C=(0,l.e)(t,_),E=(0,m.gm)(o),[M,D]=(0,u.T)({prop:f,defaultProp:y??null,onChange:v,caller:b}),[Z,R]=r.useState(!1),P=(0,c.W)(w),A=g(a),T=r.useRef(!1),[z,I]=r.useState(0);return r.useEffect(()=>{let e=_.current;if(e)return e.addEventListener(x,P),()=>e.removeEventListener(x,P)},[P]),(0,h.jsx)(j,{scope:a,orientation:i,dir:E,loop:n,currentTabStopId:M,onItemFocus:r.useCallback(e=>D(e),[D]),onItemShiftTab:r.useCallback(()=>R(!0),[]),onFocusableItemAdd:r.useCallback(()=>I(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>I(e=>e-1),[]),children:(0,h.jsx)(d.WV.div,{tabIndex:Z||0===z?-1:0,"data-orientation":i,...N,ref:C,style:{outline:"none",...e.style},onMouseDown:(0,s.M)(e.onMouseDown,()=>{T.current=!0}),onFocus:(0,s.M)(e.onFocus,e=>{let t=!T.current;if(e.target===e.currentTarget&&t&&!Z){let t=new CustomEvent(x,p);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=A().filter(e=>e.focusable);S([e.find(e=>e.active),e.find(e=>e.id===M),...e].filter(Boolean).map(e=>e.ref.current),k)}}T.current=!1}),onBlur:(0,s.M)(e.onBlur,()=>R(!1))})})}),C="RovingFocusGroupItem",E=r.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,focusable:i=!0,active:l=!1,tabStopId:n,children:c,...u}=e,m=(0,o.M)(),x=n||m,p=k(C,a),b=p.currentTabStopId===x,y=g(a),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:j}=p;return r.useEffect(()=>{if(i)return v(),()=>w()},[i,v,w]),(0,h.jsx)(f.ItemSlot,{scope:a,id:x,focusable:i,active:l,children:(0,h.jsx)(d.WV.span,{tabIndex:b?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:(0,s.M)(e.onMouseDown,e=>{i?p.onItemFocus(x):e.preventDefault()}),onFocus:(0,s.M)(e.onFocus,()=>p.onItemFocus(x)),onKeyDown:(0,s.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){p.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,a){var r;let s=(r=e.key,"rtl"!==a?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return M[s]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=y().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();let r=a.indexOf(e.currentTarget);a=p.loop?function(e,t){return e.map((a,r)=>e[(t+r)%e.length])}(a,r+1):a.slice(r+1)}setTimeout(()=>S(a))}}),children:"function"==typeof c?c({isCurrentTabStop:b,hasTabStop:null!=j}):c})})});E.displayName=C;var M={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S(e,t=!1){let a=document.activeElement;for(let r of e)if(r===a||(r.focus({preventScroll:t}),document.activeElement!==a))return}var D=N,Z=E},28407:(e,t,a)=>{"use strict";a.d(t,{VY:()=>Z,aV:()=>S,fC:()=>M,xz:()=>D});var r=a(17577),s=a(82561),i=a(93095),l=a(15594),n=a(9815),o=a(77335),d=a(17124),c=a(52067),u=a(88957),m=a(10326),h="Tabs",[x,p]=(0,i.b)(h,[l.Pc]),b=(0,l.Pc)(),[f,g]=x(h),y=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:n,activationMode:x="automatic",...p}=e,b=(0,d.gm)(n),[g,y]=(0,c.T)({prop:r,onChange:s,defaultProp:i??"",caller:h});return(0,m.jsx)(f,{scope:a,baseId:(0,u.M)(),value:g,onValueChange:y,orientation:l,dir:b,activationMode:x,children:(0,m.jsx)(o.WV.div,{dir:b,"data-orientation":l,...p,ref:t})})});y.displayName=h;var v="TabsList",w=r.forwardRef((e,t)=>{let{__scopeTabs:a,loop:r=!0,...s}=e,i=g(v,a),n=b(a);return(0,m.jsx)(l.fC,{asChild:!0,...n,orientation:i.orientation,dir:i.dir,loop:r,children:(0,m.jsx)(o.WV.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});w.displayName=v;var j="TabsTrigger",k=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,disabled:i=!1,...n}=e,d=g(j,a),c=b(a),u=C(d.baseId,r),h=E(d.baseId,r),x=r===d.value;return(0,m.jsx)(l.ck,{asChild:!0,...c,focusable:!i,active:x,children:(0,m.jsx)(o.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":h,"data-state":x?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...n,ref:t,onMouseDown:(0,s.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(r)}),onKeyDown:(0,s.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(r)}),onFocus:(0,s.M)(e.onFocus,()=>{let e="manual"!==d.activationMode;x||i||!e||d.onValueChange(r)})})})});k.displayName=j;var N="TabsContent",_=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,forceMount:i,children:l,...d}=e,c=g(N,a),u=C(c.baseId,s),h=E(c.baseId,s),x=s===c.value,p=r.useRef(x);return r.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(n.z,{present:i||x,children:({present:a})=>(0,m.jsx)(o.WV.div,{"data-state":x?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!a,id:h,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:a&&l})})});function C(e,t){return`${e}-trigger-${t}`}function E(e,t){return`${e}-content-${t}`}_.displayName=N;var M=y,S=w,D=k,Z=_},33612:(e,t,a)=>{"use strict";a.d(t,{T:()=>s});var r=a(71271);function s(e,t){let a=(0,r.Q)(e),s=(0,r.Q)(t);return 12*(a.getFullYear()-s.getFullYear())+(a.getMonth()-s.getMonth())}},53704:(e,t,a)=>{"use strict";a.d(t,{V:()=>s});var r=a(71271);function s(e){let t=(0,r.Q)(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,3841,9813,224,7344,835,6714,9344,7711],()=>a(50997));module.exports=r})();