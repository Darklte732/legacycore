(()=>{var e={};e.id=4745,e.ids=[4745],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},46145:e=>{"use strict";e.exports=require("@supabase/supabase-js")},14300:e=>{"use strict";e.exports=require("buffer")},22560:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d}),a(70369),a(46431),a(48385),a(12523);var l=a(23191),t=a(88716),n=a(37922),i=a.n(n),r=a(95231),c={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>r[e]);a.d(s,c);let d=["",{children:["manager",{children:["my-applications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,70369)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\manager\\my-applications\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,46431)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\manager\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,48385)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,12523)),"C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\not-found.tsx"]}],o=["C:\\Users\\Ronel\\Downloads\\New folder (5)\\legacycore\\legacy-core\\src\\app\\manager\\my-applications\\page.tsx"],m="/manager/my-applications/page",h={require:a,loadChunk:()=>Promise.resolve()},x=new l.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/manager/my-applications/page",pathname:"/manager/my-applications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5769:(e,s,a)=>{Promise.resolve().then(a.bind(a,7705))},66064:(e,s,a)=>{Promise.resolve().then(a.bind(a,54562))},7705:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});var l=a(10326),t=a(37711),n=a(35047),i=a(34009);function r({children:e}){let{role:s,loading:a}=(0,i.q)();return a?l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):"manager"!==s&&"admin"!==s?((0,n.redirect)("/login"),null):l.jsx(t.M,{children:l.jsx("div",{className:"p-6",children:e})})}},54562:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>S});var l=a(10326);a(65408);var t=a(17577),n=a(35047),i=a(79332),r=a(29752),c=a(91664),d=a(50384),o=a(18986),m=a(54659),h=a(87888),x=a(32933),u=a(83855),p=a(56019),j=a(38978),N=a(69701),f=a(56627),y=a(38227),g=a(90434),v=a(82631),w=a(1012);let P=()=>(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx(y.O,{className:"h-8 w-48"}),l.jsx(y.O,{className:"h-8 w-24"})]}),l.jsx("div",{className:"space-y-2",children:[,,,,,].fill(0).map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center justify-between border-b pb-2",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx(y.O,{className:"h-4 w-64"}),l.jsx(y.O,{className:"h-3 w-32"})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[l.jsx(y.O,{className:"h-6 w-24"}),l.jsx(y.O,{className:"h-6 w-6 rounded-full"})]})]},s))})]});function S(){let[e,s]=(0,t.useState)([]),[a,y]=(0,t.useState)(!0),[S,b]=(0,t.useState)("all");(0,n.useRouter)();let{toast:_}=(0,f.pm)();(0,N.e)();let[A,D]=(0,t.useState)(""),[C,U]=(0,t.useState)([]),[q,R]=(0,t.useState)(""),[M,Z]=(0,t.useState)(!1),[z,F]=(0,t.useState)(!1),[k,O]=(0,t.useState)("paste"),[$,E]=(0,t.useState)(null),[Y,G]=(0,t.useState)(0),[L,B]=(0,t.useState)({}),[H,I]=(0,t.useState)([]),[V,T]=(0,t.useState)(!1),[Q,W]=(0,t.useState)(0),[X,J]=(0,t.useState)(0),[K,ee]=(0,t.useState)(!1),[es,ea]=(0,t.useState)([]),[el,et]=(0,t.useState)(!1),[en,ei]=(0,t.useState)(null),[er,ec]=(0,t.useState)({}),[ed,eo]=(0,t.useState)({}),[em,eh]=(0,t.useState)(!1),[ex,eu]=(0,t.useState)(!1),[ep,ej]=(0,t.useState)({}),[eN,ef]=(0,t.useState)(""),[ey,eg]=(0,t.useState)(!1);(0,t.useRef)(!1);let ev=()=>{let s=e.length,a=e.filter(e=>"Approved"===e.status).length;return{totalPolicies:s,approvedPolicies:a,needsAttentionPolicies:e.filter(e=>"Needs Attention"===e.policy_health).length,paidPolicies:e.filter(e=>("Approved"===e.status||"Live"===e.status||"1st Month Paid"===e.status)&&"Paid"===e.paid_status).length,totalAnnualPremium:e.reduce((e,s)=>e+12*("number"==typeof s.monthly_premium?s.monthly_premium:parseFloat(s.monthly_premium||"0")),0)}};function ew(s){return(console.log(`Filtering applications for tab: ${s}`),console.log("Available applications:",e.length),"all"===s)?e:"healthy"===s?e.filter(e=>"Healthy"===e.policy_health):"pendingFirstPayment"===s?e.filter(e=>"Pending First Payment"===e.paid_status):"needsAttention"===s?e.filter(e=>"Needs Attention"===e.policy_health):"cancelled"===s?e.filter(e=>"Cancelled"===e.policy_health||"Cancelled"===e.status||"Declined"===e.status):"paid"===s?e.filter(e=>"Paid"===e.paid_status):"unpaid"===s?e.filter(e=>"Unpaid"===e.paid_status):"inProcess"===s?e.filter(e=>"In Process"===e.policy_health):e}return l.jsx(v.pn,{children:l.jsx("div",{className:"container mx-auto p-6",children:(0,l.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,l.jsxs)("div",{className:"flex flex-col space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Manager Applications"}),l.jsx("p",{className:"text-gray-500",children:"Applications created by you or assigned to your management"})]}),a?l.jsx(P,{}):(0,l.jsxs)(l.Fragment,{children:[l.jsx(()=>{let e=ev();return l.jsx("div",{className:"mb-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[l.jsx(r.Zb,{className:"stat-card total card-hover-effect",children:l.jsx(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"stat-info",children:[l.jsx("p",{className:"stat-label",children:"Total Policies"}),l.jsx("h3",{className:"stat-value",children:e.totalPolicies})]}),l.jsx("div",{className:"stat-icon",children:l.jsx(o.Z,{className:"h-6 w-6"})})]})})}),l.jsx(r.Zb,{className:"stat-card approved card-hover-effect",children:l.jsx(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"stat-info",children:[l.jsx("p",{className:"stat-label",children:"Approved"}),l.jsx("h3",{className:"stat-value",children:e.approvedPolicies})]}),l.jsx("div",{className:"stat-icon",children:l.jsx(m.Z,{className:"h-6 w-6"})})]})})}),l.jsx(r.Zb,{className:"stat-card attention card-hover-effect",children:l.jsx(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"stat-info",children:[l.jsx("p",{className:"stat-label",children:"Needs Attention"}),l.jsx("h3",{className:"stat-value",children:e.needsAttentionPolicies})]}),l.jsx("div",{className:"stat-icon",children:l.jsx(h.Z,{className:"h-6 w-6"})})]})})}),l.jsx(r.Zb,{className:"stat-card paid card-hover-effect",children:l.jsx(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"stat-info",children:[l.jsx("p",{className:"stat-label",children:"Paid/Issued"}),l.jsx("h3",{className:"stat-value",children:e.paidPolicies})]}),l.jsx("div",{className:"stat-icon",children:l.jsx(x.Z,{className:"h-6 w-6"})})]})})}),l.jsx(r.Zb,{className:"stat-card premium card-hover-effect",children:l.jsx(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"stat-info",children:[l.jsx("p",{className:"stat-label",children:"Annual Premium"}),(0,l.jsxs)("h3",{className:"stat-value",children:["$",e.totalAnnualPremium.toLocaleString()]})]}),l.jsx("div",{className:"stat-icon",children:(0,l.jsxs)("svg",{fill:"none",className:"h-6 w-6",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"}),l.jsx("path",{d:"M12 18V6"})]})})]})})})]})})},{}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"flex space-x-2 items-center",children:l.jsx(j.tE,{})}),l.jsx("div",{className:"flex space-x-2",children:l.jsx(g.default,{href:"/manager/script-assistant",children:(0,l.jsxs)(c.z,{children:[l.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"New Application"]})})})]}),(0,l.jsxs)(d.mQ,{defaultValue:"all",className:"w-full",onValueChange:function(e){b(e)},children:[(0,l.jsxs)(d.dr,{className:"grid grid-cols-4 md:grid-cols-8 mb-4",children:[l.jsx(d.SP,{value:"all",children:"All"}),(0,l.jsxs)(d.SP,{value:"healthy",children:[l.jsx("span",{className:"hidden md:inline",children:"Healthy"}),l.jsx("span",{className:"md:hidden",children:"✅"})]}),(0,l.jsxs)(d.SP,{value:"pendingFirstPayment",children:[l.jsx("span",{className:"hidden md:inline",children:"Pending Payment"}),l.jsx("span",{className:"md:hidden",children:"\uD83D\uDCB0"})]}),(0,l.jsxs)(d.SP,{value:"needsAttention",children:[l.jsx("span",{className:"hidden md:inline",children:"Needs Attention"}),l.jsx("span",{className:"md:hidden",children:"⚠️"})]}),(0,l.jsxs)(d.SP,{value:"cancelled",children:[l.jsx("span",{className:"hidden md:inline",children:"Cancelled"}),l.jsx("span",{className:"md:hidden",children:"❌"})]}),(0,l.jsxs)(d.SP,{value:"paid",children:[l.jsx("span",{className:"hidden md:inline",children:"Paid"}),l.jsx("span",{className:"md:hidden",children:"\uD83D\uDCB5"})]}),(0,l.jsxs)(d.SP,{value:"unpaid",children:[l.jsx("span",{className:"hidden md:inline",children:"Unpaid"}),l.jsx("span",{className:"md:hidden",children:"\uD83D\uDCDD"})]}),(0,l.jsxs)(d.SP,{value:"inProcess",children:[l.jsx("span",{className:"hidden md:inline",children:"In Process"}),l.jsx("span",{className:"md:hidden",children:"⏳"})]})]}),l.jsx(d.nU,{value:"all",className:"space-y-4",children:l.jsx(w.S,{children:l.jsx(i.w,{columns:p.z,data:ew("all")})})}),l.jsx(d.nU,{value:"healthy",className:"space-y-4",children:l.jsx(w.S,{children:l.jsx(i.w,{columns:p.z,data:ew("healthy")})})}),l.jsx(d.nU,{value:"pendingFirstPayment",className:"space-y-4",children:l.jsx(w.S,{children:l.jsx(i.w,{columns:p.z,data:ew("pendingFirstPayment")})})}),l.jsx(d.nU,{value:"needsAttention",className:"space-y-4",children:l.jsx(w.S,{children:l.jsx(i.w,{columns:p.z,data:ew("needsAttention")})})}),l.jsx(d.nU,{value:"cancelled",className:"space-y-4",children:l.jsx(w.S,{children:l.jsx(i.w,{columns:p.z,data:ew("cancelled")})})}),l.jsx(d.nU,{value:"paid",className:"space-y-4",children:l.jsx(w.S,{children:l.jsx(i.w,{columns:p.z,data:ew("paid")})})}),l.jsx(d.nU,{value:"unpaid",className:"space-y-4",children:l.jsx(w.S,{children:l.jsx(i.w,{columns:p.z,data:ew("unpaid")})})}),l.jsx(d.nU,{value:"inProcess",className:"space-y-4",children:l.jsx(w.S,{children:l.jsx(i.w,{columns:p.z,data:ew("inProcess")})})})]})]})]})})})}},46431:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>r});var l=a(68570);let t=(0,l.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\manager\layout.tsx`),{__esModule:n,$$typeof:i}=t;t.default;let r=(0,l.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\manager\layout.tsx#default`)},70369:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>r});var l=a(68570);let t=(0,l.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\manager\my-applications\page.tsx`),{__esModule:n,$$typeof:i}=t;t.default;let r=(0,l.createProxy)(String.raw`C:\Users\Ronel\Downloads\New folder (5)\legacycore\legacy-core\src\app\manager\my-applications\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),l=s.X(0,[8948,3841,9813,224,825,7344,8624,4026,3579,5999,2812,1379,9344,7711,2e3,6575],()=>a(22560));module.exports=l})();