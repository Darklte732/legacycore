"use strict";exports.id=1488,exports.ids=[1488],exports.modules={33261:(e,r,a)=>{a.d(r,{X:()=>n,bZ:()=>o});var t=a(10326),s=a(17577),d=a(79360),l=a(51223);let i=(0,d.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:border-green-500 [&>svg]:text-green-600",warning:"border-yellow-500/50 text-yellow-600 dark:border-yellow-500 [&>svg]:text-yellow-600",info:"border-blue-500/50 text-blue-600 dark:border-blue-500 [&>svg]:text-blue-600"}},defaultVariants:{variant:"default"}}),o=s.forwardRef(({className:e,variant:r,...a},s)=>t.jsx("div",{ref:s,role:"alert",className:(0,l.cn)(i({variant:r}),e),...a}));o.displayName="Alert",s.forwardRef(({className:e,...r},a)=>t.jsx("h5",{ref:a,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",e),...r})).displayName="AlertTitle";let n=s.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",e),...r}));n.displayName="AlertDescription"},38443:(e,r,a)=>{a.d(r,{C:()=>i});var t=a(10326);a(17577);var s=a(79360),d=a(51223);let l=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function i({className:e,variant:r,...a}){return t.jsx("div",{className:(0,d.cn)(l({variant:r}),e),...a})}},59363:(e,r,a)=>{a.d(r,{Z:()=>v});var t=a(10326),s=a(17577),d=a(24118),l=a(91664),i=a(41190),o=a(44794),n=a(82015),c=a(9280),p=a(33194),m=a(69701),g=a(46951),u=a(37358),x=a(87888),b=a(48998),f=a(51027),h=a(51223),y=a(33261);function v({isOpen:e,onClose:r,onSave:a,event:v,isEditing:w=!1}){let[k,N]=(0,s.useState)(v?.title||""),[j,_]=(0,s.useState)(v?.description||""),[z,C]=(0,s.useState)(void 0),[M,D]=(0,s.useState)(""),[S,E]=(0,s.useState)(void 0),[Z,T]=(0,s.useState)(""),[W,U]=(0,s.useState)(v?.is_all_day||!1),[F,R]=(0,s.useState)(!1),[V,X]=(0,s.useState)(null),[A,I]=(0,s.useState)(null),[O,q]=(0,s.useState)({}),H=(0,m.e)(),P=()=>{let e={},r=!0;if(k?.trim()||(e.title="Title is required",r=!1),z||(e.startDate="Start date is required",r=!1),W||M||(e.startTime="Start time is required",r=!1),S||(e.endDate="End date is required",r=!1),W||Z||(e.endTime="End time is required",r=!1),z&&S){let a,t;if(W)(a=new Date(z)).setHours(0,0,0,0),(t=new Date(S)).setHours(23,59,59,999),t<a&&(e.endDate="End date must be on or after start date",r=!1);else if(M&&Z){let[s,d]=M.split(":").map(Number),[l,i]=Z.split(":").map(Number);(a=new Date(z)).setHours(s,d,0,0),(t=new Date(S)).setHours(l,i,0,0),t<a&&(e.endTime="End time must be after start time",r=!1)}}return q(e),r},Y=async()=>{try{let e,r;if(X(null),!P())return;R(!0);let{data:{session:t}}=await H.auth.getSession();if(!t?.user?.id){X("You must be logged in to create events");return}if(W)(e=new Date(z)).setHours(0,0,0,0),(r=new Date(S)).setHours(23,59,59,999);else{let[a,t]=M.split(":").map(Number),[s,d]=Z.split(":").map(Number);(e=new Date(z)).setHours(a,t,0,0),(r=new Date(S)).setHours(s,d,0,0)}let s={...v,title:k,description:j||null,start_time:e.toISOString(),end_time:r.toISOString(),is_all_day:W,organizer_id:t.user.id,organization_id:A};await a(s),J()}catch(e){console.error("Error saving event:",e),X(e.message||"Failed to save event")}finally{R(!1)}},J=()=>{q({}),X(null),r()};return t.jsx(d.Vq,{open:e,onOpenChange:J,children:(0,t.jsxs)(d.cZ,{className:"sm:max-w-[500px] p-0 overflow-hidden bg-white dark:bg-gray-900 shadow-xl border border-gray-200 dark:border-gray-800 rounded-lg",children:[t.jsx(d.fK,{className:"bg-gradient-to-r from-blue-100 to-indigo-100 dark:from-blue-950 dark:to-indigo-950 px-6 py-5 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)(d.$N,{className:"text-xl font-semibold flex items-center gap-2 text-gray-900 dark:text-white",children:[t.jsx(u.Z,{className:"h-5 w-5 text-primary"}),w?"Edit Event":"Add New Event"]})}),(0,t.jsxs)("div",{className:"grid gap-5 p-6 max-h-[calc(85vh-180px)] overflow-y-auto bg-white dark:bg-gray-900",children:[V&&(0,t.jsxs)(y.bZ,{variant:"destructive",className:"mb-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[t.jsx(x.Z,{className:"h-4 w-4"}),t.jsx(y.X,{className:"ml-2",children:V})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsxs)(o._,{htmlFor:"title",className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Title",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.jsx(i.I,{id:"title",value:k,onChange:e=>N(e.target.value),placeholder:"Event title",className:(0,h.cn)("transition-all focus-visible:ring-primary border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 h-10 shadow-sm",O.title&&"border-red-500 focus-visible:ring-red-500")}),O.title&&t.jsx("p",{className:"text-xs text-red-500 mt-1",children:O.title})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[t.jsx(o._,{htmlFor:"description",className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Description"}),t.jsx(n.g,{id:"description",value:j||"",onChange:e=>_(e.target.value),placeholder:"Event description (optional)",rows:3,className:"resize-none focus-visible:ring-primary border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 py-2 px-3 rounded-md bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700",children:[t.jsx(c.X,{id:"all-day",checked:W,onCheckedChange:e=>U(e),className:"data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground border-gray-300 dark:border-gray-700"}),t.jsx(o._,{htmlFor:"all-day",className:"text-sm font-medium cursor-pointer hover:text-primary transition-colors text-gray-900 dark:text-gray-100",children:"All day event"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsxs)(o._,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Start Date",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsxs)(f.J2,{children:[t.jsx(f.xo,{asChild:!0,children:(0,t.jsxs)(l.z,{variant:"outline",className:(0,h.cn)("justify-start text-left font-normal transition-all border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm h-10",!z&&"text-gray-500 dark:text-gray-400",O.startDate&&"border-red-500 text-red-500 focus-visible:ring-red-500"),children:[t.jsx(u.Z,{className:"mr-2 h-4 w-4 text-gray-500 dark:text-gray-400"}),z?(0,g.WU)(z,"PPP"):t.jsx("span",{children:"Pick a date"})]})}),t.jsx(f.yk,{className:"w-auto p-0",align:"start",children:t.jsx(p.f,{mode:"single",selected:z,onSelect:e=>{C(e),e&&(!S||e>S)&&E(e)},initialFocus:!0,className:"rounded-md border border-gray-200 dark:border-gray-700"})})]}),O.startDate&&t.jsx("p",{className:"text-xs text-red-500 mt-1",children:O.startDate})]}),!W&&(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsxs)(o._,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Start Time",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(b.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500 dark:text-gray-400"}),t.jsx(i.I,{type:"time",value:M,onChange:e=>D(e.target.value),className:(0,h.cn)("pl-10 transition-all focus-visible:ring-primary border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm h-10",O.startTime&&"border-red-500 focus-visible:ring-red-500")})]}),O.startTime&&t.jsx("p",{className:"text-xs text-red-500 mt-1",children:O.startTime})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsxs)(o._,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["End Date",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsxs)(f.J2,{children:[t.jsx(f.xo,{asChild:!0,children:(0,t.jsxs)(l.z,{variant:"outline",className:(0,h.cn)("justify-start text-left font-normal transition-all border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm h-10",!S&&"text-gray-500 dark:text-gray-400",O.endDate&&"border-red-500 text-red-500 focus-visible:ring-red-500"),children:[t.jsx(u.Z,{className:"mr-2 h-4 w-4 text-gray-500 dark:text-gray-400"}),S?(0,g.WU)(S,"PPP"):t.jsx("span",{children:"Pick a date"})]})}),t.jsx(f.yk,{className:"w-auto p-0",align:"start",children:t.jsx(p.f,{mode:"single",selected:S,onSelect:E,initialFocus:!0,className:"rounded-md border border-gray-200 dark:border-gray-700",disabled:e=>!!z&&e<new Date(z)})})]}),O.endDate&&t.jsx("p",{className:"text-xs text-red-500 mt-1",children:O.endDate})]}),!W&&(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsxs)(o._,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["End Time",t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(b.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500 dark:text-gray-400"}),t.jsx(i.I,{type:"time",value:Z,onChange:e=>T(e.target.value),className:(0,h.cn)("pl-10 transition-all focus-visible:ring-primary border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm h-10",O.endTime&&"border-red-500 focus-visible:ring-red-500")})]}),O.endTime&&t.jsx("p",{className:"text-xs text-red-500 mt-1",children:O.endTime})]})]})]}),(0,t.jsxs)(d.cN,{className:"flex gap-2 p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[t.jsx(l.z,{variant:"outline",onClick:J,className:"flex-1 border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300",disabled:F,children:"Cancel"}),t.jsx(l.z,{onClick:Y,disabled:F,className:"flex-1 relative bg-primary hover:bg-primary/90 text-white font-medium shadow-sm",children:F?(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{className:"opacity-0",children:"Save Event"}),t.jsx("span",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}):w?"Update Event":"Save Event"})]})]})})}},33194:(e,r,a)=>{a.d(r,{f:()=>n});var t=a(10326);a(17577);var s=a(11890),d=a(39183),l=a(83880),i=a(51223),o=a(91664);function n({className:e,classNames:r,showOutsideDays:a=!0,...n}){return t.jsx(l._,{showOutsideDays:a,className:(0,i.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,o.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,o.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({...e})=>t.jsx(s.Z,{className:"h-4 w-4"}),IconRight:({...e})=>t.jsx(d.Z,{className:"h-4 w-4"})},...n})}n.displayName="Calendar"},9280:(e,r,a)=>{a.d(r,{X:()=>o});var t=a(10326),s=a(17577),d=a(13635),l=a(32933),i=a(51223);let o=s.forwardRef(({className:e,...r},a)=>t.jsx(d.fC,{ref:a,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-gray-200 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-gray-900 data-[state=checked]:text-gray-50 dark:border-gray-800 dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300 dark:data-[state=checked]:bg-gray-50 dark:data-[state=checked]:text-gray-900",e),...r,children:t.jsx(d.z$,{className:(0,i.cn)("flex items-center justify-center text-current"),children:t.jsx(l.Z,{className:"h-3.5 w-3.5"})})}));o.displayName=d.fC.displayName},24118:(e,r,a)=>{a.d(r,{$N:()=>x,Be:()=>b,Vq:()=>o,cN:()=>u,cZ:()=>m,fK:()=>g,hg:()=>n});var t=a(10326),s=a(17577),d=a(37956),l=a(94019),i=a(51223);let o=d.fC,n=d.xz,c=d.h_;d.x8;let p=s.forwardRef(({className:e,...r},a)=>t.jsx(d.aV,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));p.displayName=d.aV.displayName;let m=s.forwardRef(({className:e,children:r,...a},s)=>(0,t.jsxs)(c,{children:[t.jsx(p,{}),(0,t.jsxs)(d.VY,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[r,(0,t.jsxs)(d.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(l.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=d.VY.displayName;let g=({className:e,...r})=>t.jsx("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});g.displayName="DialogHeader";let u=({className:e,...r})=>t.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});u.displayName="DialogFooter";let x=s.forwardRef(({className:e,...r},a)=>t.jsx(d.Dx,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...r}));x.displayName=d.Dx.displayName;let b=s.forwardRef(({className:e,...r},a)=>t.jsx(d.dk,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));b.displayName=d.dk.displayName},49232:(e,r,a)=>{a.d(r,{n:()=>U});var t=a(10326),s=a(17577),d=a(61752),l=a(46951),i=a(64414),o=a(32067),n=a(73159),c=a(51648),p=a(53704),m=a(86358),g=a(87396),u=a(21918),x=a(3713),b=a(9267),f=a(88307),h=a(94019),y=a(11890),v=a(39183),w=a(51996),k=a(48998),N=a(79635),j=a(37358),_=a(51223),z=a(91664),C=a(17415);let M=s.forwardRef(({className:e,orientation:r="horizontal",decorative:a=!0,...s},d)=>t.jsx(C.f,{ref:d,decorative:a,orientation:r,className:(0,_.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",e),...s}));M.displayName=C.f.displayName;var D=a(82631),S=a(38443),E=a(41190),Z=a(38227);let T=["","col-start-2","col-start-3","col-start-4","col-start-5","col-start-6","col-start-7"],W=["bg-blue-100 border-blue-300 text-blue-700 hover:bg-blue-200 dark:bg-blue-900/40 dark:border-blue-700 dark:text-blue-300 dark:hover:bg-blue-800/60","bg-green-100 border-green-300 text-green-700 hover:bg-green-200 dark:bg-green-900/40 dark:border-green-700 dark:text-green-300 dark:hover:bg-green-800/60","bg-purple-100 border-purple-300 text-purple-700 hover:bg-purple-200 dark:bg-purple-900/40 dark:border-purple-700 dark:text-purple-300 dark:hover:bg-purple-800/60","bg-yellow-100 border-yellow-300 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900/40 dark:border-yellow-700 dark:text-yellow-300 dark:hover:bg-yellow-800/60","bg-pink-100 border-pink-300 text-pink-700 hover:bg-pink-200 dark:bg-pink-900/40 dark:border-pink-700 dark:text-pink-300 dark:hover:bg-pink-800/60","bg-indigo-100 border-indigo-300 text-indigo-700 hover:bg-indigo-200 dark:bg-indigo-900/40 dark:border-indigo-700 dark:text-indigo-300 dark:hover:bg-indigo-800/60","bg-red-100 border-red-300 text-red-700 hover:bg-red-200 dark:bg-red-900/40 dark:border-red-700 dark:text-red-300 dark:hover:bg-red-800/60"];function U({data:e,onEventClick:r,onAddEvent:a,isLoading:C=!1}){let U=(0,d.I)(),[F,R]=s.useState(U),[V,X]=s.useState((0,l.WU)(U,"MMM-yyyy")),[A,I]=s.useState(""),[O,q]=s.useState(e),[H,P]=s.useState(null),[Y,J]=s.useState(!0),L=(0,i.Qc)(V,"MMM-yyyy",new Date),$=function(e){let[r,a]=(0,s.useState)(!1);return r}(0),K=(0,o.D)({start:(0,n.z)(L),end:(0,c.v)((0,p.V)(L))});s.useEffect(()=>{q(e)},[e]),s.useEffect(()=>{if(""===A.trim())q(e);else{let r=A.toLowerCase();q(e.map(e=>{let a=e.events.filter(e=>e.name.toLowerCase().includes(r)||e.description&&e.description.toLowerCase().includes(r));return{...e,events:a}}).filter(e=>e.events.length>0))}},[A,e]);let B=(e,a)=>{a.stopPropagation(),r&&e&&r({id:e.id,title:e.name,description:e.description,start_time:e.datetime,end_time:e.end_time,organizer_id:e.organizer_id,is_all_day:e.is_all_day})},Q=e=>W[("string"==typeof e?e.split("").reduce((e,r)=>e+r.charCodeAt(0),0):Number(e))%W.length],G=e=>{R(e),a&&a()};return(0,t.jsxs)("div",{className:"flex flex-1 flex-col rounded-lg border shadow-md bg-white dark:bg-gray-950 overflow-hidden h-full",children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-4 p-4 md:p-5 bg-gradient-to-r from-purple-100/90 to-indigo-100/90 dark:from-purple-950 dark:to-indigo-950 border-b border-purple-200 dark:border-purple-800/60 md:flex-row md:items-center md:justify-between md:space-y-0 lg:flex-none",children:[t.jsx("div",{className:"flex flex-auto",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"hidden w-20 flex-col items-center justify-center rounded-lg border-2 border-purple-300 dark:border-purple-700 shadow-md bg-white dark:bg-gray-800 p-0.5 md:flex",children:[t.jsx("h1",{className:"p-1 text-xs font-semibold uppercase text-purple-700 dark:text-purple-300",children:(0,l.WU)(U,"MMM")}),t.jsx("div",{className:"flex w-full items-center justify-center rounded-md bg-gradient-to-br from-purple-500 to-indigo-600 dark:from-purple-600 dark:to-indigo-700 p-0.5 text-lg font-bold text-white",children:t.jsx("span",{children:(0,l.WU)(U,"d")})})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[t.jsx("h2",{className:"text-xl font-bold text-purple-800 dark:text-purple-200",children:(0,l.WU)(L,"MMMM, yyyy")}),(0,t.jsxs)("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:[(0,l.WU)(L,"MMM d, yyyy")," -"," ",(0,l.WU)((0,p.V)(L),"MMM d, yyyy")]})]})]})}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4 md:flex-row md:gap-6",children:[(0,t.jsxs)("div",{className:"relative w-full md:w-auto",children:[t.jsx(f.Z,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-purple-500 dark:text-purple-400"}),t.jsx(E.I,{placeholder:"Search events",value:A,onChange:e=>I(e.target.value),className:"w-full pl-9 md:w-[220px] border-purple-200 dark:border-purple-700 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 shadow-sm rounded-md"}),A&&t.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-purple-500 hover:text-purple-700 dark:hover:text-purple-300",onClick:()=>I(""),children:t.jsx(h.Z,{size:14})})]}),t.jsx(M,{orientation:"vertical",className:"hidden h-6 lg:block"}),(0,t.jsxs)("div",{className:"inline-flex w-full -space-x-px rounded-lg shadow-sm shadow-purple-200/50 dark:shadow-purple-950/20 md:w-auto rtl:space-x-reverse",children:[t.jsx(z.z,{onClick:function(){let e=(0,m.I)(L,{months:-1});X((0,l.WU)(e,"MMM-yyyy"))},className:"rounded-l-lg border-purple-200 dark:border-purple-800 shadow-sm first:rounded-s-lg last:rounded-e-lg focus-visible:z-10 hover:bg-purple-50 dark:hover:bg-purple-900/30",variant:"outline",size:"icon","aria-label":"Navigate to previous month",children:t.jsx(y.Z,{size:16,strokeWidth:2,className:"text-purple-700 dark:text-purple-300"})}),t.jsx(z.z,{onClick:function(){X((0,l.WU)(U,"MMM-yyyy")),R(U)},className:"w-full border-purple-200 dark:border-purple-800 shadow-sm focus-visible:z-10 md:w-auto hover:bg-purple-50 dark:hover:bg-purple-900/30 text-purple-700 dark:text-purple-300 font-medium",variant:"outline",children:"Today"}),t.jsx(z.z,{onClick:function(){let e=(0,m.I)(L,{months:1});X((0,l.WU)(e,"MMM-yyyy"))},className:"rounded-r-lg border-purple-200 dark:border-purple-800 shadow-sm first:rounded-s-lg last:rounded-e-lg focus-visible:z-10 hover:bg-purple-50 dark:hover:bg-purple-900/30",variant:"outline",size:"icon","aria-label":"Navigate to next month",children:t.jsx(v.Z,{size:16,strokeWidth:2,className:"text-purple-700 dark:text-purple-300"})})]}),t.jsx(M,{orientation:"vertical",className:"hidden h-6 md:block"}),t.jsx(M,{orientation:"horizontal",className:"block w-full md:hidden"}),(0,t.jsxs)(z.z,{onClick:()=>{a&&a()},variant:"default",className:"w-full md:w-auto bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 border-0 text-white font-medium shadow-md hover:shadow-lg transition-all duration-200",children:[t.jsx(w.Z,{size:16,className:"mr-2"}),"Add Event"]})]})]}),(0,t.jsxs)("div",{className:"flex-1 p-4 md:px-6 md:py-5 overflow-auto",children:[(0,t.jsxs)("div",{className:"grid grid-cols-7 gap-px rounded-t-lg bg-purple-200 dark:bg-purple-900/50 text-center text-sm font-medium leading-6 text-purple-900 dark:text-purple-200 shadow-sm overflow-hidden sticky top-0 z-10",children:[t.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Sun"}),t.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Mon"}),t.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Tue"}),t.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Wed"}),t.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Thu"}),t.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Fri"}),t.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Sat"})]}),t.jsx("div",{className:"isolate grid grid-cols-7 gap-px rounded-b-lg overflow-hidden bg-purple-200 dark:bg-purple-900/50 text-sm shadow-md",children:K.map((e,r)=>{let a=(0,l.WU)(e,"yyyy-MM-dd"),s=O.find(e=>l.WU(e.day,"yyyy-MM-dd")===a)?.events||[],d=s.length,i=$?3:2,o=Math.max(0,d-i);return(0,t.jsxs)("div",{className:(0,_.cn)("relative min-h-[120px] md:min-h-[150px] lg:min-h-[170px] bg-white dark:bg-gray-900 p-2.5 transition-colors border border-purple-100 dark:border-transparent",(0,g.X)(e,F)&&"bg-purple-50 dark:bg-purple-900/20 shadow-[inset_0_0_0_2px_theme(colors.purple.400)]",!(0,g.X)(e,F)&&(0,u.z)(e)&&"bg-indigo-50 dark:bg-indigo-900/20 shadow-[inset_0_0_0_1.5px_theme(colors.indigo.400)] dark:shadow-[inset_0_0_0_1.5px_theme(colors.indigo.600),_0_0_15px_theme(colors.indigo.700)]",!(0,x.x)(e,L)&&"bg-gray-50/80 dark:bg-gray-950/70",0===r&&T[(0,b.w)(e)],"cursor-pointer flex flex-col hover:bg-purple-50/70 dark:hover:bg-purple-900/20"),onMouseEnter:()=>P(e),onMouseLeave:()=>P(null),onClick:()=>G(e),children:[t.jsx("time",{dateTime:(0,l.WU)(e,"yyyy-MM-dd"),className:(0,_.cn)("ml-auto flex h-7 w-7 items-center justify-center rounded-full font-semibold transition-all",(0,g.X)(e,F)&&"bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-md",!(0,g.X)(e,F)&&(0,u.z)(e)&&"bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-md ring-2 ring-indigo-400/30 dark:ring-indigo-300/20",!(0,g.X)(e,F)&&(0,x.x)(e,L)&&!(0,u.z)(e)&&"text-gray-900 dark:text-gray-100",!(0,g.X)(e,F)&&!(0,x.x)(e,L)&&!(0,u.z)(e)&&"text-gray-400 dark:text-gray-500",(0,g.X)(e,H)&&!(0,g.X)(e,F)&&!(0,u.z)(e)&&"bg-purple-100 dark:bg-purple-800/20 text-purple-700 dark:text-purple-300","mb-1.5"),children:(0,l.WU)(e,"d")}),t.jsx("div",{className:"flex-1 overflow-y-auto space-y-1.5 w-full text-left scrollbar-hide",children:s.slice(0,i).map(e=>t.jsx(D.pn,{delayDuration:200,children:(0,t.jsxs)(D.u,{children:[t.jsx(D.aJ,{asChild:!0,children:(0,t.jsxs)("div",{className:(0,_.cn)("px-2.5 py-1.5 text-xs rounded-md border shadow-sm hover:shadow-md truncate w-full transition-all",Q(e.id),"cursor-pointer"),onClick:r=>B(e,r),children:[t.jsx("div",{className:"font-semibold truncate",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center text-[10px] opacity-80 mt-0.5",children:[t.jsx(k.Z,{className:"h-2.5 w-2.5 mr-1 inline-block"})," ",e.time]})]})}),(0,t.jsxs)(D._v,{className:"p-4 space-y-2 max-w-xs rounded-lg shadow-lg bg-white dark:bg-gray-800 border border-purple-100 dark:border-purple-800",children:[t.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center text-xs text-gray-600 dark:text-gray-300",children:[t.jsx(k.Z,{className:"h-3 w-3 mr-1"})," ",e.time]}),e.description&&t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 line-clamp-3",children:e.description}),e.organizer_id&&(0,t.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[t.jsx(N.Z,{className:"h-3 w-3 mr-1"})," Organizer ID: ",e.organizer_id.substring(0,8),"..."]})]})]})},e.id))}),o>0&&t.jsx("div",{className:"mt-1.5",children:(0,t.jsxs)(S.C,{variant:"secondary",className:"text-[9px] h-5 px-1.5 rounded-full shadow-sm bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300 font-medium",children:["+",o," more"]})}),(0,g.X)(e,H)&&t.jsx(z.z,{size:"icon",variant:"ghost",className:"absolute bottom-1.5 right-1.5 h-6 w-6 rounded-full opacity-90 hover:opacity-100 bg-gradient-to-br from-purple-500/20 to-indigo-500/20 hover:from-purple-500/30 hover:to-indigo-500/30 border border-purple-300/50 dark:border-purple-700/50 shadow-sm",onClick:r=>{r.stopPropagation(),G(e)},children:t.jsx(w.Z,{size:14,className:"text-purple-700 dark:text-purple-300"})}),((0,g.X)(e,F)||(0,u.z)(e))&&!(0,g.X)(e,H)&&t.jsx("div",{className:"absolute right-1 bottom-1 w-2 h-2 rounded-full bg-purple-400 dark:bg-purple-500"})]},e.toString())})})]}),0===e.length&&!C&&Y&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-transparent backdrop-blur-none pointer-events-none",children:(0,t.jsxs)("div",{className:"text-center p-6 bg-white/95 dark:bg-gray-900/95 rounded-lg shadow-lg border border-purple-100 dark:border-purple-900 max-w-md relative pointer-events-auto",children:[t.jsx("button",{onClick:()=>J(!1),className:"absolute top-2 right-2 p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400","aria-label":"Close",children:t.jsx(h.Z,{className:"h-4 w-4"})}),t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-purple-100 dark:bg-purple-900/50 mb-4",children:t.jsx(j.Z,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Events Yet"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Your calendar is empty. Add your first event to get started."}),(0,t.jsxs)(z.z,{onClick:()=>{J(!1),a&&a()},className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white shadow-md",children:[t.jsx(w.Z,{className:"h-4 w-4 mr-2"}),"Add Your First Event"]})]})}),C&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"space-y-6 w-72 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-purple-100 dark:border-purple-900",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx(Z.O,{className:"h-5 w-40 mx-auto"}),t.jsx(Z.O,{className:"h-10 w-full"})]}),t.jsx("div",{className:"grid grid-cols-7 gap-1.5",children:Array.from({length:7}).map((e,r)=>t.jsx(Z.O,{className:"h-5 w-full"},r))}),t.jsx("div",{className:"grid grid-cols-7 gap-1.5",children:Array.from({length:35}).map((e,r)=>t.jsx(Z.O,{className:"h-24 w-full"},r))})]})})]})}},41190:(e,r,a)=>{a.d(r,{I:()=>l});var t=a(10326),s=a(17577),d=a(51223);let l=s.forwardRef(({className:e,type:r,...a},s)=>t.jsx("input",{type:r,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));l.displayName="Input"},44794:(e,r,a)=>{a.d(r,{_:()=>i});var t=a(10326),s=a(17577),d=a(34478),l=a(51223);let i=s.forwardRef(({className:e,...r},a)=>t.jsx(d.f,{ref:a,className:(0,l.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...r}));i.displayName=d.f.displayName},51027:(e,r,a)=>{a.d(r,{J2:()=>i,xo:()=>o,yk:()=>n});var t=a(10326),s=a(17577),d=a(78728),l=a(51223);let i=d.fC,o=d.xz,n=s.forwardRef(({className:e,align:r="center",sideOffset:a=4,...s},i)=>t.jsx(d.h_,{children:t.jsx(d.VY,{ref:i,align:r,sideOffset:a,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));n.displayName=d.VY.displayName},38227:(e,r,a)=>{a.d(r,{O:()=>d});var t=a(10326),s=a(51223);function d({className:e,...r}){return t.jsx("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",e),...r})}},82015:(e,r,a)=>{a.d(r,{g:()=>l});var t=a(10326),s=a(17577),d=a(51223);let l=s.forwardRef(({className:e,...r},a)=>t.jsx("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));l.displayName="Textarea"},82631:(e,r,a)=>{a.d(r,{_v:()=>c,aJ:()=>n,pn:()=>i,u:()=>o});var t=a(10326),s=a(17577),d=a(6218),l=a(51223);let i=d.zt,o=d.fC,n=d.xz,c=s.forwardRef(({className:e,sideOffset:r=4,...a},s)=>t.jsx(d.VY,{ref:s,sideOffset:r,className:(0,l.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));c.displayName=d.VY.displayName},22944:(e,r,a)=>{a.d(r,{f:()=>n});var t=a(17577),s=a(69701),d=a(94629),l=a(46951),i=a(11891),o=a(90960);function n(){let[e,r]=(0,t.useState)([]),[a,n]=(0,t.useState)(!0),[c,p]=(0,t.useState)(null),m=(0,s.e)();return{events:e,loading:a,error:c,fetchEvents:async()=>{try{n(!0);let{data:{session:e}}=await m.auth.getSession();if(!e?.user?.id){r([]);return}let{data:a,error:t}=await m.from("calendar_events").select("*").eq("organizer_id",e.user.id).order("start_time",{ascending:!0});if(t)throw t;r(a||[])}catch(e){console.error("Error fetching calendar events:",e),p(e.message||"Failed to load calendar events")}finally{n(!1)}},addEvent:async e=>{try{n(!0);let{data:a,error:t}=await m.from("calendar_events").insert(e).select().single();if(t)throw t;return r(e=>[...e,a]),a}catch(e){throw console.error("Error adding calendar event:",e),p(e.message||"Failed to add calendar event"),e}finally{n(!1)}},updateEvent:async(e,a)=>{try{n(!0);let{data:t,error:s}=await m.from("calendar_events").update(a).eq("id",e).select().single();if(s)throw s;return r(r=>r.map(r=>r.id===e?t:r)),t}catch(e){throw console.error("Error updating calendar event:",e),p(e.message||"Failed to update calendar event"),e}finally{n(!1)}},deleteEvent:async e=>{try{n(!0);let{error:a}=await m.from("calendar_events").delete().eq("id",e);if(a)throw a;r(r=>r.filter(r=>r.id!==e))}catch(e){throw console.error("Error deleting calendar event:",e),p(e.message||"Failed to delete calendar event"),e}finally{n(!1)}},formatEventsForCalendar:()=>{let r=new Map;return e.forEach(e=>{let a=(0,d.D)(e.start_time),t=(0,d.D)(e.end_time),s=(0,l.WU)(a,"yyyy-MM-dd"),o=e.is_all_day?"All day":(0,l.WU)(a,"h:mm a");!e.is_all_day&&(0,i.K)(a,t)&&(o+=` - ${(0,l.WU)(t,"h:mm a")}`);let n={id:e.id,name:e.title,time:o,datetime:e.start_time,description:e.description||void 0,end_time:e.end_time,organizer_id:e.organizer_id,is_all_day:e.is_all_day};r.has(s)||r.set(s,[]),r.get(s)?.push(n)}),Array.from(r.entries()).map(([e,r])=>({day:(0,d.D)(e),events:r.sort((e,r)=>e.is_all_day&&!r.is_all_day?-1:!e.is_all_day&&r.is_all_day?1:new Date(e.datetime).getTime()-new Date(r.datetime).getTime())}))},isUpcomingEvent:e=>{let r=(0,d.D)(e),a=new Date,t=(r.getTime()-a.getTime())/36e5;return t>0&&t<=1},formatTimeDistance:e=>{try{return(0,o.Q)((0,d.D)(e),{addSuffix:!0})}catch(e){return"unknown time"}}}}}};