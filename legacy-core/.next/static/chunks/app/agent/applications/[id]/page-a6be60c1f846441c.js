(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8939],{26751:function(e,t,r){Promise.resolve().then(r.bind(r,72689))},72689:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(57437),a=r(2265),i=r(16463),n=r(27776),l=r(95137),c=r(6649),d=r(89733),o=r(48185),m=r(82157),u=r(32308),x=r(6683);function g(){let{id:e}=(0,i.useParams)(),t=(0,i.useRouter)(),r=(0,m.e)(),{role:g,loading:f}=(0,x.q)(),[p,h]=(0,a.useState)(null),[v,N]=(0,a.useState)(!0);(0,a.useEffect)(()=>{async function t(){N(!0);try{let t=Array.isArray(e)?e[0]:e,{data:s,error:a}=await r.from("agent_applications").select("*").eq("id",t).single();if(a)throw a;if(!s)throw Error("Application not found");h({id:s.id,client_name:s.proposed_insured||"",client_email:s.client_email||"",client_phone:s.client_phone_number||"",client_state:s.client_state||"",policy_type:s.product||"",carrier_id:s.carrier_id||"",carrier_name:s.carrier||"Unknown",face_amount:s.face_amount||"",premium:(s.monthly_premium||0).toString(),status:s.status||"",created_at:s.created_at||new Date().toISOString(),updated_at:s.updated_at||new Date().toISOString(),agent_id:s.agent_id||""})}catch(e){console.error("Error fetching application:",e),n.Am.error("Failed to load application details")}finally{N(!1)}}e&&t()},[e,r]);let j=e=>{let t=parseFloat(e.replace(/[^0-9.]/g,""));return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(isNaN(t)?0:t)},y=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,s.jsx)(u.M,{requiredRole:"agent",isLoading:f||v,title:"Application Details",description:"View application information",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)(d.z,{variant:"ghost",onClick:()=>t.back(),className:"flex items-center gap-2",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),"Back"]}),(0,s.jsxs)(d.z,{onClick:()=>{let r=Array.isArray(e)?e[0]:e;t.push(`/agent/applications/${r}/edit`)},className:"flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),"Edit Application"]})]}),p&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{children:(0,s.jsx)(o.ll,{children:"Client Information"})}),(0,s.jsxs)(o.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Name"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:p.client_name})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Email"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:p.client_email})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Phone"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:p.client_phone})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"State"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:p.client_state})]})]})]}),(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{children:(0,s.jsx)(o.ll,{children:"Policy Information"})}),(0,s.jsxs)(o.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Carrier"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:p.carrier_name})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Policy Type"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:p.policy_type})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Face Amount"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:j(p.face_amount)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Premium"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:j(p.premium)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Status"}),(0,s.jsx)("div",{children:(0,s.jsx)("span",{className:`px-2 py-1 rounded-full text-xs ${(e=>{switch(e.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"underwriting":return"bg-blue-100 text-blue-800";case"declined":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(p.status)}`,children:p.status})})]})]})]}),(0,s.jsxs)(o.Zb,{className:"md:col-span-2",children:[(0,s.jsx)(o.Ol,{children:(0,s.jsx)(o.ll,{children:"Application Details"})}),(0,s.jsxs)(o.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Application ID"}),(0,s.jsx)("div",{className:"text-sm font-medium break-all",children:p.id})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Created Date"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:y(p.created_at)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Last Updated"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:y(p.updated_at)})]})]})]})]})]})})}},89733:function(e,t,r){"use strict";r.d(t,{d:function(){return c},z:function(){return d}});var s=r(57437),a=r(2265),i=r(71538),n=r(13027),l=r(49354);let c=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:d=!1,...o}=e,m=d?i.g7:"button";return(0,s.jsx)(m,{className:(0,l.cn)(c({variant:a,size:n,className:r})),ref:t,...o})});d.displayName="Button"},48185:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},eW:function(){return m},ll:function(){return c}});var s=r(57437),a=r(2265),i=r(49354);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})});m.displayName="CardFooter"},49354:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var s=r(44839),a=r(96164);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}}},function(e){e.O(0,[4392,7138,4868,6648,2592,455,2308,2971,7023,1744],function(){return e(e.s=26751)}),_N_E=e.O()}]);