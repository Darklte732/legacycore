(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6775],{98853:function(e,t,s){Promise.resolve().then(s.bind(s,82024))},82024:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var a=s(57437),l=s(2265),r=s(82157),i=s(47427),n=s(24241),o=s(42421),d=s(66706),c=s(38119),m=s(30690),x=s(26032),h=s(51077),u=s(53225),g=s(49100),p=s(14218),f=s(86863),b=s(71976),j=s(40933),v=s(64042),N=s(94207),w=s(11005),y=s(21902),_=s(11240),$=s(48298),Z=s(15862),S=s(89832),C=s(48281),A=s(6540),M=s(25912),z=s(35931),k=s(22023),F=s(87592),L=s(24258),D=s(77515),I=s(59738),P=s(43267);function T(){let[e,t]=(0,l.useState)(!0),[s,T]=(0,l.useState)(null),[U,E]=(0,l.useState)([]),[R,Y]=(0,l.useState)({total_applications:0,total_commission:0,approval_rate:0,top_agent:"",top_agent_commission:0,annual_premium:0,monthly_premium:0,weekly_premium:0,needs_attention:0,weekly_growth:0,monthly_growth:0,issued_paid_applications:0,cancelled_declined_applications:0,chargebacks:0,upcoming_payments:0,last_updated:es(),retention_rate:0,renewal_commission:0,projected_renewals:0,avg_policy_size:0,term_life_count:0,whole_life_count:0,universal_life_count:0,final_expense_count:0,med_supp_count:0,compliance_score:0,avg_client_age:0,client_satisfaction:0,avg_turnaround_time:0,lead_conversion_rate:0,mortgage_protection_count:0,term_life_avg:0,whole_life_avg:0,universal_life_avg:0,mortgage_protection_avg:0,average_policy_size:0,cross_sell_opportunities:0,policy_retention_rate:0}),[O,J]=(0,l.useState)("quarter"),[q,V]=(0,l.useState)(0),[W,H]=(0,l.useState)(!1),[Q,G]=(0,l.useState)(!1),[X,K]=(0,l.useState)(!1),[B,ee]=(0,l.useState)([]),et=(0,r.e)();function es(){return new Date().toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})}let ea=e=>{let t=new Date,s=new Date,a=t.getFullYear();switch(e){case"week":s.setDate(t.getDate()-7);break;case"month":s.setMonth(t.getMonth()-1);break;case"quarter":let l=Math.floor(t.getMonth()/3);s.setFullYear(a),s.setMonth(3*l),s.setDate(1),s.setHours(0,0,0,0);break;case"year":case"ytd":s.setFullYear(a,0,1),s.setHours(0,0,0,0);break;case"all":s.setFullYear(2e3);break;case"custom":s.setMonth(t.getMonth()-3)}return{start:s,end:t}},el=()=>{console.log("Refreshing manager dashboard data"),V(e=>e+1)};(0,l.useEffect)(()=>{(async()=>{try{console.log(`Manager dashboard: Starting data fetch for time period: ${O}`),t(!0),G(!1),K(!1);let{data:{session:e}}=await et.auth.getSession();if(!e?.user?.id){console.error("No user ID found"),T("Session not found. Please log in again."),t(!1);return}console.log("Manager dashboard: Fetching agents assigned to this manager");let{data:s,error:a}=await et.from("profiles").select("id, first_name, last_name, email, role").eq("role","agent").eq("manager_id",e.user.id).order("first_name",{ascending:!0});if(a){console.error("Error fetching agents:",a),T("Unable to fetch agent data. Please try again later."),t(!1);return}if(!s||0===s.length){console.log("No agents found assigned to this manager"),t(!1);return}console.log(`Found ${s.length} agents assigned to this manager`),console.log("Attempting to use RPC function get_all_applications");let{data:l,error:r}=await et.rpc("get_all_applications");r?(console.error("Error fetching applications with RPC:",r),G(!0)):l&&0!==l.length?(console.log(`Found ${l.length} applications via RPC`),l.length>0&&console.log("First application structure:",Object.keys(l[0]))):(console.log("No applications found in RPC call"),G(!0));let i=[],n=0,o=0,d=0,c=0,m="",x=0,h=0,u=0,g=0,p=0,f=0,b=0,j=s.map(e=>e.id);console.log(`Processing agents: ${j.join(", ")}`);let v=[],N=[];try{console.log("Fetching all applications for manager's agents using get_manager_applications function");let{data:e}=await et.auth.getUser();if(!e?.user?.id)throw Error("User not authenticated");let{data:s,error:a}=await et.rpc("get_manager_applications",{manager_id:e.user.id});if(a){console.error("Error using get_manager_applications function:",a),console.log("Fallback: Fetching all applications from agent_applications table");let{data:e,error:t}=await et.from("agent_applications").select("*");if(t)throw t;console.log(`Retrieved ${e?.length||0} total applications from database`),v=e||[]}else console.log(`Retrieved ${s?.length||0} applications for this manager's agents`),v=s||[];if(0===v.length){T("No application data found. Please add real applications to your database."),t(!1);return}}catch(e){console.error("Error fetching applications:",e),T("Failed to fetch application data. Please check your database connection."),t(!1);return}for(let e of s){console.log(`Processing agent: ${e.first_name} ${e.last_name} (${e.id})`);let t=[];if(l&&l.length>0)t=l.filter(t=>t.agent_id===e.id),console.log(`Found ${t.length} applications for this agent in RPC data`);else{let{data:s,error:a}=await et.from("applications").select("*").eq("agent_id",e.id);a?console.error(`Error fetching applications for agent ${e.id}:`,a):s&&s.length>0?(console.log(`Found ${s.length} applications for agent ${e.id}`),t=s):(console.log(`No applications found for agent ${e.id}`),t=[])}console.log(`Found ${t.length} applications for agent ${e.id}`);let s=t;if(W||"all"===O)console.log(`Using all ${t.length} applications (no date filtering)`);else{console.log(`Filtering ${t.length} applications by date range for ${O}`);let e=ea(O),a=t.filter(t=>{let s=t.policy_submit_date?new Date(t.policy_submit_date):null,a=t.created_at?new Date(t.created_at):null,l=t.effective_policy_date?new Date(t.effective_policy_date):null,r=s||a||l;if(!r)return!0;try{return r>=e.start}catch(e){return console.warn("Error comparing dates, including application by default:",e),!0}});console.log(`After date filtering, ${a.length} applications remain`),a.length>0?s=a:(console.log("No applications match date filter, using all applications instead"),G(!0))}N=[...N,...s];let a=s.filter(e=>{let t=(e.status||"").toLowerCase(),s=(e.paid_status||"").toLowerCase(),a=(e.policy_health||"").toLowerCase();return"approved"===t||"1st month paid"===t||"issued"===t||"paid"===t||"paid"===s||"active"===a}).length,r=s.filter(e=>{let t=(e.status||"").toLowerCase(),s=(e.policy_health||"").toLowerCase();return"needs attention"===s||"uw"===t||"needs attention"===t||t.includes("attention")}).length,j=s.filter(e=>{let t=(e.status||"").toLowerCase(),s=(e.policy_health||"").toLowerCase();return"cancelled"===t||"cancellation requested"===t||"declined"===t||"not taken"===t||"cancelled"===s}).length,v=s.filter(e=>!0===e.is_chargeback).length,w=s.filter(e=>{let t=(e.policy_health||"").toLowerCase();return"pending first payment"===t||"awaiting payment"===t}).length,y=0,_=0;s.forEach(e=>{let t=(e.status||"").toLowerCase(),s=(e.policy_health||"").toLowerCase();if("cancelled"!==t&&"cancellation requested"!==t&&"declined"!==t&&"not taken"!==t&&"cancelled"!==s){if(e.ap&&!isNaN(parseFloat(String(e.ap))))y+=parseFloat(String(e.ap)),(!e.monthly_premium||isNaN(parseFloat(String(e.monthly_premium))))&&(_+=parseFloat(String(e.ap))/12);else if(e.monthly_premium&&!isNaN(parseFloat(String(e.monthly_premium)))){let t=parseFloat(String(e.monthly_premium));_+=t,(!e.ap||isNaN(parseFloat(String(e.ap))))&&(y+=12*t)}}});let $=_/4.33,Z=s.length-j,S=Z>0?Math.round(a/Z*100):0,C=0;s.forEach(e=>{let t=(e.status||"").toLowerCase(),s=(e.policy_health||"").toLowerCase();if("cancelled"!==t&&"cancellation requested"!==t&&"declined"!==t&&"not taken"!==t&&"cancelled"!==s){if(e.commission_amount&&!isNaN(parseFloat(String(e.commission_amount)))){let t=parseFloat(String(e.commission_amount));t>0?C+=t:e.ap&&!isNaN(parseFloat(String(e.ap)))?C+=.6*parseFloat(String(e.ap)):e.monthly_premium&&!isNaN(parseFloat(String(e.monthly_premium)))&&(C+=12*parseFloat(String(e.monthly_premium))*.6)}else e.ap&&!isNaN(parseFloat(String(e.ap)))?C+=.6*parseFloat(String(e.ap)):e.monthly_premium&&!isNaN(parseFloat(String(e.monthly_premium)))&&(C+=12*parseFloat(String(e.monthly_premium))*.6)}});let A=e.first_name?e.last_name?`${e.first_name} ${e.last_name}`:e.first_name:e.email?.split("@")[0]||"Agent";n+=s.length,o+=C,d+=a,h+=y,u+=_,g+=$,p+=v,f+=w,b+=j,c+=Z,C>x&&(x=C,m=A);let M=s.length>0?_/s.length:0;i.push({agent_id:e.id,agent_name:A,total_applications:s.length,issued_paid_applications:a,pending_applications:s.length-a-j,total_commission:C,approval_rate:`${S}%`,annual_premium:y,monthly_premium:_,average_premium:M,weekly_premium:$,needs_attention:r,needs_attention_applications:r,chargebacks:v,upcoming_payments:w,retention_rate:`${Math.round(a/(s.length||1)*100)}%`,compliance_score:92})}let w=c>0?Math.round(d/c*100):0,y={term:0,term_premium:0,whole:0,whole_premium:0,universal:0,universal_premium:0,mortgage_protection:0,mortgage_protection_premium:0};N.forEach(e=>{let t=(e.product||"").toLowerCase();t.includes("term")||t.includes("cbo")?(y.term++,e.ap&&(y.term_premium+=parseFloat(e.ap)||0)):t.includes("whole")||t.includes("wl")?(y.whole++,e.ap&&(y.whole_premium+=parseFloat(e.ap)||0)):t.includes("universal")||t.includes("iul")||t.includes("ul")?(y.universal++,e.ap&&(y.universal_premium+=parseFloat(e.ap)||0)):t.includes("mortgage")||t.includes("mp")?(y.mortgage_protection++,e.ap&&(y.mortgage_protection_premium+=parseFloat(e.ap)||0)):(y.whole++,e.ap&&(y.whole_premium+=parseFloat(e.ap)||0))}),console.log("Policy Type Counts:",y),console.log(`Term Life: ${y.term} (Avg: ${y.term_premium/y.term})`),console.log(`Whole Life: ${y.whole} (Avg: ${y.whole_premium/y.whole})`),console.log(`Universal Life: ${y.universal} (Avg: ${y.universal_premium/y.universal})`),console.log(`Mortgage Protection: ${y.mortgage_protection} (Avg: ${y.mortgage_protection_premium/y.mortgage_protection})`),N.reduce((e,t)=>e+(parseFloat(t.policy_size)||0),0),N.length>0&&N.length;let _=y.term>0?Math.round(y.term_premium/y.term):0,$=y.whole>0?Math.round(y.whole_premium/y.whole):0,Z=y.universal>0?Math.round(y.universal_premium/y.universal):0,S=y.mortgage_protection>0?Math.round(y.mortgage_protection_premium/y.mortgage_protection):0,C=N.filter(e=>{let t=(e.status||"").toLowerCase(),s=(e.paid_status||"").toLowerCase(),a=(e.policy_health||"").toLowerCase();return"approved"===t||"1st month paid"===t||"issued"===t||"paid"===t||"paid"===s||"active"===a}).length,A=N.length>0?Math.round(C/N.length*100):0;console.log(`Retention metrics - Active: ${C}, Total: ${N.length}, Rate: ${A}%`);let M=.6*o,z=n>0?Math.round(h/n):0,k=0,F=0;N.forEach(e=>{if(e.processing_time&&!isNaN(Number(e.processing_time)))k+=Number(e.processing_time),F++;else if(e.created_at&&e.effective_policy_date){let t=new Date(e.created_at),s=new Date(e.effective_policy_date),a=Math.abs(s.getTime()-t.getTime()),l=Math.ceil(a/864e5);l>0&&l<100&&(k+=l,F++)}});let L=F>0?parseFloat((k/F).toFixed(1)):21.9,D=0,I=0;N.forEach(e=>{e.client_age&&!isNaN(Number(e.client_age))&&(D+=Number(e.client_age),I++)});let P=I>0?Math.round(D/I):45,U=new Map;N.forEach(e=>{let t=e.proposed_insured;if(!t)return;U.has(t)||U.set(t,new Set);let s=(e.product||"").toLowerCase(),a="other";a=s.includes("cbo")||s.includes("term")?"term":s.includes("iul")||s.includes("universal")?"universal":s.includes("mortgage")||s.includes("mp")?"mortgage":"whole",U.get(t).add(a)});let R=0;U.forEach(e=>{1===e.size&&R++}),console.log("Dashboard Metrics Before Final Update:"),console.log(`Total Applications in allFilteredApplications: ${N.length}`);let J=N.filter(e=>{let t=(e.status||"").toLowerCase(),s=(e.paid_status||"").toLowerCase(),a=(e.policy_health||"").toLowerCase(),l="1st month paid"===t||"issued & paid"===t||"paid"===t||"approved"===t&&"paid"===s||"active"===a;return l&&console.log(`Issued/Paid App: ${e.id}, Status: ${t}, PaidStatus: ${s}, PolicyHealth: ${a}`),l}).length;console.log(`Calculated Issued/Paid Applications: ${J}`);let q=N.filter(e=>{let t=(e.status||"").toLowerCase(),s=(e.policy_health||"").toLowerCase(),a="needs attention"===s||"uw"===t||"needs attention"===t||t.includes("attention");return a&&console.log(`Needs Attention App: ${e.id}, Status: ${t}, PolicyHealth: ${s}`),a}).length;console.log(`Calculated Needs Attention Applications: ${q}`),console.log("Scanning all filtered applications for status information:"),N.forEach((e,t)=>{console.log(`App ${t+1}/${N.length}: ID=${e.id}, Status=${e.status||"N/A"}, PolicyHealth=${e.policy_health||"N/A"}, PaidStatus=${e.paid_status||"N/A"}`)}),console.log("Agent Table vs Summary Metrics comparison:"),i.forEach(e=>{console.log(`Agent: ${e.agent_name}, Apps: ${e.total_applications}, Issued/Paid: ${e.issued_paid_applications}`)}),console.log(`Summary Metrics - Total: ${N.length}, Issued/Paid: ${J}, Needs Attention: ${q}`),E(i),Y({total_applications:N.length,total_commission:o,approval_rate:w,top_agent:m,top_agent_commission:x,annual_premium:h,monthly_premium:u,weekly_premium:g,needs_attention:q,weekly_growth:0,monthly_growth:0,issued_paid_applications:J,cancelled_declined_applications:b,chargebacks:p,upcoming_payments:f,last_updated:es(),retention_rate:A,renewal_commission:Math.round(.05*h),projected_renewals:M,avg_policy_size:z,term_life_count:y.term,term_life_avg:_,whole_life_count:y.whole,whole_life_avg:$,universal_life_count:y.universal,universal_life_avg:Z,mortgage_protection_count:y.mortgage_protection,mortgage_protection_avg:S,average_policy_size:z,cross_sell_opportunities:R,policy_retention_rate:A,compliance_score:100,avg_client_age:P,client_satisfaction:0,avg_turnaround_time:L,lead_conversion_rate:0});try{console.log("Fetching recent activities");let{data:e,error:t}=await et.from("application_activities").select("*").order("created_at",{ascending:!1}).limit(4);if(t)console.error("Error fetching activities:",t);else if(e&&e.length>0)console.log(`Found ${e.length} recent activities`),ee(e);else{console.log("No recent activities found, falling back to application data");let e=N.sort((e,t)=>new Date(t.created_at||0)-new Date(e.created_at||0)).slice(0,4).map(e=>({id:e.id,application_id:e.id,activity_type:ei(e),details:`${e.proposed_insured||"Client"} - ${e.product||"Insurance policy"}`,created_at:e.created_at||e.updated_at||new Date().toISOString(),status:e.status,user_name:e.agent_name||"Agent"}));ee(e)}}catch(e){console.error("Error processing activities:",e)}console.log("Manager dashboard: Data fetch complete with real data"),t(!1),0===N.length&&v.length>0&&(console.log("No applications in selected date range. Setting showAllTimeData to true."),H(!0))}catch(e){console.error("Error fetching dashboard data:",e),T("An unexpected error occurred. Please try again later."),t(!1)}})()},[O,q,W,et]);let er=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e),ei=e=>{let t=(e.status||"").toLowerCase(),s=(e.policy_health||"").toLowerCase();return"approved"===t||"issued"===t||"paid"===t?"approval":"submitted"===t||"new"===t?"submission":"needs attention"===s||t.includes("attention")?"attention":"cancelled"===t||"declined"===t?"cancellation":"update"},en=e=>{try{let t=new Date(e),s=new Date,a=Math.floor((s-t)/864e5);if(0===a)return`Today, ${t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`;if(1===a)return`Yesterday, ${t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`;if(a<7)return t.toLocaleDateString("en-US",{month:"short",day:"numeric"});return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(e){return"Date unavailable"}};return(0,a.jsxs)("div",{className:"container max-w-full mx-auto px-2 py-8 bg-gradient-to-b from-gray-50 to-white",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 bg-gradient-to-br from-violet-600 to-indigo-700 p-6 rounded-2xl shadow-xl text-white overflow-hidden relative",children:[(0,a.jsx)("div",{className:"absolute -right-24 -top-24 w-64 h-64 bg-white/10 rounded-full"}),(0,a.jsx)("div",{className:"absolute left-1/3 bottom-0 w-32 h-32 bg-indigo-500/30 rounded-full blur-xl"}),(0,a.jsxs)("div",{className:"mb-6 md:mb-0 relative z-10",children:[(0,a.jsxs)("h1",{className:"text-5xl font-extrabold mb-3 flex items-center bg-clip-text text-transparent bg-gradient-to-r from-white to-indigo-100",children:[(0,a.jsx)(i.Z,{className:"mr-4 h-10 w-10 text-white/90"}),"Manager Dashboard"]}),(0,a.jsx)("p",{className:"text-indigo-100 text-xl font-light",children:"Let's crush those goals! Here's your agency snapshot \uD83D\uDCC8"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 relative z-10",children:[(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-md px-5 py-3 rounded-xl flex items-center text-white border border-white/20 shadow-sm",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 mr-3 flex-shrink-0 text-indigo-200"}),(0,a.jsxs)("span",{className:"text-sm font-medium whitespace-nowrap",children:["Updated: ",R.last_updated]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("select",{className:"pl-4 pr-10 py-3 border-0 rounded-xl appearance-none bg-white/10 backdrop-blur-md text-white font-medium focus:outline-none focus:ring-2 focus:ring-indigo-300 shadow-sm",style:{color:"white"},value:O,onChange:e=>{let t=e.target.value;J(t),"all"===t?H(!0):(H(!1),setTimeout(()=>el(),100))},children:[(0,a.jsx)("option",{value:"week",style:{color:"black"},children:"This Week"}),(0,a.jsx)("option",{value:"month",style:{color:"black"},children:"This Month"}),(0,a.jsx)("option",{value:"quarter",style:{color:"black"},children:"This Quarter"}),(0,a.jsx)("option",{value:"year",style:{color:"black"},children:"This Year"}),(0,a.jsx)("option",{value:"all",style:{color:"black"},children:"All Time"})]}),(0,a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-white",children:(0,a.jsx)(o.Z,{className:"h-5 w-5"})})]}),(0,a.jsx)("button",{onClick:()=>{H(!W),W&&"all"===O&&J("quarter")},className:`px-4 py-3 rounded-xl text-sm font-medium transition-all shadow-sm ${W?"bg-white text-indigo-700 hover:bg-indigo-50":"bg-white/10 text-white hover:bg-white/20 border border-white/20"}`,children:W?"✓ Using All Data":"Show All Data"}),(0,a.jsxs)("button",{onClick:el,className:"flex items-center justify-center text-white bg-indigo-500/30 hover:bg-indigo-500/50 text-sm font-medium px-4 py-3 rounded-xl transition-all border border-indigo-400/30 shadow-sm",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]})]}),s&&(0,a.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 rounded-xl p-6 mb-6 flex items-center text-red-800 shadow-sm",children:[(0,a.jsx)("div",{className:"bg-red-200 p-3 rounded-full mr-4",children:(0,a.jsx)(c.Z,{className:"h-6 w-6 text-red-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg mb-1",children:"Error Loading Dashboard"}),(0,a.jsx)("p",{className:"text-red-700",children:s})]}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"ml-auto px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]}),X&&(0,a.jsxs)("div",{className:"bg-blue-100 border-l-4 border-blue-500 rounded-xl p-6 mb-6 flex items-center text-blue-800 shadow-sm",children:[(0,a.jsx)("div",{className:"bg-blue-200 p-3 rounded-full mr-4",children:(0,a.jsx)(m.Z,{className:"h-6 w-6 text-blue-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg mb-1",children:"Using Demo Data"}),(0,a.jsx)("p",{className:"text-blue-700",children:"No real application data found in the database. Add real applications to see accurate dashboard."})]})]}),Q&&(0,a.jsxs)("div",{className:"bg-amber-100 border-l-4 border-amber-500 rounded-xl p-6 mb-6 flex items-center text-amber-800 shadow-sm",children:[(0,a.jsx)("div",{className:"bg-amber-200 p-3 rounded-full mr-4",children:(0,a.jsx)(x.Z,{className:"h-6 w-6 text-amber-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg mb-1",children:"Notice"}),(0,a.jsx)("p",{className:"text-amber-700",children:"Some dates are missing in application data. All applications are shown regardless of date range."})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"flex flex-col bg-gradient-to-br from-blue-600 to-cyan-700 p-6 rounded-2xl shadow-xl text-white overflow-hidden relative group hover:shadow-2xl transition-all duration-300",children:[(0,a.jsx)("div",{className:"absolute -right-12 -top-12 w-40 h-40 bg-blue-400 rounded-full opacity-20 transform group-hover:scale-110 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-cyan-400 rounded-full opacity-20 transform group-hover:rotate-45 transition-transform duration-700"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 z-10",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Policy Retention"}),(0,a.jsx)("button",{className:"text-white/70 hover:text-white transition-colors",onClick:()=>el(),children:(0,a.jsx)(d.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"mb-1 z-10 mt-2",children:(0,a.jsxs)("span",{className:"text-6xl font-extrabold",children:[R.policy_retention_rate||R.retention_rate||0,"%"]})}),(0,a.jsx)("p",{className:"text-sm text-blue-100 mb-5 z-10",children:"Overall policy persistence rate"}),(0,a.jsxs)("div",{className:"mt-auto z-10",children:[(0,a.jsx)("div",{className:"w-full bg-blue-200/30 h-3 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"bg-white h-3 rounded-full transition-all duration-1000 ease-out",style:{width:`${R.policy_retention_rate||R.retention_rate||0}%`}})}),(0,a.jsx)("div",{className:"flex justify-end mt-1",children:(0,a.jsx)("span",{className:"text-xs text-blue-100 font-medium",children:"Industry avg: 84%"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-col bg-gradient-to-br from-emerald-600 to-green-700 p-6 rounded-2xl shadow-xl text-white overflow-hidden relative group hover:shadow-2xl transition-all duration-300",children:[(0,a.jsx)("div",{className:"absolute -right-12 -top-12 w-40 h-40 bg-emerald-400 rounded-full opacity-20 transform group-hover:scale-110 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-green-400 rounded-full opacity-20 transform group-hover:rotate-45 transition-transform duration-700"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 z-10",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Renewal Commission"}),(0,a.jsx)("div",{className:"p-2 rounded-full bg-white/10",children:(0,a.jsx)(h.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"mb-1 z-10 mt-2",children:(0,a.jsxs)("span",{className:"text-6xl font-extrabold",children:["$",R.renewal_commission.toLocaleString()]})}),(0,a.jsx)("p",{className:"text-sm text-green-100 z-10 mb-5",children:"Projected renewals this year"}),(0,a.jsx)("div",{className:"flex justify-start mt-auto pt-3 z-10",children:(0,a.jsxs)("div",{className:"inline-flex items-center px-3 py-1.5 bg-white/20 rounded-full text-xs font-bold",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"})," +18% YoY"]})})]}),(0,a.jsxs)("div",{className:"flex flex-col bg-gradient-to-br from-purple-600 to-indigo-700 p-6 rounded-2xl shadow-xl text-white overflow-hidden relative group hover:shadow-2xl transition-all duration-300",children:[(0,a.jsx)("div",{className:"absolute -right-12 -top-12 w-40 h-40 bg-purple-400 rounded-full opacity-20 transform group-hover:scale-110 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-indigo-400 rounded-full opacity-20 transform group-hover:rotate-45 transition-transform duration-700"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 z-10",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"5-Year Projection"}),(0,a.jsx)("div",{className:"p-2 rounded-full bg-white/10",children:(0,a.jsx)(g.Z,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"mb-1 z-10 mt-2",children:(0,a.jsx)("span",{className:"text-6xl font-extrabold",children:er(R.projected_renewals||0)})}),(0,a.jsx)("p",{className:"text-sm text-purple-100 z-10 mb-5",children:"Total policy value over next 5 years"}),(0,a.jsx)("div",{className:"flex justify-start mt-auto pt-3 z-10",children:(0,a.jsxs)("div",{className:"inline-flex items-center px-3 py-1.5 bg-white/20 rounded-full text-xs font-bold",children:[(0,a.jsx)(p.Z,{className:"h-3 w-3 mr-1"})," 65% retention included"]})})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-lg mb-8 overflow-hidden transform hover:-translate-y-1 transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("h3",{className:"text-2xl font-extrabold flex items-center gap-3 text-gray-800",children:[(0,a.jsx)("div",{className:"p-3 bg-indigo-100 rounded-xl",children:(0,a.jsx)(f.Z,{className:"text-indigo-600 h-6 w-6"})}),"Policy Mix Analysis"]}),(0,a.jsxs)("a",{href:"/manager/analytics",className:"text-indigo-600 hover:text-indigo-800 text-sm flex items-center font-medium bg-indigo-50 px-4 py-2 rounded-lg hover:bg-indigo-100 transition-colors",children:["View Detailed Report ",(0,a.jsx)(b.Z,{className:"ml-1"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl border border-blue-200 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[(0,a.jsx)("div",{className:"bg-blue-500 p-4 rounded-xl text-white mb-4 shadow-md",children:(0,a.jsx)(j.Z,{className:"w-6 h-6"})}),(0,a.jsx)("div",{className:"text-4xl font-bold text-center text-blue-600 mb-1",children:R.term_life_count||0}),(0,a.jsx)("div",{className:"text-sm font-medium text-center text-gray-700 mb-3",children:"Term Life"}),(0,a.jsxs)("div",{className:"text-xs text-center text-gray-500 font-medium px-3 py-1 bg-blue-200/50 rounded-full",children:["$",R.term_life_avg||0," avg premium"]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-2xl border border-green-200 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[(0,a.jsx)("div",{className:"bg-green-500 p-4 rounded-xl text-white mb-4 shadow-md",children:(0,a.jsx)(v.Z,{className:"w-6 h-6"})}),(0,a.jsx)("div",{className:"text-4xl font-bold text-center text-green-600 mb-1",children:R.whole_life_count||0}),(0,a.jsx)("div",{className:"text-sm font-medium text-center text-gray-700 mb-3",children:"Whole Life"}),(0,a.jsxs)("div",{className:"text-xs text-center text-gray-500 font-medium px-3 py-1 bg-green-200/50 rounded-full",children:["$",R.whole_life_avg||0," avg premium"]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl border border-purple-200 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[(0,a.jsx)("div",{className:"bg-purple-500 p-4 rounded-xl text-white mb-4 shadow-md",children:(0,a.jsx)(N.Z,{className:"w-6 h-6"})}),(0,a.jsx)("div",{className:"text-4xl font-bold text-center text-purple-600 mb-1",children:R.universal_life_count||0}),(0,a.jsx)("div",{className:"text-sm font-medium text-center text-gray-700 mb-3",children:"Universal Life"}),(0,a.jsxs)("div",{className:"text-xs text-center text-gray-500 font-medium px-3 py-1 bg-purple-200/50 rounded-full",children:["$",R.universal_life_avg||0," avg premium"]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center p-6 bg-gradient-to-br from-cyan-50 to-cyan-100 rounded-2xl border border-cyan-200 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[(0,a.jsx)("div",{className:"bg-cyan-500 p-4 rounded-xl text-white mb-4 shadow-md",children:(0,a.jsx)(w.Z,{className:"w-6 h-6"})}),(0,a.jsx)("div",{className:"text-4xl font-bold text-center text-cyan-600 mb-1",children:R.mortgage_protection_count||0}),(0,a.jsx)("div",{className:"text-sm font-medium text-center text-gray-700 mb-3",children:"Mortgage Protection"}),(0,a.jsxs)("div",{className:"text-xs text-center text-gray-500 font-medium px-3 py-1 bg-cyan-200/50 rounded-full",children:["$",R.mortgage_protection_avg||0," avg premium"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-5 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:[(0,a.jsxs)("span",{className:"text-gray-700 font-medium flex items-center",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Average Policy Size:"]}),(0,a.jsxs)("span",{className:"font-bold text-indigo-700 text-xl",children:["$",R.average_policy_size||0,"/year"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center p-5 bg-gradient-to-r from-indigo-50 to-indigo-100 rounded-xl border border-indigo-200",children:[(0,a.jsxs)("span",{className:"text-gray-700 font-medium flex items-center",children:[(0,a.jsx)(_.Z,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Cross-Selling Opportunity:"]}),(0,a.jsxs)("span",{className:"font-bold text-indigo-700 text-xl",children:[R.cross_sell_opportunities||0," clients"]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-7 transform hover:-translate-y-1 transition-all duration-300",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,a.jsx)("div",{className:"p-3 mr-3 bg-blue-100 rounded-xl",children:(0,a.jsx)($.Z,{className:"h-6 w-6 text-blue-600"})}),"Application Processing"]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,a.jsxs)("span",{className:"text-sm font-bold text-gray-700 flex items-center",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-1.5 text-blue-500"}),"Average Turnaround Time"]}),(0,a.jsxs)("span",{className:"text-xl font-extrabold text-blue-600",children:[R.avg_turnaround_time," days"]})]}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-1000 ease-out",style:{width:`${Math.min(100,R.avg_turnaround_time/.25)}%`}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[(0,a.jsx)("span",{className:"font-medium",children:"Goal: 10 days"}),(0,a.jsx)("span",{className:"font-medium",children:"Industry avg: 15 days"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-bold text-gray-700 flex items-center",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 mr-1.5 text-green-500"}),"Application Completion Rate"]}),(0,a.jsx)("span",{className:"text-xl font-extrabold text-green-600",children:"91%"})]}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-green-600 rounded-full transition-all duration-1000 ease-out",style:{width:"91%"}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-bold text-gray-700 flex items-center",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-1.5 text-amber-500"}),"First-Call Resolution"]}),(0,a.jsx)("span",{className:"text-xl font-extrabold text-amber-600",children:"82%"})]}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-amber-500 rounded-full transition-all duration-1000 ease-out",style:{width:"82%"}})})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-7 transform hover:-translate-y-1 transition-all duration-300",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,a.jsx)("div",{className:"p-3 mr-3 bg-green-100 rounded-xl",children:(0,a.jsx)(u.Z,{className:"h-6 w-6 text-green-600"})}),"Revenue Forecast"]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-green-50 p-4 rounded-xl text-center border border-green-100",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"This Month"}),(0,a.jsxs)("p",{className:"text-2xl font-extrabold text-green-600",children:["$",Math.round(R.monthly_premium).toLocaleString()]}),(0,a.jsxs)("p",{className:"text-xs text-green-700 mt-1 flex items-center justify-center",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"})," +5%"]})]}),(0,a.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-xl text-center border border-indigo-100",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"This Quarter"}),(0,a.jsxs)("p",{className:"text-2xl font-extrabold text-indigo-600",children:["$",Math.round(3*R.monthly_premium).toLocaleString()]}),(0,a.jsxs)("p",{className:"text-xs text-indigo-700 mt-1 flex items-center justify-center",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"})," +8%"]})]}),(0,a.jsxs)("div",{className:"bg-purple-50 p-4 rounded-xl text-center border border-purple-100",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Year End"}),(0,a.jsxs)("p",{className:"text-2xl font-extrabold text-purple-600",children:["$",Math.round(R.annual_premium).toLocaleString()]}),(0,a.jsxs)("p",{className:"text-xs text-purple-700 mt-1 flex items-center justify-center",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"})," +12%"]})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 pt-5",children:[(0,a.jsx)("h3",{className:"text-md font-bold text-gray-700 mb-4",children:"Top Revenue Sources"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-1/3 text-sm font-medium text-gray-600",children:"Universal Life"}),(0,a.jsx)("div",{className:"w-2/3",children:(0,a.jsxs)("div",{className:"relative pt-1",children:[(0,a.jsxs)("div",{className:"flex mb-2 items-center justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("span",{className:"text-xs font-semibold inline-block text-purple-600",children:[Math.round(R.universal_life_count/(R.term_life_count+R.whole_life_count+R.universal_life_count+R.mortgage_protection_count||1)*100),"%"]})}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("span",{className:"text-xs font-semibold inline-block text-purple-600",children:["$",Math.round(R.universal_life_avg*R.universal_life_count).toLocaleString()]})})]}),(0,a.jsx)("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-purple-200",children:(0,a.jsx)("div",{style:{width:`${Math.round(R.universal_life_count/(R.term_life_count+R.whole_life_count+R.universal_life_count+R.mortgage_protection_count||1)*100)}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-purple-500"})})]})})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-1/3 text-sm font-medium text-gray-600",children:"Whole Life"}),(0,a.jsx)("div",{className:"w-2/3",children:(0,a.jsxs)("div",{className:"relative pt-1",children:[(0,a.jsxs)("div",{className:"flex mb-2 items-center justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("span",{className:"text-xs font-semibold inline-block text-green-600",children:[Math.round(R.whole_life_count/(R.term_life_count+R.whole_life_count+R.universal_life_count+R.mortgage_protection_count||1)*100),"%"]})}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("span",{className:"text-xs font-semibold inline-block text-green-600",children:["$",Math.round(R.whole_life_avg*R.whole_life_count).toLocaleString()]})})]}),(0,a.jsx)("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-green-200",children:(0,a.jsx)("div",{style:{width:`${Math.round(R.whole_life_count/(R.term_life_count+R.whole_life_count+R.universal_life_count+R.mortgage_protection_count||1)*100)}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-green-500"})})]})})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-1/3 text-sm font-medium text-gray-600",children:"Term Life"}),(0,a.jsx)("div",{className:"w-2/3",children:(0,a.jsxs)("div",{className:"relative pt-1",children:[(0,a.jsxs)("div",{className:"flex mb-2 items-center justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("span",{className:"text-xs font-semibold inline-block text-blue-600",children:[Math.round(R.term_life_count/(R.term_life_count+R.whole_life_count+R.universal_life_count+R.mortgage_protection_count||1)*100),"%"]})}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("span",{className:"text-xs font-semibold inline-block text-blue-600",children:["$",Math.round(R.term_life_avg*R.term_life_count).toLocaleString()]})})]}),(0,a.jsx)("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200",children:(0,a.jsx)("div",{style:{width:`${Math.round(R.term_life_count/(R.term_life_count+R.whole_life_count+R.universal_life_count+R.mortgage_protection_count||1)*100)}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500"})})]})})]})]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,a.jsx)("div",{className:"p-3 mr-3 bg-amber-100 rounded-xl",children:(0,a.jsx)(C.Z,{className:"h-6 w-6 text-amber-600"})}),"Team Performance Leaderboard"]}),(0,a.jsxs)("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium bg-indigo-50 px-4 py-2 rounded-lg hover:bg-indigo-100 transition-colors flex items-center",children:["View Details ",(0,a.jsx)(b.Z,{className:"ml-1 h-4 w-4"})]})]}),U.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[U.length>0&&(0,a.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 rounded-xl p-5 border border-amber-200 relative overflow-hidden shadow-sm",children:[(0,a.jsx)("div",{className:"absolute right-0 top-0 bg-amber-400 text-white font-bold py-1 px-6 rounded-bl-lg shadow-md",children:"#1"}),(0,a.jsxs)("div",{className:"flex items-center mb-4 pt-5",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-amber-200 flex items-center justify-center text-2xl font-bold text-amber-700 mr-4",children:U[0].agent_name.charAt(0)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:U[0].agent_name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Sales Champion"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-center",children:[(0,a.jsxs)("div",{className:"bg-white p-2 rounded-lg shadow-sm",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Applications"}),(0,a.jsx)("p",{className:"text-xl font-bold text-gray-800",children:U[0].total_applications})]}),(0,a.jsxs)("div",{className:"bg-white p-2 rounded-lg shadow-sm",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Commission"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-green-600",children:["$",Math.round(U[0].total_commission).toLocaleString()]})]})]})]}),Array.from({length:Math.min(2,Math.max(0,3-U.length))}).map((e,t)=>(0,a.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-5 border border-gray-200 relative overflow-hidden shadow-sm flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-500 font-medium",children:"No agent data available"})},t))]}),(0,a.jsx)("div",{className:"overflow-hidden rounded-xl border border-gray-200",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Apps"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issued"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conversion"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map((e,t)=>(0,a.jsxs)("tr",{className:t<3?"bg-amber-50":"",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${0===t?"bg-amber-100 text-amber-800":1===t?"bg-gray-200 text-gray-800":2===t?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"} font-bold text-sm`,children:t+1})})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-700 font-bold",children:e.agent_name.charAt(0)}),(0,a.jsx)("div",{className:"ml-4",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.agent_name})})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium text-gray-900",children:e.total_applications}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium text-indigo-600",children:e.issued_paid_applications}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium text-green-600",children:["$",Math.round(e.total_commission).toLocaleString()]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.approval_rate})})]},t))})]})})]}):(0,a.jsx)("div",{className:"p-10 text-center text-gray-500",children:(0,a.jsx)("p",{children:"No agent performance data available"})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-4 mb-5 overflow-hidden transform hover:-translate-y-1 transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-5",children:[(0,a.jsxs)("h2",{className:"text-xl font-extrabold text-gray-800 flex items-center",children:[(0,a.jsx)("div",{className:"bg-indigo-100 p-2.5 rounded-xl mr-2.5",children:(0,a.jsx)(A.Z,{className:"h-5 w-5 text-indigo-600"})}),"Agent Development"]}),(0,a.jsxs)("button",{className:"text-white bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center shadow-md",children:["Schedule Training ",(0,a.jsx)(b.Z,{className:"ml-1.5 h-4 w-4"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-2xl p-4 border border-indigo-100",children:[(0,a.jsxs)("h3",{className:"font-bold text-indigo-700 mb-4 flex items-center text-base",children:[(0,a.jsx)("div",{className:"bg-indigo-100 p-2 rounded-lg mr-2",children:(0,a.jsx)(y.Z,{className:"h-4 w-4 text-indigo-600"})}),"Performance Improvement Areas"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-indigo-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("span",{className:"font-bold text-gray-800 flex items-center text-sm",children:[(0,a.jsx)(M.Z,{className:"h-3.5 w-3.5 mr-1.5 text-indigo-500"}),"Objection Handling"]}),(0,a.jsx)("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-800 text-xs rounded-full font-bold",children:"3 agents"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Agents need help overcoming common objections around premium costs"})]}),(0,a.jsxs)("div",{className:"p-3 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-indigo-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("span",{className:"font-bold text-gray-800 flex items-center text-sm",children:[(0,a.jsx)(A.Z,{className:"h-3.5 w-3.5 mr-1.5 text-indigo-500"}),"Product Knowledge"]}),(0,a.jsx)("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-800 text-xs rounded-full font-bold",children:"2 agents"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Universal Life features and benefits training needed"})]}),(0,a.jsxs)("div",{className:"p-3 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-indigo-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("span",{className:"font-bold text-gray-800 flex items-center text-sm",children:[(0,a.jsx)(S.Z,{className:"h-3.5 w-3.5 mr-1.5 text-indigo-500"}),"Client Follow-up"]}),(0,a.jsx)("span",{className:"px-2 py-0.5 bg-rose-100 text-rose-800 text-xs rounded-full font-bold",children:"5 agents"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Follow-up consistency needed for pending cases"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-2xl p-4 border border-purple-100",children:[(0,a.jsxs)("h3",{className:"font-bold text-purple-700 mb-4 flex items-center text-base",children:[(0,a.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg mr-2",children:(0,a.jsx)(n.Z,{className:"h-4 w-4 text-purple-600"})}),"Upcoming Training Sessions"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-purple-50 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-gray-800 mb-1 text-sm",children:"New Product Training"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Colonial Life - New Whole Life Product Features"})]}),(0,a.jsx)("div",{className:"bg-indigo-100 text-indigo-800 text-xs font-bold px-2 py-1 rounded-lg",children:"May 15"})]}),(0,a.jsxs)("div",{className:"p-3 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-purple-50 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-gray-800 mb-1 text-sm",children:"Compliance Update"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"New regulatory requirements for all agents"})]}),(0,a.jsx)("div",{className:"bg-indigo-100 text-indigo-800 text-xs font-bold px-2 py-1 rounded-lg",children:"May 22"})]}),(0,a.jsxs)("div",{className:"p-3 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-purple-50 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-gray-800 mb-1 text-sm",children:"Sales Workshop"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Advanced techniques for closing high-value policies"})]}),(0,a.jsx)("div",{className:"bg-green-100 text-green-800 text-xs font-bold px-2 py-1 rounded-lg",children:"Recommended"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-100 to-green-200 rounded-2xl p-4 shadow-lg overflow-hidden relative group hover:shadow-2xl transition-all duration-300",children:[(0,a.jsx)("div",{className:"absolute -right-12 -top-12 w-40 h-40 bg-green-400 rounded-full opacity-20 transform group-hover:scale-110 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-green-400 rounded-full opacity-20 transform group-hover:rotate-45 transition-transform duration-700"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 z-10",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-green-800",children:"Annual Premium"}),(0,a.jsx)("div",{className:"p-2 rounded-full bg-green-200",children:(0,a.jsx)(h.Z,{className:"w-5 h-5 text-green-700"})})]}),(0,a.jsx)("div",{className:"mb-1 z-10 mt-2",children:(0,a.jsxs)("span",{className:"text-6xl font-extrabold text-green-800",children:["$",Number(R.annual_premium).toLocaleString()]})}),(0,a.jsx)("p",{className:"text-sm text-green-700 z-10 mb-5",children:"Total annual premium earned"}),(0,a.jsx)("div",{className:"flex justify-start mt-auto pt-3 z-10",children:(0,a.jsxs)("div",{className:"inline-flex items-center px-3 py-1.5 bg-green-200 rounded-full text-xs font-bold text-green-800",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"})," 5% growth"]})})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-emerald-600 to-green-700 p-4 shadow-lg text-white overflow-hidden relative group hover:shadow-2xl transition-all duration-300",children:[(0,a.jsx)("div",{className:"absolute -right-12 -top-12 w-40 h-40 bg-emerald-400 rounded-full opacity-20 transform group-hover:scale-110 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-green-400 rounded-full opacity-20 transform group-hover:rotate-45 transition-transform duration-700"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 z-10",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Renewal Commission"}),(0,a.jsx)("div",{className:"p-2 rounded-full bg-white/10",children:(0,a.jsx)(h.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"mb-1 z-10 mt-2",children:(0,a.jsxs)("span",{className:"text-6xl font-extrabold",children:["$",R.renewal_commission.toLocaleString()]})}),(0,a.jsx)("p",{className:"text-sm text-green-100 z-10 mb-5",children:"Projected renewals this year"}),(0,a.jsx)("div",{className:"flex justify-start mt-auto pt-3 z-10",children:(0,a.jsxs)("div",{className:"inline-flex items-center px-3 py-1.5 bg-white/20 rounded-full text-xs font-bold",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"})," +18% YoY"]})})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-700 p-4 shadow-lg text-white overflow-hidden relative group hover:shadow-2xl transition-all duration-300",children:[(0,a.jsx)("div",{className:"absolute -right-12 -top-12 w-40 h-40 bg-purple-400 rounded-full opacity-20 transform group-hover:scale-110 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-indigo-400 rounded-full opacity-20 transform group-hover:rotate-45 transition-transform duration-700"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 z-10",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"5-Year Projection"}),(0,a.jsx)("div",{className:"p-2 rounded-full bg-white/10",children:(0,a.jsx)(g.Z,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"mb-1 z-10 mt-2",children:(0,a.jsxs)("span",{className:"text-6xl font-extrabold",children:["$",er(R.projected_renewals||0)]})}),(0,a.jsx)("p",{className:"text-sm text-purple-100 z-10 mb-5",children:"Total policy value over next 5 years"}),(0,a.jsx)("div",{className:"flex justify-start mt-auto pt-3 z-10",children:(0,a.jsxs)("div",{className:"inline-flex items-center px-3 py-1.5 bg-white/20 rounded-full text-xs font-bold",children:[(0,a.jsx)(p.Z,{className:"h-3 w-3 mr-1"})," 65% retention included"]})})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-cyan-100 to-cyan-200 rounded-2xl p-4 shadow-lg overflow-hidden relative group hover:shadow-2xl transition-all duration-300",children:[(0,a.jsx)("div",{className:"absolute -right-12 -top-12 w-40 h-40 bg-cyan-400 rounded-full opacity-20 transform group-hover:scale-110 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-cyan-400 rounded-full opacity-20 transform group-hover:rotate-45 transition-transform duration-700"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 z-10",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-cyan-800",children:"Cross-Selling Opportunities"}),(0,a.jsx)("div",{className:"p-2 rounded-full bg-cyan-200",children:(0,a.jsx)(_.Z,{className:"w-5 h-5 text-cyan-700"})})]}),(0,a.jsx)("div",{className:"mb-1 z-10 mt-2",children:(0,a.jsx)("span",{className:"text-6xl font-extrabold text-cyan-800",children:R.cross_sell_opportunities||0})}),(0,a.jsx)("p",{className:"text-sm text-cyan-700 z-10 mb-5",children:"Unique clients with cross-sell opportunities"}),(0,a.jsx)("div",{className:"flex justify-start mt-auto pt-3 z-10",children:(0,a.jsxs)("div",{className:"inline-flex items-center px-3 py-1.5 bg-cyan-200 rounded-full text-xs font-bold text-cyan-800",children:[(0,a.jsx)(z.Z,{className:"h-3 w-3 mr-1"})," 10% increase"]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 p-4 shadow-lg text-white overflow-hidden relative group hover:shadow-2xl transition-all duration-300 rounded-2xl",children:[(0,a.jsx)("div",{className:"absolute -right-12 -top-12 w-40 h-40 bg-blue-400 rounded-full opacity-20 transform group-hover:scale-110 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-cyan-400 rounded-full opacity-20 transform group-hover:rotate-45 transition-transform duration-700"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 z-10",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Total Applications"}),(0,a.jsx)("div",{className:"p-2 rounded-full bg-white/10",children:(0,a.jsx)(_.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"mb-1 z-10 mt-2",children:(0,a.jsx)("span",{className:"text-6xl font-extrabold",children:R.total_applications})}),(0,a.jsx)("p",{className:"text-sm text-blue-100 z-10 mb-5",children:"Total submissions"}),(0,a.jsx)("div",{className:"flex justify-start mt-auto pt-3 z-10",children:(0,a.jsxs)("div",{className:"inline-flex items-center px-3 py-1.5 bg-white/20 rounded-full text-xs font-bold",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"})," 10% increase"]})})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-600 to-emerald-700 p-4 shadow-lg text-white overflow-hidden relative group hover:shadow-2xl transition-all duration-300 rounded-2xl",children:[(0,a.jsx)("div",{className:"absolute -right-12 -top-12 w-40 h-40 bg-emerald-400 rounded-full opacity-20 transform group-hover:scale-110 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-green-400 rounded-full opacity-20 transform group-hover:rotate-45 transition-transform duration-700"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 z-10",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Total Commission"}),(0,a.jsx)("div",{className:"p-2 rounded-full bg-white/10",children:(0,a.jsx)(h.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"mb-1 z-10 mt-2",children:(0,a.jsxs)("span",{className:"text-6xl font-extrabold",children:["$",Math.round(R.total_commission).toLocaleString()]})}),(0,a.jsx)("p",{className:"text-sm text-green-100 z-10 mb-5",children:"Total earned"}),(0,a.jsx)("div",{className:"flex justify-start mt-auto pt-3 z-10",children:(0,a.jsxs)("div",{className:"inline-flex items-center px-3 py-1.5 bg-white/20 rounded-full text-xs font-bold",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"})," 15% increase"]})})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-indigo-600 to-blue-700 p-4 shadow-lg text-white overflow-hidden relative group hover:shadow-2xl transition-all duration-300 rounded-2xl",children:[(0,a.jsx)("div",{className:"absolute -right-12 -top-12 w-40 h-40 bg-blue-400 rounded-full opacity-20 transform group-hover:scale-110 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-indigo-400 rounded-full opacity-20 transform group-hover:rotate-45 transition-transform duration-700"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 z-10",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Approval Rate"}),(0,a.jsx)("div",{className:"p-2 rounded-full bg-white/10",children:(0,a.jsx)(i.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"mb-1 z-10 mt-2",children:(0,a.jsxs)("span",{className:"text-6xl font-extrabold",children:[R.approval_rate,"%"]})}),(0,a.jsx)("p",{className:"text-sm text-indigo-100 z-10 mb-5",children:"Application success rate"}),(0,a.jsx)("div",{className:"flex justify-start mt-auto pt-3 z-10",children:(0,a.jsxs)("div",{className:"inline-flex items-center px-3 py-1.5 bg-white/20 rounded-full text-xs font-bold",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"})," 5% increase"]})})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-pink-600 to-purple-700 p-4 shadow-lg text-white overflow-hidden relative group hover:shadow-2xl transition-all duration-300 rounded-2xl",children:[(0,a.jsx)("div",{className:"absolute -right-12 -top-12 w-40 h-40 bg-purple-400 rounded-full opacity-20 transform group-hover:scale-110 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-indigo-400 rounded-full opacity-20 transform group-hover:rotate-45 transition-transform duration-700"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 z-10",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Average Policy Size"}),(0,a.jsx)("div",{className:"p-2 rounded-full bg-white/10",children:(0,a.jsx)(h.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"mb-1 z-10 mt-2",children:(0,a.jsxs)("span",{className:"text-6xl font-extrabold",children:["$",R.average_policy_size]})}),(0,a.jsx)("p",{className:"text-sm text-pink-100 z-10 mb-5",children:"Per policy"}),(0,a.jsx)("div",{className:"flex justify-start mt-auto pt-3 z-10",children:(0,a.jsxs)("div",{className:"inline-flex items-center px-3 py-1.5 bg-white/20 rounded-full text-xs font-bold",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"})," 10% increase"]})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-5 mb-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,a.jsx)("div",{className:"p-3 mr-3 bg-blue-100 rounded-xl",children:(0,a.jsx)($.Z,{className:"h-6 w-6 text-blue-600"})}),"Agent Performance"]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,a.jsxs)("span",{className:"text-sm font-bold text-gray-700 flex items-center",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-1.5 text-blue-500"}),"Average Turnaround Time"]}),(0,a.jsxs)("span",{className:"text-xl font-extrabold text-blue-600",children:[R.avg_turnaround_time," days"]})]}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-1000 ease-out",style:{width:`${Math.min(100,R.avg_turnaround_time/.25)}%`}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[(0,a.jsx)("span",{className:"font-medium",children:"Goal: 10 days"}),(0,a.jsx)("span",{className:"font-medium",children:"Industry avg: 15 days"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-bold text-gray-700 flex items-center",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 mr-1.5 text-green-500"}),"Application Completion Rate"]}),(0,a.jsx)("span",{className:"text-xl font-extrabold text-green-600",children:"91%"})]}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-green-600 rounded-full transition-all duration-1000 ease-out",style:{width:"91%"}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-bold text-gray-700 flex items-center",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-1.5 text-amber-500"}),"First-Call Resolution"]}),(0,a.jsx)("span",{className:"text-xl font-extrabold text-amber-600",children:"82%"})]}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-amber-500 rounded-full transition-all duration-1000 ease-out",style:{width:"82%"}})})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-4 border border-gray-200",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-3",children:"Quick Links"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("a",{href:"/manager/applications",className:"flex items-center p-3 bg-gray-50 rounded-xl hover:bg-indigo-50 transition-colors group border border-gray-100",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg group-hover:bg-blue-200 mr-3",children:(0,a.jsx)(k.Z,{className:"h-4 w-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-800 group-hover:text-blue-700 text-sm",children:"Applications"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Manage and review applications"})]}),(0,a.jsx)(F.Z,{className:"ml-auto h-4 w-4 text-gray-400 group-hover:text-blue-600"})]}),(0,a.jsxs)("a",{href:"/manager/agents",className:"flex items-center p-3 bg-gray-50 rounded-xl hover:bg-indigo-50 transition-colors group border border-gray-100",children:[(0,a.jsx)("div",{className:"p-2 bg-indigo-100 rounded-lg group-hover:bg-indigo-200 mr-3",children:(0,a.jsx)(_.Z,{className:"h-4 w-4 text-indigo-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-800 group-hover:text-indigo-700 text-sm",children:"Agents"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"View and manage your agents"})]}),(0,a.jsx)(F.Z,{className:"ml-auto h-4 w-4 text-gray-400 group-hover:text-indigo-600"})]}),(0,a.jsxs)("a",{href:"/manager/carriers",className:"flex items-center p-3 bg-gray-50 rounded-xl hover:bg-indigo-50 transition-colors group border border-gray-100",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg group-hover:bg-green-200 mr-3",children:(0,a.jsx)(M.Z,{className:"h-4 w-4 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-800 group-hover:text-green-700 text-sm",children:"Carriers"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Access carrier resources"})]}),(0,a.jsx)(F.Z,{className:"ml-auto h-4 w-4 text-gray-400 group-hover:text-green-600"})]}),(0,a.jsxs)("a",{href:"/manager/settings",className:"flex items-center p-3 bg-gray-50 rounded-xl hover:bg-indigo-50 transition-colors group border border-gray-100",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg group-hover:bg-purple-200 mr-3",children:(0,a.jsx)(L.Z,{className:"h-4 w-4 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-800 group-hover:text-purple-700 text-sm",children:"Settings"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Configure your account"})]}),(0,a.jsx)(F.Z,{className:"ml-auto h-4 w-4 text-gray-400 group-hover:text-purple-600"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-4 border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-gray-800",children:"Recent Activities"}),(0,a.jsx)("a",{href:"/manager/activities",className:"text-blue-600 hover:text-blue-800 text-xs font-medium",children:"View All"})]}),B.length>0?(0,a.jsx)("div",{className:"space-y-2",children:B.slice(0,3).map((e,t)=>{let s=(0,a.jsx)(k.Z,{className:"h-4 w-4 text-blue-600"}),l="bg-blue-100";"approval"===e.activity_type||"approved"===e.status||"issued"===e.status||"paid"===e.status?(s=(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-green-600"}),l="bg-green-100"):"attention"===e.activity_type||"needs attention"===e.status?(s=(0,a.jsx)(D.Z,{className:"h-4 w-4 text-amber-600"}),l="bg-amber-100"):"cancellation"===e.activity_type||"cancelled"===e.status||"declined"===e.status?(s=(0,a.jsx)(I.Z,{className:"h-4 w-4 text-red-600"}),l="bg-red-100"):("assignment"===e.activity_type||"agent_assigned"===e.activity_type)&&(s=(0,a.jsx)(P.Z,{className:"h-4 w-4 text-indigo-600"}),l="bg-indigo-100");let r="Application updated";return"approval"===e.activity_type?r="Application approved":"submission"===e.activity_type?r="New application submitted":"attention"===e.activity_type?r="Application needs attention":"cancellation"===e.activity_type?r="Application cancelled/declined":"assignment"===e.activity_type&&(r="Agent assigned to application"),(0,a.jsxs)("div",{className:"flex items-start p-2 rounded-xl hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:`${l} p-2 rounded-xl flex-shrink-0 mr-3`,children:s}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-800 text-sm",children:r}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:e.details||"Application update"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:en(e.created_at)})]})]},t)})}):(0,a.jsx)("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No recent activities available"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-4 border border-gray-200",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-3",children:"Key Metrics"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-xl p-3 border border-blue-100",children:[(0,a.jsx)("h3",{className:"text-xs font-medium text-gray-600 mb-1",children:"Applications"}),(0,a.jsx)("p",{className:"text-xl font-extrabold text-blue-600",children:R.total_applications}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Total submissions"})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-xl p-3 border border-green-100",children:[(0,a.jsx)("h3",{className:"text-xs font-medium text-gray-600 mb-1",children:"Commission"}),(0,a.jsxs)("p",{className:"text-xl font-extrabold text-green-600",children:["$",Math.round(R.total_commission).toLocaleString()]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Total earned"})]}),(0,a.jsxs)("div",{className:"bg-indigo-50 rounded-xl p-3 border border-indigo-100",children:[(0,a.jsx)("h3",{className:"text-xs font-medium text-gray-600 mb-1",children:"Approval Rate"}),(0,a.jsxs)("p",{className:"text-xl font-extrabold text-indigo-600",children:[R.approval_rate,"%"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Application success"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-xl p-3 border border-purple-100",children:[(0,a.jsx)("h3",{className:"text-xs font-medium text-gray-600 mb-1",children:"Avg Premium"}),(0,a.jsxs)("p",{className:"text-xl font-extrabold text-purple-600",children:["$",R.average_policy_size]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Per policy"})]})]})]})]})]})}},82157:function(e,t,s){"use strict";s.d(t,{e:function(){return l}});var a=s(64392);let l=()=>(0,a.createClientComponentClient)({supabaseUrl:"https://iufyuzmigirugcufrtvt.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml1Znl1em1pZ2lydWdjdWZydHZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwMzQxMjcsImV4cCI6MjA2MDYxMDEyN30.V38OGEX1Oy3gFfu5ClGWRk3xYAhb_DVr-5ojOQZ1UfU"});(0,a.createClientComponentClient)({supabaseUrl:"https://iufyuzmigirugcufrtvt.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml1Znl1em1pZ2lydWdjdWZydHZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwMzQxMjcsImV4cCI6MjA2MDYxMDEyN30.V38OGEX1Oy3gFfu5ClGWRk3xYAhb_DVr-5ojOQZ1UfU"})}},function(e){e.O(0,[4392,1814,2971,7023,1744],function(){return e(e.s=98853)}),_N_E=e.O()}]);