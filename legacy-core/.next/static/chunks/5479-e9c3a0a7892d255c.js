"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5479],{87992:function(e,r,t){t.d(r,{X:function(){return o},bZ:function(){return n}});var a=t(57437),s=t(2265),d=t(13027),l=t(49354);let i=(0,d.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:border-green-500 [&>svg]:text-green-600",warning:"border-yellow-500/50 text-yellow-600 dark:border-yellow-500 [&>svg]:text-yellow-600",info:"border-blue-500/50 text-blue-600 dark:border-blue-500 [&>svg]:text-blue-600"}},defaultVariants:{variant:"default"}}),n=s.forwardRef((e,r)=>{let{className:t,variant:s,...d}=e;return(0,a.jsx)("div",{ref:r,role:"alert",className:(0,l.cn)(i({variant:s}),t),...d})});n.displayName="Alert",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h5",{ref:r,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",t),...s})}).displayName="AlertTitle";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",t),...s})});o.displayName="AlertDescription"},79055:function(e,r,t){t.d(r,{C:function(){return i}});var a=t(57437);t(2265);var s=t(13027),d=t(49354);let l=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{className:(0,d.cn)(l({variant:t}),r),...s})}},89733:function(e,r,t){t.d(r,{d:function(){return n},z:function(){return o}});var a=t(57437),s=t(2265),d=t(71538),l=t(13027),i=t(49354);let n=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,r)=>{let{className:t,variant:s,size:l,asChild:o=!1,...c}=e,u=o?d.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(n({variant:s,size:l,className:t})),ref:r,...c})});o.displayName="Button"},24853:function(e,r,t){t.d(r,{Z:function(){return v}});var a=t(57437),s=t(2265),d=t(54662),l=t(89733),i=t(77209),n=t(70402),o=t(4919),c=t(44541),u=t(69081),m=t(82157),p=t(73657),g=t(24241),x=t(77515),f=t(40933),b=t(21413),h=t(49354),y=t(87992);function v(e){let{isOpen:r,onClose:t,onSave:v,event:w,isEditing:k=!1}=e,[N,j]=(0,s.useState)(w?.title||""),[_,z]=(0,s.useState)(w?.description||""),[C,M]=(0,s.useState)(void 0),[D,I]=(0,s.useState)(""),[S,Z]=(0,s.useState)(void 0),[E,U]=(0,s.useState)(""),[W,O]=(0,s.useState)(w?.is_all_day||!1),[T,V]=(0,s.useState)(!1),[X,H]=(0,s.useState)(null),[F,R]=(0,s.useState)(null),[A,J]=(0,s.useState)({}),Y=(0,m.e)();(0,s.useEffect)(()=>{if(w?.start_time){let e=new Date(w.start_time);M(e),W||I((0,p.WU)(e,"HH:mm"))}else{let e=new Date;M(e),W||I((0,p.WU)(e,"HH:mm"))}if(w?.end_time){let e=new Date(w.end_time);Z(e),W||U((0,p.WU)(e,"HH:mm"))}else{let e=new Date;e.setHours(e.getHours()+1),Z(e),W||U((0,p.WU)(e,"HH:mm"))}O(w?.is_all_day||!1)},[w,W]),(0,s.useEffect)(()=>{(async()=>{let{data:{session:e}}=await Y.auth.getSession();if(e?.user?.id){let{data:r,error:t}=await Y.from("profiles").select("organization_id").eq("id",e.user.id).single();r?.organization_id&&R(r.organization_id)}})()},[]);let q=()=>{let e={},r=!0;if(N?.trim()||(e.title="Title is required",r=!1),C||(e.startDate="Start date is required",r=!1),W||D||(e.startTime="Start time is required",r=!1),S||(e.endDate="End date is required",r=!1),W||E||(e.endTime="End time is required",r=!1),C&&S){let t,a;if(W)(t=new Date(C)).setHours(0,0,0,0),(a=new Date(S)).setHours(23,59,59,999),a<t&&(e.endDate="End date must be on or after start date",r=!1);else if(D&&E){let[s,d]=D.split(":").map(Number),[l,i]=E.split(":").map(Number);(t=new Date(C)).setHours(s,d,0,0),(a=new Date(S)).setHours(l,i,0,0),a<t&&(e.endTime="End time must be after start time",r=!1)}}return J(e),r},P=async()=>{try{let e,r;if(H(null),!q())return;V(!0);let{data:{session:t}}=await Y.auth.getSession();if(!t?.user?.id){H("You must be logged in to create events");return}if(W)(e=new Date(C)).setHours(0,0,0,0),(r=new Date(S)).setHours(23,59,59,999);else{let[t,a]=D.split(":").map(Number),[s,d]=E.split(":").map(Number);(e=new Date(C)).setHours(t,a,0,0),(r=new Date(S)).setHours(s,d,0,0)}let a={...w,title:N,description:_||null,start_time:e.toISOString(),end_time:r.toISOString(),is_all_day:W,organizer_id:t.user.id,organization_id:F};await v(a),L()}catch(e){console.error("Error saving event:",e),H(e.message||"Failed to save event")}finally{V(!1)}},L=()=>{J({}),H(null),t()};return(0,a.jsx)(d.Vq,{open:r,onOpenChange:L,children:(0,a.jsxs)(d.cZ,{className:"sm:max-w-[500px] p-0 overflow-hidden bg-white dark:bg-gray-900 shadow-xl border border-gray-200 dark:border-gray-800 rounded-lg",children:[(0,a.jsx)(d.fK,{className:"bg-gradient-to-r from-blue-100 to-indigo-100 dark:from-blue-950 dark:to-indigo-950 px-6 py-5 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)(d.$N,{className:"text-xl font-semibold flex items-center gap-2 text-gray-900 dark:text-white",children:[(0,a.jsx)(g.Z,{className:"h-5 w-5 text-primary"}),k?"Edit Event":"Add New Event"]})}),(0,a.jsxs)("div",{className:"grid gap-5 p-6 max-h-[calc(85vh-180px)] overflow-y-auto bg-white dark:bg-gray-900",children:[X&&(0,a.jsxs)(y.bZ,{variant:"destructive",className:"mb-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4"}),(0,a.jsx)(y.X,{className:"ml-2",children:X})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)(n._,{htmlFor:"title",className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Title",(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsx)(i.I,{id:"title",value:N,onChange:e=>j(e.target.value),placeholder:"Event title",className:(0,h.cn)("transition-all focus-visible:ring-primary border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 h-10 shadow-sm",A.title&&"border-red-500 focus-visible:ring-red-500")}),A.title&&(0,a.jsx)("p",{className:"text-xs text-red-500 mt-1",children:A.title})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(n._,{htmlFor:"description",className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Description"}),(0,a.jsx)(o.g,{id:"description",value:_||"",onChange:e=>z(e.target.value),placeholder:"Event description (optional)",rows:3,className:"resize-none focus-visible:ring-primary border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 py-2 px-3 rounded-md bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)(c.X,{id:"all-day",checked:W,onCheckedChange:e=>O(e),className:"data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground border-gray-300 dark:border-gray-700"}),(0,a.jsx)(n._,{htmlFor:"all-day",className:"text-sm font-medium cursor-pointer hover:text-primary transition-colors text-gray-900 dark:text-gray-100",children:"All day event"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)(n._,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Start Date",(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)(b.J2,{children:[(0,a.jsx)(b.xo,{asChild:!0,children:(0,a.jsxs)(l.z,{variant:"outline",className:(0,h.cn)("justify-start text-left font-normal transition-all border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm h-10",!C&&"text-gray-500 dark:text-gray-400",A.startDate&&"border-red-500 text-red-500 focus-visible:ring-red-500"),children:[(0,a.jsx)(g.Z,{className:"mr-2 h-4 w-4 text-gray-500 dark:text-gray-400"}),C?(0,p.WU)(C,"PPP"):(0,a.jsx)("span",{children:"Pick a date"})]})}),(0,a.jsx)(b.yk,{className:"w-auto p-0",align:"start",children:(0,a.jsx)(u.f,{mode:"single",selected:C,onSelect:e=>{M(e),e&&(!S||e>S)&&Z(e)},initialFocus:!0,className:"rounded-md border border-gray-200 dark:border-gray-700"})})]}),A.startDate&&(0,a.jsx)("p",{className:"text-xs text-red-500 mt-1",children:A.startDate})]}),!W&&(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)(n._,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Start Time",(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500 dark:text-gray-400"}),(0,a.jsx)(i.I,{type:"time",value:D,onChange:e=>I(e.target.value),className:(0,h.cn)("pl-10 transition-all focus-visible:ring-primary border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm h-10",A.startTime&&"border-red-500 focus-visible:ring-red-500")})]}),A.startTime&&(0,a.jsx)("p",{className:"text-xs text-red-500 mt-1",children:A.startTime})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)(n._,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["End Date",(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)(b.J2,{children:[(0,a.jsx)(b.xo,{asChild:!0,children:(0,a.jsxs)(l.z,{variant:"outline",className:(0,h.cn)("justify-start text-left font-normal transition-all border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm h-10",!S&&"text-gray-500 dark:text-gray-400",A.endDate&&"border-red-500 text-red-500 focus-visible:ring-red-500"),children:[(0,a.jsx)(g.Z,{className:"mr-2 h-4 w-4 text-gray-500 dark:text-gray-400"}),S?(0,p.WU)(S,"PPP"):(0,a.jsx)("span",{children:"Pick a date"})]})}),(0,a.jsx)(b.yk,{className:"w-auto p-0",align:"start",children:(0,a.jsx)(u.f,{mode:"single",selected:S,onSelect:Z,initialFocus:!0,className:"rounded-md border border-gray-200 dark:border-gray-700",disabled:e=>!!C&&e<new Date(C)})})]}),A.endDate&&(0,a.jsx)("p",{className:"text-xs text-red-500 mt-1",children:A.endDate})]}),!W&&(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)(n._,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["End Time",(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500 dark:text-gray-400"}),(0,a.jsx)(i.I,{type:"time",value:E,onChange:e=>U(e.target.value),className:(0,h.cn)("pl-10 transition-all focus-visible:ring-primary border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm h-10",A.endTime&&"border-red-500 focus-visible:ring-red-500")})]}),A.endTime&&(0,a.jsx)("p",{className:"text-xs text-red-500 mt-1",children:A.endTime})]})]})]}),(0,a.jsxs)(d.cN,{className:"flex gap-2 p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[(0,a.jsx)(l.z,{variant:"outline",onClick:L,className:"flex-1 border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300",disabled:T,children:"Cancel"}),(0,a.jsx)(l.z,{onClick:P,disabled:T,className:"flex-1 relative bg-primary hover:bg-primary/90 text-white font-medium shadow-sm",children:T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"opacity-0",children:"Save Event"}),(0,a.jsx)("span",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}):k?"Update Event":"Save Event"})]})]})})}},69081:function(e,r,t){t.d(r,{f:function(){return o}});var a=t(57437);t(2265);var s=t(70518),d=t(87592),l=t(67932),i=t(49354),n=t(89733);function o(e){let{className:r,classNames:t,showOutsideDays:o=!0,...c}=e;return(0,a.jsx)(l._,{showOutsideDays:o,className:(0,i.cn)("p-3",r),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,n.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,n.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:e=>{let{...r}=e;return(0,a.jsx)(s.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...r}=e;return(0,a.jsx)(d.Z,{className:"h-4 w-4"})}},...c})}o.displayName="Calendar"},44541:function(e,r,t){t.d(r,{X:function(){return n}});var a=t(57437),s=t(2265),d=t(69324),l=t(22468),i=t(49354);let n=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(d.fC,{ref:r,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-gray-200 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-gray-900 data-[state=checked]:text-gray-50 dark:border-gray-800 dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300 dark:data-[state=checked]:bg-gray-50 dark:data-[state=checked]:text-gray-900",t),...s,children:(0,a.jsx)(d.z$,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(l.Z,{className:"h-3.5 w-3.5"})})})});n.displayName=d.fC.displayName},54662:function(e,r,t){t.d(r,{$N:function(){return x},Be:function(){return f},Vq:function(){return n},cN:function(){return g},cZ:function(){return m},fK:function(){return p},hg:function(){return o}});var a=t(57437),s=t(2265),d=t(32226),l=t(74697),i=t(49354);let n=d.fC,o=d.xz,c=d.h_;d.x8;let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(d.aV,{ref:r,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s})});u.displayName=d.aV.displayName;let m=s.forwardRef((e,r)=>{let{className:t,children:s,...n}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(d.VY,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[s,(0,a.jsxs)(d.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=d.VY.displayName;let p=e=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",r),...t})};p.displayName="DialogHeader";let g=e=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...t})};g.displayName="DialogFooter";let x=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(d.Dx,{ref:r,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...s})});x.displayName=d.Dx.displayName;let f=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(d.dk,{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",t),...s})});f.displayName=d.dk.displayName},67091:function(e,r,t){t.d(r,{n:function(){return W}});var a=t(57437),s=t(2265),d=t(2393),l=t(73657),i=t(54461),n=t(33673),o=t(1774),c=t(70218),u=t(4192),m=t(87474),p=t(76538),g=t(92991),x=t(49105),f=t(97300),b=t(54817),h=t(74697),y=t(70518),v=t(87592),w=t(55715),k=t(40933),N=t(52022),j=t(24241),_=t(49354),z=t(89733),C=t(70325);let M=s.forwardRef((e,r)=>{let{className:t,orientation:s="horizontal",decorative:d=!0,...l}=e;return(0,a.jsx)(C.f,{ref:r,decorative:d,orientation:s,className:(0,_.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",t),...l})});M.displayName=C.f.displayName;var D=t(89736),I=t(79055),S=t(77209),Z=t(2183);let E=["","col-start-2","col-start-3","col-start-4","col-start-5","col-start-6","col-start-7"],U=["bg-blue-100 border-blue-300 text-blue-700 hover:bg-blue-200 dark:bg-blue-900/40 dark:border-blue-700 dark:text-blue-300 dark:hover:bg-blue-800/60","bg-green-100 border-green-300 text-green-700 hover:bg-green-200 dark:bg-green-900/40 dark:border-green-700 dark:text-green-300 dark:hover:bg-green-800/60","bg-purple-100 border-purple-300 text-purple-700 hover:bg-purple-200 dark:bg-purple-900/40 dark:border-purple-700 dark:text-purple-300 dark:hover:bg-purple-800/60","bg-yellow-100 border-yellow-300 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900/40 dark:border-yellow-700 dark:text-yellow-300 dark:hover:bg-yellow-800/60","bg-pink-100 border-pink-300 text-pink-700 hover:bg-pink-200 dark:bg-pink-900/40 dark:border-pink-700 dark:text-pink-300 dark:hover:bg-pink-800/60","bg-indigo-100 border-indigo-300 text-indigo-700 hover:bg-indigo-200 dark:bg-indigo-900/40 dark:border-indigo-700 dark:text-indigo-300 dark:hover:bg-indigo-800/60","bg-red-100 border-red-300 text-red-700 hover:bg-red-200 dark:bg-red-900/40 dark:border-red-700 dark:text-red-300 dark:hover:bg-red-800/60"];function W(e){let{data:r,onEventClick:t,onAddEvent:C,isLoading:W=!1}=e,O=(0,d.I)(),[T,V]=s.useState(O),[X,H]=s.useState((0,l.WU)(O,"MMM-yyyy")),[F,R]=s.useState(""),[A,J]=s.useState(r),[Y,q]=s.useState(null),[P,L]=s.useState(!0),Q=(0,i.Qc)(X,"MMM-yyyy",new Date),G=function(e){let[r,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{function r(e){t(e.matches)}let a=window.matchMedia(e);return t(a.matches),a.addEventListener("change",r),()=>a.removeEventListener("change",r)},[e]),r}("(min-width: 768px)"),B=(0,n.D)({start:(0,o.z)(Q),end:(0,c.v)((0,u.V)(Q))});s.useEffect(()=>{J(r)},[r]),s.useEffect(()=>{if(""===F.trim())J(r);else{let e=F.toLowerCase();J(r.map(r=>{let t=r.events.filter(r=>r.name.toLowerCase().includes(e)||r.description&&r.description.toLowerCase().includes(e));return{...r,events:t}}).filter(e=>e.events.length>0))}},[F,r]);let K=(e,r)=>{r.stopPropagation(),t&&e&&t({id:e.id,title:e.name,description:e.description,start_time:e.datetime,end_time:e.end_time,organizer_id:e.organizer_id,is_all_day:e.is_all_day})},$=e=>U[("string"==typeof e?e.split("").reduce((e,r)=>e+r.charCodeAt(0),0):Number(e))%U.length],ee=e=>{V(e),C&&C()};return(0,a.jsxs)("div",{className:"flex flex-1 flex-col rounded-lg border shadow-md bg-white dark:bg-gray-950 overflow-hidden h-full",children:[(0,a.jsxs)("div",{className:"flex flex-col space-y-4 p-4 md:p-5 bg-gradient-to-r from-purple-100/90 to-indigo-100/90 dark:from-purple-950 dark:to-indigo-950 border-b border-purple-200 dark:border-purple-800/60 md:flex-row md:items-center md:justify-between md:space-y-0 lg:flex-none",children:[(0,a.jsx)("div",{className:"flex flex-auto",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"hidden w-20 flex-col items-center justify-center rounded-lg border-2 border-purple-300 dark:border-purple-700 shadow-md bg-white dark:bg-gray-800 p-0.5 md:flex",children:[(0,a.jsx)("h1",{className:"p-1 text-xs font-semibold uppercase text-purple-700 dark:text-purple-300",children:(0,l.WU)(O,"MMM")}),(0,a.jsx)("div",{className:"flex w-full items-center justify-center rounded-md bg-gradient-to-br from-purple-500 to-indigo-600 dark:from-purple-600 dark:to-indigo-700 p-0.5 text-lg font-bold text-white",children:(0,a.jsx)("span",{children:(0,l.WU)(O,"d")})})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-purple-800 dark:text-purple-200",children:(0,l.WU)(Q,"MMMM, yyyy")}),(0,a.jsxs)("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:[(0,l.WU)(Q,"MMM d, yyyy")," -"," ",(0,l.WU)((0,u.V)(Q),"MMM d, yyyy")]})]})]})}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 md:flex-row md:gap-6",children:[(0,a.jsxs)("div",{className:"relative w-full md:w-auto",children:[(0,a.jsx)(b.Z,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-purple-500 dark:text-purple-400"}),(0,a.jsx)(S.I,{placeholder:"Search events",value:F,onChange:e=>R(e.target.value),className:"w-full pl-9 md:w-[220px] border-purple-200 dark:border-purple-700 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 shadow-sm rounded-md"}),F&&(0,a.jsx)("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-purple-500 hover:text-purple-700 dark:hover:text-purple-300",onClick:()=>R(""),children:(0,a.jsx)(h.Z,{size:14})})]}),(0,a.jsx)(M,{orientation:"vertical",className:"hidden h-6 lg:block"}),(0,a.jsxs)("div",{className:"inline-flex w-full -space-x-px rounded-lg shadow-sm shadow-purple-200/50 dark:shadow-purple-950/20 md:w-auto rtl:space-x-reverse",children:[(0,a.jsx)(z.z,{onClick:function(){let e=(0,m.I)(Q,{months:-1});H((0,l.WU)(e,"MMM-yyyy"))},className:"rounded-l-lg border-purple-200 dark:border-purple-800 shadow-sm first:rounded-s-lg last:rounded-e-lg focus-visible:z-10 hover:bg-purple-50 dark:hover:bg-purple-900/30",variant:"outline",size:"icon","aria-label":"Navigate to previous month",children:(0,a.jsx)(y.Z,{size:16,strokeWidth:2,className:"text-purple-700 dark:text-purple-300"})}),(0,a.jsx)(z.z,{onClick:function(){H((0,l.WU)(O,"MMM-yyyy")),V(O)},className:"w-full border-purple-200 dark:border-purple-800 shadow-sm focus-visible:z-10 md:w-auto hover:bg-purple-50 dark:hover:bg-purple-900/30 text-purple-700 dark:text-purple-300 font-medium",variant:"outline",children:"Today"}),(0,a.jsx)(z.z,{onClick:function(){let e=(0,m.I)(Q,{months:1});H((0,l.WU)(e,"MMM-yyyy"))},className:"rounded-r-lg border-purple-200 dark:border-purple-800 shadow-sm first:rounded-s-lg last:rounded-e-lg focus-visible:z-10 hover:bg-purple-50 dark:hover:bg-purple-900/30",variant:"outline",size:"icon","aria-label":"Navigate to next month",children:(0,a.jsx)(v.Z,{size:16,strokeWidth:2,className:"text-purple-700 dark:text-purple-300"})})]}),(0,a.jsx)(M,{orientation:"vertical",className:"hidden h-6 md:block"}),(0,a.jsx)(M,{orientation:"horizontal",className:"block w-full md:hidden"}),(0,a.jsxs)(z.z,{onClick:()=>{C&&C()},variant:"default",className:"w-full md:w-auto bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 border-0 text-white font-medium shadow-md hover:shadow-lg transition-all duration-200",children:[(0,a.jsx)(w.Z,{size:16,className:"mr-2"}),"Add Event"]})]})]}),(0,a.jsxs)("div",{className:"flex-1 p-4 md:px-6 md:py-5 overflow-auto",children:[(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-px rounded-t-lg bg-purple-200 dark:bg-purple-900/50 text-center text-sm font-medium leading-6 text-purple-900 dark:text-purple-200 shadow-sm overflow-hidden sticky top-0 z-10",children:[(0,a.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Sun"}),(0,a.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Mon"}),(0,a.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Tue"}),(0,a.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Wed"}),(0,a.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Thu"}),(0,a.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Fri"}),(0,a.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/60 py-3 font-bold border-b-2 border-purple-300 dark:border-purple-700",children:"Sat"})]}),(0,a.jsx)("div",{className:"isolate grid grid-cols-7 gap-px rounded-b-lg overflow-hidden bg-purple-200 dark:bg-purple-900/50 text-sm shadow-md",children:B.map((e,r)=>{let t=(0,l.WU)(e,"yyyy-MM-dd"),s=A.find(e=>l.WU(e.day,"yyyy-MM-dd")===t)?.events||[],d=s.length,i=G?3:2,n=Math.max(0,d-i);return(0,a.jsxs)("div",{className:(0,_.cn)("relative min-h-[120px] md:min-h-[150px] lg:min-h-[170px] bg-white dark:bg-gray-900 p-2.5 transition-colors border border-purple-100 dark:border-transparent",(0,p.X)(e,T)&&"bg-purple-50 dark:bg-purple-900/20 shadow-[inset_0_0_0_2px_theme(colors.purple.400)]",!(0,p.X)(e,T)&&(0,g.z)(e)&&"bg-indigo-50 dark:bg-indigo-900/20 shadow-[inset_0_0_0_1.5px_theme(colors.indigo.400)] dark:shadow-[inset_0_0_0_1.5px_theme(colors.indigo.600),_0_0_15px_theme(colors.indigo.700)]",!(0,x.x)(e,Q)&&"bg-gray-50/80 dark:bg-gray-950/70",0===r&&E[(0,f.w)(e)],"cursor-pointer flex flex-col hover:bg-purple-50/70 dark:hover:bg-purple-900/20"),onMouseEnter:()=>q(e),onMouseLeave:()=>q(null),onClick:()=>ee(e),children:[(0,a.jsx)("time",{dateTime:(0,l.WU)(e,"yyyy-MM-dd"),className:(0,_.cn)("ml-auto flex h-7 w-7 items-center justify-center rounded-full font-semibold transition-all",(0,p.X)(e,T)&&"bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-md",!(0,p.X)(e,T)&&(0,g.z)(e)&&"bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-md ring-2 ring-indigo-400/30 dark:ring-indigo-300/20",!(0,p.X)(e,T)&&(0,x.x)(e,Q)&&!(0,g.z)(e)&&"text-gray-900 dark:text-gray-100",!(0,p.X)(e,T)&&!(0,x.x)(e,Q)&&!(0,g.z)(e)&&"text-gray-400 dark:text-gray-500",(0,p.X)(e,Y)&&!(0,p.X)(e,T)&&!(0,g.z)(e)&&"bg-purple-100 dark:bg-purple-800/20 text-purple-700 dark:text-purple-300","mb-1.5"),children:(0,l.WU)(e,"d")}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto space-y-1.5 w-full text-left scrollbar-hide",children:s.slice(0,i).map(e=>(0,a.jsx)(D.pn,{delayDuration:200,children:(0,a.jsxs)(D.u,{children:[(0,a.jsx)(D.aJ,{asChild:!0,children:(0,a.jsxs)("div",{className:(0,_.cn)("px-2.5 py-1.5 text-xs rounded-md border shadow-sm hover:shadow-md truncate w-full transition-all",$(e.id),"cursor-pointer"),onClick:r=>K(e,r),children:[(0,a.jsx)("div",{className:"font-semibold truncate",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center text-[10px] opacity-80 mt-0.5",children:[(0,a.jsx)(k.Z,{className:"h-2.5 w-2.5 mr-1 inline-block"})," ",e.time]})]})}),(0,a.jsxs)(D._v,{className:"p-4 space-y-2 max-w-xs rounded-lg shadow-lg bg-white dark:bg-gray-800 border border-purple-100 dark:border-purple-800",children:[(0,a.jsx)("div",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-600 dark:text-gray-300",children:[(0,a.jsx)(k.Z,{className:"h-3 w-3 mr-1"})," ",e.time]}),e.description&&(0,a.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-300 line-clamp-3",children:e.description}),e.organizer_id&&(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[(0,a.jsx)(N.Z,{className:"h-3 w-3 mr-1"})," Organizer ID: ",e.organizer_id.substring(0,8),"..."]})]})]})},e.id))}),n>0&&(0,a.jsx)("div",{className:"mt-1.5",children:(0,a.jsxs)(I.C,{variant:"secondary",className:"text-[9px] h-5 px-1.5 rounded-full shadow-sm bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300 font-medium",children:["+",n," more"]})}),(0,p.X)(e,Y)&&(0,a.jsx)(z.z,{size:"icon",variant:"ghost",className:"absolute bottom-1.5 right-1.5 h-6 w-6 rounded-full opacity-90 hover:opacity-100 bg-gradient-to-br from-purple-500/20 to-indigo-500/20 hover:from-purple-500/30 hover:to-indigo-500/30 border border-purple-300/50 dark:border-purple-700/50 shadow-sm",onClick:r=>{r.stopPropagation(),ee(e)},children:(0,a.jsx)(w.Z,{size:14,className:"text-purple-700 dark:text-purple-300"})}),((0,p.X)(e,T)||(0,g.z)(e))&&!(0,p.X)(e,Y)&&(0,a.jsx)("div",{className:"absolute right-1 bottom-1 w-2 h-2 rounded-full bg-purple-400 dark:bg-purple-500"})]},e.toString())})})]}),0===r.length&&!W&&P&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-transparent backdrop-blur-none pointer-events-none",children:(0,a.jsxs)("div",{className:"text-center p-6 bg-white/95 dark:bg-gray-900/95 rounded-lg shadow-lg border border-purple-100 dark:border-purple-900 max-w-md relative pointer-events-auto",children:[(0,a.jsx)("button",{onClick:()=>L(!1),className:"absolute top-2 right-2 p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400","aria-label":"Close",children:(0,a.jsx)(h.Z,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-purple-100 dark:bg-purple-900/50 mb-4",children:(0,a.jsx)(j.Z,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Events Yet"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Your calendar is empty. Add your first event to get started."}),(0,a.jsxs)(z.z,{onClick:()=>{L(!1),C&&C()},className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white shadow-md",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Add Your First Event"]})]})}),W&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"space-y-6 w-72 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-purple-100 dark:border-purple-900",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(Z.O,{className:"h-5 w-40 mx-auto"}),(0,a.jsx)(Z.O,{className:"h-10 w-full"})]}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1.5",children:Array.from({length:7}).map((e,r)=>(0,a.jsx)(Z.O,{className:"h-5 w-full"},r))}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1.5",children:Array.from({length:35}).map((e,r)=>(0,a.jsx)(Z.O,{className:"h-24 w-full"},r))})]})})]})}},77209:function(e,r,t){t.d(r,{I:function(){return l}});var a=t(57437),s=t(2265),d=t(49354);let l=s.forwardRef((e,r)=>{let{className:t,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...l})});l.displayName="Input"},70402:function(e,r,t){t.d(r,{_:function(){return i}});var a=t(57437),s=t(2265),d=t(38364),l=t(49354);let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(d.f,{ref:r,className:(0,l.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...s})});i.displayName=d.f.displayName},21413:function(e,r,t){t.d(r,{J2:function(){return i},xo:function(){return n},yk:function(){return o}});var a=t(57437),s=t(2265),d=t(7568),l=t(49354);let i=d.fC,n=d.xz,o=s.forwardRef((e,r)=>{let{className:t,align:s="center",sideOffset:i=4,...n}=e;return(0,a.jsx)(d.h_,{children:(0,a.jsx)(d.VY,{ref:r,align:s,sideOffset:i,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});o.displayName=d.VY.displayName},2183:function(e,r,t){t.d(r,{O:function(){return d}});var a=t(57437),s=t(49354);function d(e){let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",r),...t})}},4919:function(e,r,t){t.d(r,{g:function(){return l}});var a=t(57437),s=t(2265),d=t(49354);let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s})});l.displayName="Textarea"},89736:function(e,r,t){t.d(r,{_v:function(){return c},aJ:function(){return o},pn:function(){return i},u:function(){return n}});var a=t(57437),s=t(2265),d=t(60364),l=t(49354);let i=d.zt,n=d.fC,o=d.xz,c=s.forwardRef((e,r)=>{let{className:t,sideOffset:s=4,...i}=e;return(0,a.jsx)(d.VY,{ref:r,sideOffset:s,className:(0,l.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})});c.displayName=d.VY.displayName},70371:function(e,r,t){t.d(r,{f:function(){return o}});var a=t(2265),s=t(82157),d=t(80624),l=t(73657),i=t(93275),n=t(14909);function o(){let[e,r]=(0,a.useState)([]),[t,o]=(0,a.useState)(!0),[c,u]=(0,a.useState)(null),m=(0,s.e)(),p=async()=>{try{o(!0);let{data:{session:e}}=await m.auth.getSession();if(!e?.user?.id){r([]);return}let{data:t,error:a}=await m.from("calendar_events").select("*").eq("organizer_id",e.user.id).order("start_time",{ascending:!0});if(a)throw a;r(t||[])}catch(e){console.error("Error fetching calendar events:",e),u(e.message||"Failed to load calendar events")}finally{o(!1)}},g=async e=>{try{o(!0);let{data:t,error:a}=await m.from("calendar_events").insert(e).select().single();if(a)throw a;return r(e=>[...e,t]),t}catch(e){throw console.error("Error adding calendar event:",e),u(e.message||"Failed to add calendar event"),e}finally{o(!1)}},x=async(e,t)=>{try{o(!0);let{data:a,error:s}=await m.from("calendar_events").update(t).eq("id",e).select().single();if(s)throw s;return r(r=>r.map(r=>r.id===e?a:r)),a}catch(e){throw console.error("Error updating calendar event:",e),u(e.message||"Failed to update calendar event"),e}finally{o(!1)}},f=async e=>{try{o(!0);let{error:t}=await m.from("calendar_events").delete().eq("id",e);if(t)throw t;r(r=>r.filter(r=>r.id!==e))}catch(e){throw console.error("Error deleting calendar event:",e),u(e.message||"Failed to delete calendar event"),e}finally{o(!1)}};return(0,a.useEffect)(()=>{p();let e=setInterval(()=>{p()},6e4);return()=>clearInterval(e)},[]),{events:e,loading:t,error:c,fetchEvents:p,addEvent:g,updateEvent:x,deleteEvent:f,formatEventsForCalendar:()=>{let r=new Map;return e.forEach(e=>{let t=(0,d.D)(e.start_time),a=(0,d.D)(e.end_time),s=(0,l.WU)(t,"yyyy-MM-dd"),n=e.is_all_day?"All day":(0,l.WU)(t,"h:mm a");!e.is_all_day&&(0,i.K)(t,a)&&(n+=` - ${(0,l.WU)(a,"h:mm a")}`);let o={id:e.id,name:e.title,time:n,datetime:e.start_time,description:e.description||void 0,end_time:e.end_time,organizer_id:e.organizer_id,is_all_day:e.is_all_day};r.has(s)||r.set(s,[]),r.get(s)?.push(o)}),Array.from(r.entries()).map(e=>{let[r,t]=e;return{day:(0,d.D)(r),events:t.sort((e,r)=>e.is_all_day&&!r.is_all_day?-1:!e.is_all_day&&r.is_all_day?1:new Date(e.datetime).getTime()-new Date(r.datetime).getTime())}})},isUpcomingEvent:e=>{let r=(0,d.D)(e),t=new Date,a=(r.getTime()-t.getTime())/36e5;return a>0&&a<=1},formatTimeDistance:e=>{try{return(0,n.Q)((0,d.D)(e),{addSuffix:!0})}catch(e){return"unknown time"}}}}},82157:function(e,r,t){t.d(r,{e:function(){return s}});var a=t(64392);let s=()=>(0,a.createClientComponentClient)({supabaseUrl:"https://iufyuzmigirugcufrtvt.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml1Znl1em1pZ2lydWdjdWZydHZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwMzQxMjcsImV4cCI6MjA2MDYxMDEyN30.V38OGEX1Oy3gFfu5ClGWRk3xYAhb_DVr-5ojOQZ1UfU"});(0,a.createClientComponentClient)({supabaseUrl:"https://iufyuzmigirugcufrtvt.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml1Znl1em1pZ2lydWdjdWZydHZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwMzQxMjcsImV4cCI6MjA2MDYxMDEyN30.V38OGEX1Oy3gFfu5ClGWRk3xYAhb_DVr-5ojOQZ1UfU"})},49354:function(e,r,t){t.d(r,{cn:function(){return d}});var a=t(44839),s=t(96164);function d(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,a.W)(r))}}}]);